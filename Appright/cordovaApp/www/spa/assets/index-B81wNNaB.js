var Qv=n=>{throw TypeError(n)};var pp=(n,e,t)=>e.has(n)||Qv("Cannot "+t);var Z=(n,e,t)=>(pp(n,e,"read from private field"),t?t.call(n):e.get(n)),Xe=(n,e,t)=>e.has(n)?Qv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Me=(n,e,t,r)=>(pp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),sn=(n,e,t)=>(pp(n,e,"access private method"),t);var id=(n,e,t,r)=>({set _(o){Me(n,e,o,t)},get _(){return Z(n,e,r)}});function K1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function R0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},Ql={},gp={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Q1(){if(Yv)return je;Yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function S(U,K,ue){this.props=U,this.context=K,this.refs=A,this.updater=ue||T}S.prototype.isReactComponent={},S.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=S.prototype;function z(U,K,ue){this.props=U,this.context=K,this.refs=A,this.updater=ue||T}var B=z.prototype=new j;B.constructor=z,R(B,S.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function x(U,K,ue){var ge,Se={},Ve=null,Ie=null;if(K!=null)for(ge in K.ref!==void 0&&(Ie=K.ref),K.key!==void 0&&(Ve=""+K.key),K)Y.call(K,ge)&&!k.hasOwnProperty(ge)&&(Se[ge]=K[ge]);var Ue=arguments.length-2;if(Ue===1)Se.children=ue;else if(1<Ue){for(var He=Array(Ue),rt=0;rt<Ue;rt++)He[rt]=arguments[rt+2];Se.children=He}if(U&&U.defaultProps)for(ge in Ue=U.defaultProps,Ue)Se[ge]===void 0&&(Se[ge]=Ue[ge]);return{$$typeof:n,type:U,key:Ve,ref:Ie,props:Se,_owner:ee.current}}function P(U,K){return{$$typeof:n,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return K[ue]})}var V=/\/+/g;function b(U,K){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):K.toString(36)}function le(U,K,ue,ge,Se){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(Ve){case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=U,Se=Se(Ie),U=ge===""?"."+b(Ie,0):ge,Q(Se)?(ue="",U!=null&&(ue=U.replace(V,"$&/")+"/"),le(Se,K,ue,"",function(rt){return rt})):Se!=null&&(O(Se)&&(Se=P(Se,ue+(!Se.key||Ie&&Ie.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+U)),K.push(Se)),1;if(Ie=0,ge=ge===""?".":ge+":",Q(U))for(var Ue=0;Ue<U.length;Ue++){Ve=U[Ue];var He=ge+b(Ve,Ue);Ie+=le(Ve,K,ue,He,Se)}else if(He=E(U),typeof He=="function")for(U=He.call(U),Ue=0;!(Ve=U.next()).done;)Ve=Ve.value,He=ge+b(Ve,Ue++),Ie+=le(Ve,K,ue,He,Se);else if(Ve==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Re(U,K,ue){if(U==null)return U;var ge=[],Se=0;return le(U,ge,"","",function(Ve){return K.call(ue,Ve,Se++)}),ge}function Te(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var ye={current:null},J={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:J,ReactCurrentOwner:ee};function oe(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Re,forEach:function(U,K,ue){Re(U,function(){K.apply(this,arguments)},ue)},count:function(U){var K=0;return Re(U,function(){K++}),K},toArray:function(U){return Re(U,function(K){return K})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=S,je.Fragment=t,je.Profiler=o,je.PureComponent=z,je.StrictMode=r,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,je.act=oe,je.cloneElement=function(U,K,ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ge=R({},U.props),Se=U.key,Ve=U.ref,Ie=U._owner;if(K!=null){if(K.ref!==void 0&&(Ve=K.ref,Ie=ee.current),K.key!==void 0&&(Se=""+K.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(He in K)Y.call(K,He)&&!k.hasOwnProperty(He)&&(ge[He]=K[He]===void 0&&Ue!==void 0?Ue[He]:K[He])}var He=arguments.length-2;if(He===1)ge.children=ue;else if(1<He){Ue=Array(He);for(var rt=0;rt<He;rt++)Ue[rt]=arguments[rt+2];ge.children=Ue}return{$$typeof:n,type:U.type,key:Se,ref:Ve,props:ge,_owner:Ie}},je.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},je.createElement=x,je.createFactory=function(U){var K=x.bind(null,U);return K.type=U,K},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:h,render:U}},je.isValidElement=O,je.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Te}},je.memo=function(U,K){return{$$typeof:m,type:U,compare:K===void 0?null:K}},je.startTransition=function(U){var K=J.transition;J.transition={};try{U()}finally{J.transition=K}},je.unstable_act=oe,je.useCallback=function(U,K){return ye.current.useCallback(U,K)},je.useContext=function(U){return ye.current.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U){return ye.current.useDeferredValue(U)},je.useEffect=function(U,K){return ye.current.useEffect(U,K)},je.useId=function(){return ye.current.useId()},je.useImperativeHandle=function(U,K,ue){return ye.current.useImperativeHandle(U,K,ue)},je.useInsertionEffect=function(U,K){return ye.current.useInsertionEffect(U,K)},je.useLayoutEffect=function(U,K){return ye.current.useLayoutEffect(U,K)},je.useMemo=function(U,K){return ye.current.useMemo(U,K)},je.useReducer=function(U,K,ue){return ye.current.useReducer(U,K,ue)},je.useRef=function(U){return ye.current.useRef(U)},je.useState=function(U){return ye.current.useState(U)},je.useSyncExternalStore=function(U,K,ue){return ye.current.useSyncExternalStore(U,K,ue)},je.useTransition=function(){return ye.current.useTransition()},je.version="18.3.1",je}var Xv;function km(){return Xv||(Xv=1,gp.exports=Q1()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Y1(){if(Jv)return Ql;Jv=1;var n=km(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,_={},E=null,T=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(T=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:T,props:_,_owner:o.current}}return Ql.Fragment=t,Ql.jsx=u,Ql.jsxs=u,Ql}var Zv;function X1(){return Zv||(Zv=1,mp.exports=Y1()),mp.exports}var $=X1(),N=km();const de=R0(N),P0=K1({__proto__:null,default:de},[N]),J1=1,Z1=1e6;let yp=0;function eC(){return yp=(yp+1)%Number.MAX_SAFE_INTEGER,yp.toString()}const vp=new Map,e_=n=>{if(vp.has(n))return;const e=setTimeout(()=>{vp.delete(n),ru({type:"REMOVE_TOAST",toastId:n})},Z1);vp.set(n,e)},tC=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,J1)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?e_(t):n.toasts.forEach(r=>{e_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},yd=[];let vd={toasts:[]};function ru(n){vd=tC(vd,n),yd.forEach(e=>{e(vd)})}function nC({...n}){const e=eC(),t=o=>ru({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>ru({type:"DISMISS_TOAST",toastId:e});return ru({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function b0(){const[n,e]=N.useState(vd);return N.useEffect(()=>(yd.push(e),()=>{const t=yd.indexOf(e);t>-1&&yd.splice(t,1)}),[n]),{...n,toast:nC,dismiss:t=>ru({type:"DISMISS_TOAST",toastId:t})}}var _p={exports:{}},Pn={},wp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function rC(){return t_||(t_=1,(function(n){function e(J,te){var oe=J.length;J.push(te);e:for(;0<oe;){var U=oe-1>>>1,K=J[U];if(0<o(K,te))J[U]=te,J[oe]=K,oe=U;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var te=J[0],oe=J.pop();if(oe!==te){J[0]=oe;e:for(var U=0,K=J.length,ue=K>>>1;U<ue;){var ge=2*(U+1)-1,Se=J[ge],Ve=ge+1,Ie=J[Ve];if(0>o(Se,oe))Ve<K&&0>o(Ie,Se)?(J[U]=Ie,J[Ve]=oe,U=Ve):(J[U]=Se,J[ge]=oe,U=ge);else if(Ve<K&&0>o(Ie,oe))J[U]=Ie,J[Ve]=oe,U=Ve;else break e}}return te}function o(J,te){var oe=J.sortIndex-te.sortIndex;return oe!==0?oe:J.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,_=null,E=3,T=!1,R=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(J){for(var te=t(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=J)r(m),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(m)}}function Q(J){if(A=!1,B(J),!R)if(t(f)!==null)R=!0,Te(Y);else{var te=t(m);te!==null&&ye(Q,te.startTime-J)}}function Y(J,te){R=!1,A&&(A=!1,j(x),x=-1),T=!0;var oe=E;try{for(B(te),_=t(f);_!==null&&(!(_.expirationTime>te)||J&&!M());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var K=U(_.expirationTime<=te);te=n.unstable_now(),typeof K=="function"?_.callback=K:_===t(f)&&r(f),B(te)}else r(f);_=t(f)}if(_!==null)var ue=!0;else{var ge=t(m);ge!==null&&ye(Q,ge.startTime-te),ue=!1}return ue}finally{_=null,E=oe,T=!1}}var ee=!1,k=null,x=-1,P=5,O=-1;function M(){return!(n.unstable_now()-O<P)}function V(){if(k!==null){var J=n.unstable_now();O=J;var te=!0;try{te=k(!0,J)}finally{te?b():(ee=!1,k=null)}}else ee=!1}var b;if(typeof z=="function")b=function(){z(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Re=le.port2;le.port1.onmessage=V,b=function(){Re.postMessage(null)}}else b=function(){S(V,0)};function Te(J){k=J,ee||(ee=!0,b())}function ye(J,te){x=S(function(){J(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){R||T||(R=!0,Te(Y))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(J){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var oe=E;E=te;try{return J()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,te){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=E;E=J;try{return te()}finally{E=oe}},n.unstable_scheduleCallback=function(J,te,oe){var U=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,J){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,J={id:v++,callback:te,priorityLevel:J,startTime:oe,expirationTime:K,sortIndex:-1},oe>U?(J.sortIndex=oe,e(m,J),t(f)===null&&J===t(m)&&(A?(j(x),x=-1):A=!0,ye(Q,oe-U))):(J.sortIndex=K,e(f,J),R||T||(R=!0,Te(Y))),J},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(J){var te=E;return function(){var oe=E;E=te;try{return J.apply(this,arguments)}finally{E=oe}}}})(Ep)),Ep}var n_;function iC(){return n_||(n_=1,wp.exports=rC()),wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function sC(){if(r_)return Pn;r_=1;var n=km(),e=iC();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function E(i){return f.call(_,i)?!0:f.call(v,i)?!1:m.test(i)?_[i]=!0:(v[i]=!0,!1)}function T(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,s,l,d){if(s===null||typeof s>"u"||T(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(i,s,l,d,p,y,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];S[s]=new A(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(j,z);S[s]=new A(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(j,z);S[s]=new A(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(j,z);S[s]=new A(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,s,l,d){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,l,p,d)&&(l=null),d||p===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),J=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,U;function K(i){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+i}var ue=!1;function ge(i,s){if(!i||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(i,[],s)}else{try{s.call()}catch(G){d=G}i.call(s.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=d.stack.split(`
`),I=p.length-1,D=y.length-1;1<=I&&0<=D&&p[I]!==y[D];)D--;for(;1<=I&&0<=D;I--,D--)if(p[I]!==y[D]){if(I!==1||D!==1)do if(I--,D--,0>D||p[I]!==y[D]){var L=`
`+p[I].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=I&&0<=D);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function Se(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case ee:return"Portal";case P:return"Profiler";case x:return"StrictMode";case b:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return s=i.displayName||null,s!==null?s:Ve(i.type)||"Memo";case Te:s=i._payload,i=i._init;try{return Ve(i(s))}catch{}}return null}function Ie(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(I){d=""+I,y.call(this,I)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vt(i){i._valueTracker||(i._valueTracker=rt(i))}function Dn(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function $t(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Gn(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Fr(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ur(i,s){s=s.checked,s!=null&&B(i,"checked",s,!1)}function hi(i,s){Ur(i,s);var l=Ue(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Vn(i,s.type,l):s.hasOwnProperty("defaultValue")&&Vn(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function jr(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Vn(i,s,l){(s!=="number"||$t(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Kn=Array.isArray;function cn(i,s,l,d){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Wi(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vn(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Kn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function qi(i,s){var l=Ue(s.value),d=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function Ys(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Qe(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Qe(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var cr,Xs=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,p)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Mn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(i){zr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),fi[s]=fi[i]})});function pi(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||fi.hasOwnProperty(i)&&fi[i]?(""+s).trim():s+"px"}function Qn(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=pi(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Gi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yn(i,s){if(s){if(Gi[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Js(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mi=null;function gi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yi=null,_n=null,wn=null;function dn(i){if(i=Dl(i)){if(typeof yi!="function")throw Error(t(280));var s=i.stateNode;s&&(s=_c(s),yi(i.stateNode,i.type,s))}}function Xn(i){_n?wn?wn.push(i):wn=[i]:_n=i}function Pe(){if(_n){var i=_n,s=wn;if(wn=_n=null,dn(i),s)for(i=0;i<s.length;i++)dn(s[i])}}function ze(i,s){return i(s)}function Je(){}var Et=!1;function Ht(i,s,l){if(Et)return i(s,l);Et=!0;try{return ze(i,s,l)}finally{Et=!1,(_n!==null||wn!==null)&&(Je(),Pe())}}function Ze(i,s){var l=i.stateNode;if(l===null)return null;var d=_c(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var En=!1;if(h)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){En=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{En=!1}function Zt(i,s,l,d,p,y,I,D,L){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(se){this.onError(se)}}var Zs=!1,Bo=null,dr=!1,pl=null,zh={onError:function(i){Zs=!0,Bo=i}};function $o(i,s,l,d,p,y,I,D,L){Zs=!1,Bo=null,Zt.apply(zh,arguments)}function Hu(i,s,l,d,p,y,I,D,L){if($o.apply(this,arguments),Zs){if(Zs){var G=Bo;Zs=!1,Bo=null}else throw Error(t(198));dr||(dr=!0,pl=G)}}function hr(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function eo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function fr(i){if(hr(i)!==i)throw Error(t(188))}function Wu(i){var s=i.alternate;if(!s){if(s=hr(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return fr(p),i;if(y===d)return fr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var I=!1,D=p.child;D;){if(D===l){I=!0,l=p,d=y;break}if(D===d){I=!0,d=p,l=y;break}D=D.sibling}if(!I){for(D=y.child;D;){if(D===l){I=!0,l=y,d=p;break}if(D===d){I=!0,d=y,l=p;break}D=D.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ml(i){return i=Wu(i),i!==null?Ho(i):null}function Ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Ho(i);if(s!==null)return s;i=i.sibling}return null}var Wo=e.unstable_scheduleCallback,gl=e.unstable_cancelCallback,qu=e.unstable_shouldYield,Bh=e.unstable_requestPaint,st=e.unstable_now,Gu=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,Ki=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,yl=e.unstable_LowPriority,Ku=e.unstable_IdlePriority,no=null,Ln=null;function Qu(i){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(no,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Xu,vl=Math.log,Yu=Math.LN2;function Xu(i){return i>>>=0,i===0?32:31-(vl(i)/Yu|0)|0}var qo=64,Go=4194304;function Qi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ro(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,I=l&268435455;if(I!==0){var D=I&~p;D!==0?d=Qi(D):(y&=I,y!==0&&(d=Qi(y)))}else I=l&~p,I!==0?d=Qi(I):y!==0&&(d=Qi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-hn(s),p=1<<l,d|=i[l],s&=~p;return d}function $h(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var I=31-hn(y),D=1<<I,L=p[I];L===-1?((D&l)===0||(D&d)!==0)&&(p[I]=$h(D,s)):L<=s&&(i.expiredLanes|=D),y&=~D}}function Fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function io(){var i=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),i}function Yi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Xi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hn(s),i[s]=l}function nt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-hn(l),y=1<<p;s[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function Ji(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-hn(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}var We=0;function Zi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ju,Ko,Zu,ec,tc,_l=!1,Br=[],Wt=null,pr=null,mr=null,es=new Map,Zn=new Map,$r=[],Hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(i,s){switch(i){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":es.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(s.pointerId)}}function Tn(i,s,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Dl(s),s!==null&&Ko(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Wh(i,s,l,d,p){switch(s){case"focusin":return Wt=Tn(Wt,i,s,l,d,p),!0;case"dragenter":return pr=Tn(pr,i,s,l,d,p),!0;case"mouseover":return mr=Tn(mr,i,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return es.set(y,Tn(es.get(y)||null,i,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Zn.set(y,Tn(Zn.get(y)||null,i,s,l,d,p)),!0}return!1}function rc(i){var s=uo(i.target);if(s!==null){var l=hr(s);if(l!==null){if(s=l.tag,s===13){if(s=eo(l),s!==null){i.blockedOn=s,tc(i.priority,function(){Zu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _i(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Qo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);mi=d,l.target.dispatchEvent(d),mi=null}else return s=Dl(l),s!==null&&Ko(s),i.blockedOn=l,!1;s.shift()}return!0}function so(i,s,l){_i(i)&&l.delete(s)}function ic(){_l=!1,Wt!==null&&_i(Wt)&&(Wt=null),pr!==null&&_i(pr)&&(pr=null),mr!==null&&_i(mr)&&(mr=null),es.forEach(so),Zn.forEach(so)}function gr(i,s){i.blockedOn===s&&(i.blockedOn=null,_l||(_l=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ic)))}function yr(i){function s(p){return gr(p,i)}if(0<Br.length){gr(Br[0],i);for(var l=1;l<Br.length;l++){var d=Br[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Wt!==null&&gr(Wt,i),pr!==null&&gr(pr,i),mr!==null&&gr(mr,i),es.forEach(s),Zn.forEach(s),l=0;l<$r.length;l++)d=$r[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<$r.length&&(l=$r[0],l.blockedOn===null);)rc(l),l.blockedOn===null&&$r.shift()}var wi=Q.ReactCurrentBatchConfig,ts=!0;function ht(i,s,l,d){var p=We,y=wi.transition;wi.transition=null;try{We=1,wl(i,s,l,d)}finally{We=p,wi.transition=y}}function qh(i,s,l,d){var p=We,y=wi.transition;wi.transition=null;try{We=4,wl(i,s,l,d)}finally{We=p,wi.transition=y}}function wl(i,s,l,d){if(ts){var p=Qo(i,s,l,d);if(p===null)rf(i,s,d,oo,l),nc(i,d);else if(Wh(p,i,s,l,d))d.stopPropagation();else if(nc(i,d),s&4&&-1<Hh.indexOf(i)){for(;p!==null;){var y=Dl(p);if(y!==null&&Ju(y),y=Qo(i,s,l,d),y===null&&rf(i,s,d,oo,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else rf(i,s,d,null,l)}}var oo=null;function Qo(i,s,l,d){if(oo=null,i=gi(d),i=uo(i),i!==null)if(s=hr(i),s===null)i=null;else if(l=s.tag,l===13){if(i=eo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return oo=i,null}function El(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gu()){case to:return 1;case Ki:return 4;case Jn:case yl:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var Un=null,Yo=null,In=null;function Tl(){if(In)return In;var i,s=Yo,l=s.length,d,p="value"in Un?Un.value:Un.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var I=l-i;for(d=1;d<=I&&s[l-d]===p[y-d];d++);return In=p.slice(i,1<d?1-d:void 0)}function Xo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Hr(){return!0}function Il(){return!1}function qt(i){function s(l,d,p,y,I){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hr:Il,this.isPropagationStopped=Il,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),s}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=qt(vr),Wr=oe({},vr,{view:0,detail:0}),Gh=qt(Wr),Zo,Ei,ns,ao=oe({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ns&&(ns&&i.type==="mousemove"?(Zo=i.screenX-ns.screenX,Ei=i.screenY-ns.screenY):Ei=Zo=0,ns=i),Zo)},movementY:function(i){return"movementY"in i?i.movementY:Ei}}),ea=qt(ao),Sl=oe({},ao,{dataTransfer:0}),sc=qt(Sl),ta=oe({},Wr,{relatedTarget:0}),na=qt(ta),oc=oe({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=qt(oc),ac=oe({},vr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lc=qt(ac),uc=oe({},vr,{data:0}),Cl=qt(uc),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=cc[i])?!!s[i]:!1}function qr(){return dc}var c=oe({},Wr,{key:function(i){if(i.key){var s=ra[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(i){return i.type==="keypress"?Xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=qt(c),w=oe({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=qt(w),H=oe({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),X=qt(H),he=oe({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=qt(he),Pt=oe({},ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=qt(Pt),Mt=[9,13,27,32],St=h&&"CompositionEvent"in window,er=null;h&&"documentMode"in document&&(er=document.documentMode);var jn=h&&"TextEvent"in window&&!er,lo=h&&(!St||er&&8<er&&11>=er),ia=" ",$g=!1;function Hg(i,s){switch(i){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var sa=!1;function WS(i,s){switch(i){case"compositionend":return Wg(s);case"keypress":return s.which!==32?null:($g=!0,ia);case"textInput":return i=s.data,i===ia&&$g?null:i;default:return null}}function qS(i,s){if(sa)return i==="compositionend"||!St&&Hg(i,s)?(i=Tl(),In=Yo=Un=null,sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lo&&s.locale!=="ko"?null:s.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!GS[i.type]:s==="textarea"}function Gg(i,s,l,d){Xn(d),s=gc(s,"onChange"),0<s.length&&(l=new Jo("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var Al=null,xl=null;function KS(i){dy(i,0)}function hc(i){var s=ca(i);if(Dn(s))return i}function QS(i,s){if(i==="change")return s}var Kg=!1;if(h){var Kh;if(h){var Qh="oninput"in document;if(!Qh){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Qh=typeof Qg.oninput=="function"}Kh=Qh}else Kh=!1;Kg=Kh&&(!document.documentMode||9<document.documentMode)}function Yg(){Al&&(Al.detachEvent("onpropertychange",Xg),xl=Al=null)}function Xg(i){if(i.propertyName==="value"&&hc(xl)){var s=[];Gg(s,xl,i,gi(i)),Ht(KS,s)}}function YS(i,s,l){i==="focusin"?(Yg(),Al=s,xl=l,Al.attachEvent("onpropertychange",Xg)):i==="focusout"&&Yg()}function XS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hc(xl)}function JS(i,s){if(i==="click")return hc(s)}function ZS(i,s){if(i==="input"||i==="change")return hc(s)}function e1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var _r=typeof Object.is=="function"?Object.is:e1;function Rl(i,s){if(_r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!_r(i[p],s[p]))return!1}return!0}function Jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zg(i,s){var l=Jg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jg(l)}}function ey(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ey(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ty(){for(var i=window,s=$t();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=$t(i.document)}return s}function Yh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function t1(i){var s=ty(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&ey(l.ownerDocument.documentElement,l)){if(d!==null&&Yh(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=Zg(l,y);var I=Zg(l,d);p&&I&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(s),i.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var n1=h&&"documentMode"in document&&11>=document.documentMode,oa=null,Xh=null,Pl=null,Jh=!1;function ny(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jh||oa==null||oa!==$t(d)||(d=oa,"selectionStart"in d&&Yh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pl&&Rl(Pl,d)||(Pl=d,d=gc(Xh,"onSelect"),0<d.length&&(s=new Jo("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=oa)))}function fc(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var aa={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},Zh={},ry={};h&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function pc(i){if(Zh[i])return Zh[i];if(!aa[i])return i;var s=aa[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ry)return Zh[i]=s[l];return i}var iy=pc("animationend"),sy=pc("animationiteration"),oy=pc("animationstart"),ay=pc("transitionend"),ly=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(i,s){ly.set(i,s),a(s,[i])}for(var ef=0;ef<uy.length;ef++){var tf=uy[ef],r1=tf.toLowerCase(),i1=tf[0].toUpperCase()+tf.slice(1);rs(r1,"on"+i1)}rs(iy,"onAnimationEnd"),rs(sy,"onAnimationIteration"),rs(oy,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(ay,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function cy(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,Hu(d,s,void 0,i),i.currentTarget=null}function dy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var I=d.length-1;0<=I;I--){var D=d[I],L=D.instance,G=D.currentTarget;if(D=D.listener,L!==y&&p.isPropagationStopped())break e;cy(p,D,G),y=L}else for(I=0;I<d.length;I++){if(D=d[I],L=D.instance,G=D.currentTarget,D=D.listener,L!==y&&p.isPropagationStopped())break e;cy(p,D,G),y=L}}}if(dr)throw i=pl,dr=!1,pl=null,i}function ut(i,s){var l=s[cf];l===void 0&&(l=s[cf]=new Set);var d=i+"__bubble";l.has(d)||(hy(s,i,2,!1),l.add(d))}function nf(i,s,l){var d=0;s&&(d|=4),hy(l,i,d,s)}var mc="_reactListening"+Math.random().toString(36).slice(2);function kl(i){if(!i[mc]){i[mc]=!0,r.forEach(function(l){l!=="selectionchange"&&(s1.has(l)||nf(l,!1,i),nf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[mc]||(s[mc]=!0,nf("selectionchange",!1,s))}}function hy(i,s,l,d){switch(El(s)){case 1:var p=ht;break;case 4:p=qh;break;default:p=wl}l=p.bind(null,s,l,i),p=void 0,!En||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function rf(i,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(I===4)for(I=d.return;I!==null;){var L=I.tag;if((L===3||L===4)&&(L=I.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;I=I.return}for(;D!==null;){if(I=uo(D),I===null)return;if(L=I.tag,L===5||L===6){d=y=I;continue e}D=D.parentNode}}d=d.return}Ht(function(){var G=y,se=gi(l),ae=[];e:{var ie=ly.get(i);if(ie!==void 0){var fe=Jo,_e=i;switch(i){case"keypress":if(Xo(l)===0)break e;case"keydown":case"keyup":fe=g;break;case"focusin":_e="focus",fe=na;break;case"focusout":_e="blur",fe=na;break;case"beforeblur":case"afterblur":fe=na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=X;break;case iy:case sy:case oy:fe=Ti;break;case ay:fe=tt;break;case"scroll":fe=Gh;break;case"wheel":fe=qe;break;case"copy":case"cut":case"paste":fe=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=C}var we=(s&4)!==0,Tt=!we&&i==="scroll",W=we?ie!==null?ie+"Capture":null:ie;we=[];for(var F=G,q;F!==null;){q=F;var ce=q.stateNode;if(q.tag===5&&ce!==null&&(q=ce,W!==null&&(ce=Ze(F,W),ce!=null&&we.push(Nl(F,ce,q)))),Tt)break;F=F.return}0<we.length&&(ie=new fe(ie,_e,null,l,se),ae.push({event:ie,listeners:we}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ie&&l!==mi&&(_e=l.relatedTarget||l.fromElement)&&(uo(_e)||_e[Ii]))break e;if((fe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,fe?(_e=l.relatedTarget||l.toElement,fe=G,_e=_e?uo(_e):null,_e!==null&&(Tt=hr(_e),_e!==Tt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(fe=null,_e=G),fe!==_e)){if(we=ea,ce="onMouseLeave",W="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(we=C,ce="onPointerLeave",W="onPointerEnter",F="pointer"),Tt=fe==null?ie:ca(fe),q=_e==null?ie:ca(_e),ie=new we(ce,F+"leave",fe,l,se),ie.target=Tt,ie.relatedTarget=q,ce=null,uo(se)===G&&(we=new we(W,F+"enter",_e,l,se),we.target=q,we.relatedTarget=Tt,ce=we),Tt=ce,fe&&_e)t:{for(we=fe,W=_e,F=0,q=we;q;q=la(q))F++;for(q=0,ce=W;ce;ce=la(ce))q++;for(;0<F-q;)we=la(we),F--;for(;0<q-F;)W=la(W),q--;for(;F--;){if(we===W||W!==null&&we===W.alternate)break t;we=la(we),W=la(W)}we=null}else we=null;fe!==null&&fy(ae,ie,fe,we,!1),_e!==null&&Tt!==null&&fy(ae,Tt,_e,we,!0)}}e:{if(ie=G?ca(G):window,fe=ie.nodeName&&ie.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ie.type==="file")var Ee=QS;else if(qg(ie))if(Kg)Ee=ZS;else{Ee=XS;var Ae=YS}else(fe=ie.nodeName)&&fe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=JS);if(Ee&&(Ee=Ee(i,G))){Gg(ae,Ee,l,se);break e}Ae&&Ae(i,ie,G),i==="focusout"&&(Ae=ie._wrapperState)&&Ae.controlled&&ie.type==="number"&&Vn(ie,"number",ie.value)}switch(Ae=G?ca(G):window,i){case"focusin":(qg(Ae)||Ae.contentEditable==="true")&&(oa=Ae,Xh=G,Pl=null);break;case"focusout":Pl=Xh=oa=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,ny(ae,l,se);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":ny(ae,l,se)}var xe;if(St)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else sa?Hg(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(lo&&l.locale!=="ko"&&(sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&sa&&(xe=Tl()):(Un=se,Yo="value"in Un?Un.value:Un.textContent,sa=!0)),Ae=gc(G,ke),0<Ae.length&&(ke=new Cl(ke,i,null,l,se),ae.push({event:ke,listeners:Ae}),xe?ke.data=xe:(xe=Wg(l),xe!==null&&(ke.data=xe)))),(xe=jn?WS(i,l):qS(i,l))&&(G=gc(G,"onBeforeInput"),0<G.length&&(se=new Cl("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:G}),se.data=xe))}dy(ae,s)})}function Nl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function gc(i,s){for(var l=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Ze(i,l),y!=null&&d.unshift(Nl(i,y,p)),y=Ze(i,s),y!=null&&d.push(Nl(i,y,p))),i=i.return}return d}function la(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fy(i,s,l,d,p){for(var y=s._reactName,I=[];l!==null&&l!==d;){var D=l,L=D.alternate,G=D.stateNode;if(L!==null&&L===d)break;D.tag===5&&G!==null&&(D=G,p?(L=Ze(l,y),L!=null&&I.unshift(Nl(l,L,D))):p||(L=Ze(l,y),L!=null&&I.push(Nl(l,L,D)))),l=l.return}I.length!==0&&i.push({event:s,listeners:I})}var o1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function py(i){return(typeof i=="string"?i:""+i).replace(o1,`
`).replace(a1,"")}function yc(i,s,l){if(s=py(s),py(i)!==s&&l)throw Error(t(425))}function vc(){}var sf=null,of=null;function af(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(i){return my.resolve(null).then(i).catch(c1)}:lf;function c1(i){setTimeout(function(){throw i})}function uf(i,s){var l=s,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),yr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);yr(s)}function is(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function gy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ua,Ol="__reactProps$"+ua,Ii="__reactContainer$"+ua,cf="__reactEvents$"+ua,d1="__reactListeners$"+ua,h1="__reactHandles$"+ua;function uo(i){var s=i[Gr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ii]||l[Gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=gy(i);i!==null;){if(l=i[Gr])return l;i=gy(i)}return s}i=l,l=i.parentNode}return null}function Dl(i){return i=i[Gr]||i[Ii],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ca(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function _c(i){return i[Ol]||null}var df=[],da=-1;function ss(i){return{current:i}}function ct(i){0>da||(i.current=df[da],df[da]=null,da--)}function ot(i,s){da++,df[da]=i.current,i.current=s}var os={},en=ss(os),Sn=ss(!1),co=os;function ha(i,s){var l=i.type.contextTypes;if(!l)return os;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Cn(i){return i=i.childContextTypes,i!=null}function wc(){ct(Sn),ct(en)}function yy(i,s,l){if(en.current!==os)throw Error(t(168));ot(en,s),ot(Sn,l)}function vy(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ie(i)||"Unknown",p));return oe({},l,d)}function Ec(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||os,co=en.current,ot(en,i),ot(Sn,Sn.current),!0}function _y(i,s,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=vy(i,s,co),d.__reactInternalMemoizedMergedChildContext=i,ct(Sn),ct(en),ot(en,i)):ct(Sn),ot(Sn,l)}var Si=null,Tc=!1,hf=!1;function wy(i){Si===null?Si=[i]:Si.push(i)}function f1(i){Tc=!0,wy(i)}function as(){if(!hf&&Si!==null){hf=!0;var i=0,s=We;try{var l=Si;for(We=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Si=null,Tc=!1}catch(p){throw Si!==null&&(Si=Si.slice(i+1)),Wo(to,as),p}finally{We=s,hf=!1}}return null}var fa=[],pa=0,Ic=null,Sc=0,tr=[],nr=0,ho=null,Ci=1,Ai="";function fo(i,s){fa[pa++]=Sc,fa[pa++]=Ic,Ic=i,Sc=s}function Ey(i,s,l){tr[nr++]=Ci,tr[nr++]=Ai,tr[nr++]=ho,ho=i;var d=Ci;i=Ai;var p=32-hn(d)-1;d&=~(1<<p),l+=1;var y=32-hn(s)+p;if(30<y){var I=p-p%5;y=(d&(1<<I)-1).toString(32),d>>=I,p-=I,Ci=1<<32-hn(s)+p|l<<p|d,Ai=y+i}else Ci=1<<y|l<<p|d,Ai=i}function ff(i){i.return!==null&&(fo(i,1),Ey(i,1,0))}function pf(i){for(;i===Ic;)Ic=fa[--pa],fa[pa]=null,Sc=fa[--pa],fa[pa]=null;for(;i===ho;)ho=tr[--nr],tr[nr]=null,Ai=tr[--nr],tr[nr]=null,Ci=tr[--nr],tr[nr]=null}var zn=null,Bn=null,ft=!1,wr=null;function Ty(i,s){var l=or(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Iy(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,zn=i,Bn=is(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,zn=i,Bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ho!==null?{id:Ci,overflow:Ai}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=or(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,zn=i,Bn=null,!0):!1;default:return!1}}function mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gf(i){if(ft){var s=Bn;if(s){var l=s;if(!Iy(i,s)){if(mf(i))throw Error(t(418));s=is(l.nextSibling);var d=zn;s&&Iy(i,s)?Ty(d,l):(i.flags=i.flags&-4097|2,ft=!1,zn=i)}}else{if(mf(i))throw Error(t(418));i.flags=i.flags&-4097|2,ft=!1,zn=i}}}function Sy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;zn=i}function Cc(i){if(i!==zn)return!1;if(!ft)return Sy(i),ft=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!af(i.type,i.memoizedProps)),s&&(s=Bn)){if(mf(i))throw Cy(),Error(t(418));for(;s;)Ty(i,s),s=is(s.nextSibling)}if(Sy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Bn=is(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Bn=null}}else Bn=zn?is(i.stateNode.nextSibling):null;return!0}function Cy(){for(var i=Bn;i;)i=is(i.nextSibling)}function ma(){Bn=zn=null,ft=!1}function yf(i){wr===null?wr=[i]:wr.push(i)}var p1=Q.ReactCurrentBatchConfig;function Vl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(I){var D=p.refs;I===null?delete D[y]:D[y]=I},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ac(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ay(i){var s=i._init;return s(i._payload)}function xy(i){function s(W,F){if(i){var q=W.deletions;q===null?(W.deletions=[F],W.flags|=16):q.push(F)}}function l(W,F){if(!i)return null;for(;F!==null;)s(W,F),F=F.sibling;return null}function d(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function p(W,F){return W=ms(W,F),W.index=0,W.sibling=null,W}function y(W,F,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<F?(W.flags|=2,F):q):(W.flags|=2,F)):(W.flags|=1048576,F)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function D(W,F,q,ce){return F===null||F.tag!==6?(F=lp(q,W.mode,ce),F.return=W,F):(F=p(F,q),F.return=W,F)}function L(W,F,q,ce){var Ee=q.type;return Ee===k?se(W,F,q.props.children,ce,q.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Te&&Ay(Ee)===F.type)?(ce=p(F,q.props),ce.ref=Vl(W,F,q),ce.return=W,ce):(ce=Yc(q.type,q.key,q.props,null,W.mode,ce),ce.ref=Vl(W,F,q),ce.return=W,ce)}function G(W,F,q,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=up(q,W.mode,ce),F.return=W,F):(F=p(F,q.children||[]),F.return=W,F)}function se(W,F,q,ce,Ee){return F===null||F.tag!==7?(F=Eo(q,W.mode,ce,Ee),F.return=W,F):(F=p(F,q),F.return=W,F)}function ae(W,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=lp(""+F,W.mode,q),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return q=Yc(F.type,F.key,F.props,null,W.mode,q),q.ref=Vl(W,null,F),q.return=W,q;case ee:return F=up(F,W.mode,q),F.return=W,F;case Te:var ce=F._init;return ae(W,ce(F._payload),q)}if(Kn(F)||te(F))return F=Eo(F,W.mode,q,null),F.return=W,F;Ac(W,F)}return null}function ie(W,F,q,ce){var Ee=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:D(W,F,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===Ee?L(W,F,q,ce):null;case ee:return q.key===Ee?G(W,F,q,ce):null;case Te:return Ee=q._init,ie(W,F,Ee(q._payload),ce)}if(Kn(q)||te(q))return Ee!==null?null:se(W,F,q,ce,null);Ac(W,q)}return null}function fe(W,F,q,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return W=W.get(q)||null,D(F,W,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Y:return W=W.get(ce.key===null?q:ce.key)||null,L(F,W,ce,Ee);case ee:return W=W.get(ce.key===null?q:ce.key)||null,G(F,W,ce,Ee);case Te:var Ae=ce._init;return fe(W,F,q,Ae(ce._payload),Ee)}if(Kn(ce)||te(ce))return W=W.get(q)||null,se(F,W,ce,Ee,null);Ac(F,ce)}return null}function _e(W,F,q,ce){for(var Ee=null,Ae=null,xe=F,ke=F=0,Ut=null;xe!==null&&ke<q.length;ke++){xe.index>ke?(Ut=xe,xe=null):Ut=xe.sibling;var Ye=ie(W,xe,q[ke],ce);if(Ye===null){xe===null&&(xe=Ut);break}i&&xe&&Ye.alternate===null&&s(W,xe),F=y(Ye,F,ke),Ae===null?Ee=Ye:Ae.sibling=Ye,Ae=Ye,xe=Ut}if(ke===q.length)return l(W,xe),ft&&fo(W,ke),Ee;if(xe===null){for(;ke<q.length;ke++)xe=ae(W,q[ke],ce),xe!==null&&(F=y(xe,F,ke),Ae===null?Ee=xe:Ae.sibling=xe,Ae=xe);return ft&&fo(W,ke),Ee}for(xe=d(W,xe);ke<q.length;ke++)Ut=fe(xe,W,ke,q[ke],ce),Ut!==null&&(i&&Ut.alternate!==null&&xe.delete(Ut.key===null?ke:Ut.key),F=y(Ut,F,ke),Ae===null?Ee=Ut:Ae.sibling=Ut,Ae=Ut);return i&&xe.forEach(function(gs){return s(W,gs)}),ft&&fo(W,ke),Ee}function we(W,F,q,ce){var Ee=te(q);if(typeof Ee!="function")throw Error(t(150));if(q=Ee.call(q),q==null)throw Error(t(151));for(var Ae=Ee=null,xe=F,ke=F=0,Ut=null,Ye=q.next();xe!==null&&!Ye.done;ke++,Ye=q.next()){xe.index>ke?(Ut=xe,xe=null):Ut=xe.sibling;var gs=ie(W,xe,Ye.value,ce);if(gs===null){xe===null&&(xe=Ut);break}i&&xe&&gs.alternate===null&&s(W,xe),F=y(gs,F,ke),Ae===null?Ee=gs:Ae.sibling=gs,Ae=gs,xe=Ut}if(Ye.done)return l(W,xe),ft&&fo(W,ke),Ee;if(xe===null){for(;!Ye.done;ke++,Ye=q.next())Ye=ae(W,Ye.value,ce),Ye!==null&&(F=y(Ye,F,ke),Ae===null?Ee=Ye:Ae.sibling=Ye,Ae=Ye);return ft&&fo(W,ke),Ee}for(xe=d(W,xe);!Ye.done;ke++,Ye=q.next())Ye=fe(xe,W,ke,Ye.value,ce),Ye!==null&&(i&&Ye.alternate!==null&&xe.delete(Ye.key===null?ke:Ye.key),F=y(Ye,F,ke),Ae===null?Ee=Ye:Ae.sibling=Ye,Ae=Ye);return i&&xe.forEach(function(G1){return s(W,G1)}),ft&&fo(W,ke),Ee}function Tt(W,F,q,ce){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var Ee=q.key,Ae=F;Ae!==null;){if(Ae.key===Ee){if(Ee=q.type,Ee===k){if(Ae.tag===7){l(W,Ae.sibling),F=p(Ae,q.props.children),F.return=W,W=F;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Te&&Ay(Ee)===Ae.type){l(W,Ae.sibling),F=p(Ae,q.props),F.ref=Vl(W,Ae,q),F.return=W,W=F;break e}l(W,Ae);break}else s(W,Ae);Ae=Ae.sibling}q.type===k?(F=Eo(q.props.children,W.mode,ce,q.key),F.return=W,W=F):(ce=Yc(q.type,q.key,q.props,null,W.mode,ce),ce.ref=Vl(W,F,q),ce.return=W,W=ce)}return I(W);case ee:e:{for(Ae=q.key;F!==null;){if(F.key===Ae)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(W,F.sibling),F=p(F,q.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else s(W,F);F=F.sibling}F=up(q,W.mode,ce),F.return=W,W=F}return I(W);case Te:return Ae=q._init,Tt(W,F,Ae(q._payload),ce)}if(Kn(q))return _e(W,F,q,ce);if(te(q))return we(W,F,q,ce);Ac(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(W,F.sibling),F=p(F,q),F.return=W,W=F):(l(W,F),F=lp(q,W.mode,ce),F.return=W,W=F),I(W)):l(W,F)}return Tt}var ga=xy(!0),Ry=xy(!1),xc=ss(null),Rc=null,ya=null,vf=null;function _f(){vf=ya=Rc=null}function wf(i){var s=xc.current;ct(xc),i._currentValue=s}function Ef(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function va(i,s){Rc=i,vf=ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(An=!0),i.firstContext=null)}function rr(i){var s=i._currentValue;if(vf!==i)if(i={context:i,memoizedValue:s,next:null},ya===null){if(Rc===null)throw Error(t(308));ya=i,Rc.dependencies={lanes:0,firstContext:i}}else ya=ya.next=i;return s}var po=null;function Tf(i){po===null?po=[i]:po.push(i)}function Py(i,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Tf(s)):(l.next=p.next,p.next=l),s.interleaved=l,xi(i,d)}function xi(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ls=!1;function If(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function by(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ri(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function us(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,xi(i,l)}return p=d.interleaved,p===null?(s.next=s,Tf(d)):(s.next=p.next,p.next=s),d.interleaved=s,xi(i,l)}function Pc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Ji(i,l)}}function ky(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function bc(i,s,l,d){var p=i.updateQueue;ls=!1;var y=p.firstBaseUpdate,I=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var L=D,G=L.next;L.next=null,I===null?y=G:I.next=G,I=L;var se=i.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==I&&(D===null?se.firstBaseUpdate=G:D.next=G,se.lastBaseUpdate=L))}if(y!==null){var ae=p.baseState;I=0,se=G=L=null,D=y;do{var ie=D.lane,fe=D.eventTime;if((d&ie)===ie){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=i,we=D;switch(ie=s,fe=l,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ae=_e.call(fe,ae,ie);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,ie=typeof _e=="function"?_e.call(fe,ae,ie):_e,ie==null)break e;ae=oe({},ae,ie);break e;case 2:ls=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ie=p.effects,ie===null?p.effects=[D]:ie.push(D))}else fe={eventTime:fe,lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(G=se=fe,L=ae):se=se.next=fe,I|=ie;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(se===null&&(L=ae),p.baseState=L,p.firstBaseUpdate=G,p.lastBaseUpdate=se,s=p.shared.interleaved,s!==null){p=s;do I|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);yo|=I,i.lanes=I,i.memoizedState=ae}}function Ny(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ml={},Kr=ss(Ml),Ll=ss(Ml),Fl=ss(Ml);function mo(i){if(i===Ml)throw Error(t(174));return i}function Sf(i,s){switch(ot(Fl,s),ot(Ll,i),ot(Kr,Ml),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:it(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=it(s,i)}ct(Kr),ot(Kr,s)}function _a(){ct(Kr),ct(Ll),ct(Fl)}function Oy(i){mo(Fl.current);var s=mo(Kr.current),l=it(s,i.type);s!==l&&(ot(Ll,i),ot(Kr,l))}function Cf(i){Ll.current===i&&(ct(Kr),ct(Ll))}var mt=ss(0);function kc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Af=[];function xf(){for(var i=0;i<Af.length;i++)Af[i]._workInProgressVersionPrimary=null;Af.length=0}var Nc=Q.ReactCurrentDispatcher,Rf=Q.ReactCurrentBatchConfig,go=0,gt=null,bt=null,Lt=null,Oc=!1,Ul=!1,jl=0,m1=0;function tn(){throw Error(t(321))}function Pf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!_r(i[l],s[l]))return!1;return!0}function bf(i,s,l,d,p,y){if(go=y,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Nc.current=i===null||i.memoizedState===null?_1:w1,i=l(d,p),Ul){y=0;do{if(Ul=!1,jl=0,25<=y)throw Error(t(301));y+=1,Lt=bt=null,s.updateQueue=null,Nc.current=E1,i=l(d,p)}while(Ul)}if(Nc.current=Mc,s=bt!==null&&bt.next!==null,go=0,Lt=bt=gt=null,Oc=!1,s)throw Error(t(300));return i}function kf(){var i=jl!==0;return jl=0,i}function Qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?gt.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function ir(){if(bt===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var s=Lt===null?gt.memoizedState:Lt.next;if(s!==null)Lt=s,bt=i;else{if(i===null)throw Error(t(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Lt===null?gt.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function zl(i,s){return typeof s=="function"?s(i):s}function Nf(i){var s=ir(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=bt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var I=p.next;p.next=y.next,y.next=I}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var D=I=null,L=null,G=y;do{var se=G.lane;if((go&se)===se)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var ae={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(D=L=ae,I=d):L=L.next=ae,gt.lanes|=se,yo|=se}G=G.next}while(G!==null&&G!==y);L===null?I=d:L.next=D,_r(d,s.memoizedState)||(An=!0),s.memoizedState=d,s.baseState=I,s.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,gt.lanes|=y,yo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Of(i){var s=ir(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var I=p=p.next;do y=i(y,I.action),I=I.next;while(I!==p);_r(y,s.memoizedState)||(An=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Dy(){}function Vy(i,s){var l=gt,d=ir(),p=s(),y=!_r(d.memoizedState,p);if(y&&(d.memoizedState=p,An=!0),d=d.queue,Df(Fy.bind(null,l,d,i),[i]),d.getSnapshot!==s||y||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,Bl(9,Ly.bind(null,l,d,p,s),void 0,null),Ft===null)throw Error(t(349));(go&30)!==0||My(l,s,p)}return p}function My(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Ly(i,s,l,d){s.value=l,s.getSnapshot=d,Uy(s)&&jy(i)}function Fy(i,s,l){return l(function(){Uy(s)&&jy(i)})}function Uy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!_r(i,l)}catch{return!0}}function jy(i){var s=xi(i,1);s!==null&&Sr(s,i,1,-1)}function zy(i){var s=Qr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:i},s.queue=i,i=i.dispatch=v1.bind(null,gt,i),[s.memoizedState,i]}function Bl(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function By(){return ir().memoizedState}function Dc(i,s,l,d){var p=Qr();gt.flags|=i,p.memoizedState=Bl(1|s,l,void 0,d===void 0?null:d)}function Vc(i,s,l,d){var p=ir();d=d===void 0?null:d;var y=void 0;if(bt!==null){var I=bt.memoizedState;if(y=I.destroy,d!==null&&Pf(d,I.deps)){p.memoizedState=Bl(s,l,y,d);return}}gt.flags|=i,p.memoizedState=Bl(1|s,l,y,d)}function $y(i,s){return Dc(8390656,8,i,s)}function Df(i,s){return Vc(2048,8,i,s)}function Hy(i,s){return Vc(4,2,i,s)}function Wy(i,s){return Vc(4,4,i,s)}function qy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Gy(i,s,l){return l=l!=null?l.concat([i]):null,Vc(4,4,qy.bind(null,s,i),l)}function Vf(){}function Ky(i,s){var l=ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Pf(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function Qy(i,s){var l=ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Pf(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function Yy(i,s,l){return(go&21)===0?(i.baseState&&(i.baseState=!1,An=!0),i.memoizedState=l):(_r(l,s)||(l=io(),gt.lanes|=l,yo|=l,i.baseState=!0),s)}function g1(i,s){var l=We;We=l!==0&&4>l?l:4,i(!0);var d=Rf.transition;Rf.transition={};try{i(!1),s()}finally{We=l,Rf.transition=d}}function Xy(){return ir().memoizedState}function y1(i,s,l){var d=fs(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Jy(i))Zy(s,l);else if(l=Py(i,s,l,d),l!==null){var p=mn();Sr(l,i,d,p),ev(l,s,d)}}function v1(i,s,l){var d=fs(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jy(i))Zy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var I=s.lastRenderedState,D=y(I,l);if(p.hasEagerState=!0,p.eagerState=D,_r(D,I)){var L=s.interleaved;L===null?(p.next=p,Tf(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=Py(i,s,p,d),l!==null&&(p=mn(),Sr(l,i,d,p),ev(l,s,d))}}function Jy(i){var s=i.alternate;return i===gt||s!==null&&s===gt}function Zy(i,s){Ul=Oc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ev(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Ji(i,l)}}var Mc={readContext:rr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},_1={readContext:rr,useCallback:function(i,s){return Qr().memoizedState=[i,s===void 0?null:s],i},useContext:rr,useEffect:$y,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Dc(4194308,4,qy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Dc(4194308,4,i,s)},useInsertionEffect:function(i,s){return Dc(4,2,i,s)},useMemo:function(i,s){var l=Qr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=Qr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=y1.bind(null,gt,i),[d.memoizedState,i]},useRef:function(i){var s=Qr();return i={current:i},s.memoizedState=i},useState:zy,useDebugValue:Vf,useDeferredValue:function(i){return Qr().memoizedState=i},useTransition:function(){var i=zy(!1),s=i[0];return i=g1.bind(null,i[1]),Qr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=gt,p=Qr();if(ft){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ft===null)throw Error(t(349));(go&30)!==0||My(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,$y(Fy.bind(null,d,y,i),[i]),d.flags|=2048,Bl(9,Ly.bind(null,d,y,l,s),void 0,null),l},useId:function(){var i=Qr(),s=Ft.identifierPrefix;if(ft){var l=Ai,d=Ci;l=(d&~(1<<32-hn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=jl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=m1++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},w1={readContext:rr,useCallback:Ky,useContext:rr,useEffect:Df,useImperativeHandle:Gy,useInsertionEffect:Hy,useLayoutEffect:Wy,useMemo:Qy,useReducer:Nf,useRef:By,useState:function(){return Nf(zl)},useDebugValue:Vf,useDeferredValue:function(i){var s=ir();return Yy(s,bt.memoizedState,i)},useTransition:function(){var i=Nf(zl)[0],s=ir().memoizedState;return[i,s]},useMutableSource:Dy,useSyncExternalStore:Vy,useId:Xy,unstable_isNewReconciler:!1},E1={readContext:rr,useCallback:Ky,useContext:rr,useEffect:Df,useImperativeHandle:Gy,useInsertionEffect:Hy,useLayoutEffect:Wy,useMemo:Qy,useReducer:Of,useRef:By,useState:function(){return Of(zl)},useDebugValue:Vf,useDeferredValue:function(i){var s=ir();return bt===null?s.memoizedState=i:Yy(s,bt.memoizedState,i)},useTransition:function(){var i=Of(zl)[0],s=ir().memoizedState;return[i,s]},useMutableSource:Dy,useSyncExternalStore:Vy,useId:Xy,unstable_isNewReconciler:!1};function Er(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Mf(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lc={isMounted:function(i){return(i=i._reactInternals)?hr(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=mn(),p=fs(i),y=Ri(d,p);y.payload=s,l!=null&&(y.callback=l),s=us(i,y,p),s!==null&&(Sr(s,i,p,d),Pc(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=mn(),p=fs(i),y=Ri(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=us(i,y,p),s!==null&&(Sr(s,i,p,d),Pc(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=mn(),d=fs(i),p=Ri(l,d);p.tag=2,s!=null&&(p.callback=s),s=us(i,p,d),s!==null&&(Sr(s,i,d,l),Pc(s,i,d))}};function tv(i,s,l,d,p,y,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,I):s.prototype&&s.prototype.isPureReactComponent?!Rl(l,d)||!Rl(p,y):!0}function nv(i,s,l){var d=!1,p=os,y=s.contextType;return typeof y=="object"&&y!==null?y=rr(y):(p=Cn(s)?co:en.current,d=s.contextTypes,y=(d=d!=null)?ha(i,p):os),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lc,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function rv(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&Lc.enqueueReplaceState(s,s.state,null)}function Lf(i,s,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},If(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=rr(y):(y=Cn(s)?co:en.current,p.context=ha(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Mf(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Lc.enqueueReplaceState(p,p.state,null),bc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function wa(i,s){try{var l="",d=s;do l+=Se(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Ff(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Uf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function iv(i,s,l){l=Ri(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Hc||(Hc=!0,ep=d),Uf(i,s)},l}function sv(i,s,l){l=Ri(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Uf(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Uf(i,s),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function ov(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new T1;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),i=M1.bind(null,i,s,l),s.then(i,i))}function av(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function lv(i,s,l,d,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ri(-1,1),s.tag=2,us(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var I1=Q.ReactCurrentOwner,An=!1;function pn(i,s,l,d){s.child=i===null?Ry(s,null,l,d):ga(s,i.child,l,d)}function uv(i,s,l,d,p){l=l.render;var y=s.ref;return va(s,p),d=bf(i,s,l,d,y,p),l=kf(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Pi(i,s,p)):(ft&&l&&ff(s),s.flags|=1,pn(i,s,d,p),s.child)}function cv(i,s,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!ap(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,dv(i,s,y,d,p)):(i=Yc(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:Rl,l(I,d)&&i.ref===s.ref)return Pi(i,s,p)}return s.flags|=1,i=ms(y,d),i.ref=s.ref,i.return=s,s.child=i}function dv(i,s,l,d,p){if(i!==null){var y=i.memoizedProps;if(Rl(y,d)&&i.ref===s.ref)if(An=!1,s.pendingProps=d=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(An=!0);else return s.lanes=i.lanes,Pi(i,s,p)}return jf(i,s,l,d,p)}function hv(i,s,l){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ta,$n),$n|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ot(Ta,$n),$n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,ot(Ta,$n),$n|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,ot(Ta,$n),$n|=d;return pn(i,s,p,l),s.child}function fv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function jf(i,s,l,d,p){var y=Cn(l)?co:en.current;return y=ha(s,y),va(s,p),l=bf(i,s,l,d,y,p),d=kf(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Pi(i,s,p)):(ft&&d&&ff(s),s.flags|=1,pn(i,s,l,p),s.child)}function pv(i,s,l,d,p){if(Cn(l)){var y=!0;Ec(s)}else y=!1;if(va(s,p),s.stateNode===null)Uc(i,s),nv(s,l,d),Lf(s,l,d,p),d=!0;else if(i===null){var I=s.stateNode,D=s.memoizedProps;I.props=D;var L=I.context,G=l.contextType;typeof G=="object"&&G!==null?G=rr(G):(G=Cn(l)?co:en.current,G=ha(s,G));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof I.getSnapshotBeforeUpdate=="function";ae||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==d||L!==G)&&rv(s,I,d,G),ls=!1;var ie=s.memoizedState;I.state=ie,bc(s,d,I,p),L=s.memoizedState,D!==d||ie!==L||Sn.current||ls?(typeof se=="function"&&(Mf(s,l,se,d),L=s.memoizedState),(D=ls||tv(s,l,D,d,ie,L,G))?(ae||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),I.props=d,I.state=L,I.context=G,d=D):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{I=s.stateNode,by(i,s),D=s.memoizedProps,G=s.type===s.elementType?D:Er(s.type,D),I.props=G,ae=s.pendingProps,ie=I.context,L=l.contextType,typeof L=="object"&&L!==null?L=rr(L):(L=Cn(l)?co:en.current,L=ha(s,L));var fe=l.getDerivedStateFromProps;(se=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==ae||ie!==L)&&rv(s,I,d,L),ls=!1,ie=s.memoizedState,I.state=ie,bc(s,d,I,p);var _e=s.memoizedState;D!==ae||ie!==_e||Sn.current||ls?(typeof fe=="function"&&(Mf(s,l,fe,d),_e=s.memoizedState),(G=ls||tv(s,l,G,d,ie,_e,L)||!1)?(se||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(d,_e,L),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(d,_e,L)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=_e),I.props=d,I.state=_e,I.context=L,d=G):(typeof I.componentDidUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),d=!1)}return zf(i,s,l,d,y,p)}function zf(i,s,l,d,p,y){fv(i,s);var I=(s.flags&128)!==0;if(!d&&!I)return p&&_y(s,l,!1),Pi(i,s,y);d=s.stateNode,I1.current=s;var D=I&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&I?(s.child=ga(s,i.child,null,y),s.child=ga(s,null,D,y)):pn(i,s,D,y),s.memoizedState=d.state,p&&_y(s,l,!0),s.child}function mv(i){var s=i.stateNode;s.pendingContext?yy(i,s.pendingContext,s.pendingContext!==s.context):s.context&&yy(i,s.context,!1),Sf(i,s.containerInfo)}function gv(i,s,l,d,p){return ma(),yf(p),s.flags|=256,pn(i,s,l,d),s.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function $f(i){return{baseLanes:i,cachePool:null,transitions:null}}function yv(i,s,l){var d=s.pendingProps,p=mt.current,y=!1,I=(s.flags&128)!==0,D;if((D=I)||(D=i!==null&&i.memoizedState===null?!1:(p&2)!==0),D?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),ot(mt,p&1),i===null)return gf(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=d.children,i=d.fallback,y?(d=s.mode,y=s.child,I={mode:"hidden",children:I},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=Xc(I,d,0,null),i=Eo(i,d,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=$f(l),s.memoizedState=Bf,i):Hf(s,I));if(p=i.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return S1(i,s,I,d,D,p,l);if(y){y=d.fallback,I=s.mode,p=i.child,D=p.sibling;var L={mode:"hidden",children:d.children};return(I&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=ms(p,L),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?y=ms(D,y):(y=Eo(y,I,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,I=i.child.memoizedState,I=I===null?$f(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=i.childLanes&~l,s.memoizedState=Bf,d}return y=i.child,i=y.sibling,d=ms(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function Hf(i,s){return s=Xc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Fc(i,s,l,d){return d!==null&&yf(d),ga(s,i.child,null,l),i=Hf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function S1(i,s,l,d,p,y,I){if(l)return s.flags&256?(s.flags&=-257,d=Ff(Error(t(422))),Fc(i,s,I,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Xc({mode:"visible",children:d.children},p,0,null),y=Eo(y,p,I,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&ga(s,i.child,null,I),s.child.memoizedState=$f(I),s.memoizedState=Bf,y);if((s.mode&1)===0)return Fc(i,s,I,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,y=Error(t(419)),d=Ff(y,d,void 0),Fc(i,s,I,d)}if(D=(I&i.childLanes)!==0,An||D){if(d=Ft,d!==null){switch(I&-I){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|I))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,xi(i,p),Sr(d,i,p,-1))}return op(),d=Ff(Error(t(421))),Fc(i,s,I,d)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=L1.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,Bn=is(p.nextSibling),zn=s,ft=!0,wr=null,i!==null&&(tr[nr++]=Ci,tr[nr++]=Ai,tr[nr++]=ho,Ci=i.id,Ai=i.overflow,ho=s),s=Hf(s,d.children),s.flags|=4096,s)}function vv(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Ef(i.return,s,l)}function Wf(i,s,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function _v(i,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(pn(i,s,d.children,l),d=mt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vv(i,l,s);else if(i.tag===19)vv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(ot(mt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&kc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Wf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&kc(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Wf(s,!0,l,null,y);break;case"together":Wf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Uc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Pi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),yo|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=ms(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ms(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function C1(i,s,l){switch(s.tag){case 3:mv(s),ma();break;case 5:Oy(s);break;case 1:Cn(s.type)&&Ec(s);break;case 4:Sf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;ot(xc,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ot(mt,mt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?yv(i,s,l):(ot(mt,mt.current&1),i=Pi(i,s,l),i!==null?i.sibling:null);ot(mt,mt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return _v(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(mt,mt.current),d)break;return null;case 22:case 23:return s.lanes=0,hv(i,s,l)}return Pi(i,s,l)}var wv,qf,Ev,Tv;wv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qf=function(){},Ev=function(i,s,l,d){var p=i.memoizedProps;if(p!==d){i=s.stateNode,mo(Kr.current);var y=null;switch(l){case"input":p=Gn(i,p),d=Gn(i,d),y=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":p=Wi(i,p),d=Wi(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=vc)}Yn(l,d);var I;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var D=p[G];for(I in D)D.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var L=d[G];if(D=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&L!==D&&(L!=null||D!=null))if(G==="style")if(D){for(I in D)!D.hasOwnProperty(I)||L&&L.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in L)L.hasOwnProperty(I)&&D[I]!==L[I]&&(l||(l={}),l[I]=L[I])}else l||(y||(y=[]),y.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(y=y||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&ut("scroll",i),y||D===L||(y=[])):(y=y||[]).push(G,L))}l&&(y=y||[]).push("style",l);var G=y;(s.updateQueue=G)&&(s.flags|=4)}},Tv=function(i,s,l,d){l!==d&&(s.flags|=4)};function $l(i,s){if(!ft)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function nn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function A1(i,s,l){var d=s.pendingProps;switch(pf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return Cn(s.type)&&wc(),nn(s),null;case 3:return d=s.stateNode,_a(),ct(Sn),ct(en),xf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Cc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wr!==null&&(rp(wr),wr=null))),qf(i,s),nn(s),null;case 5:Cf(s);var p=mo(Fl.current);if(l=s.type,i!==null&&s.stateNode!=null)Ev(i,s,l,d,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return nn(s),null}if(i=mo(Kr.current),Cc(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Gr]=s,d[Ol]=y,i=(s.mode&1)!==0,l){case"dialog":ut("cancel",d),ut("close",d);break;case"iframe":case"object":case"embed":ut("load",d);break;case"video":case"audio":for(p=0;p<bl.length;p++)ut(bl[p],d);break;case"source":ut("error",d);break;case"img":case"image":case"link":ut("error",d),ut("load",d);break;case"details":ut("toggle",d);break;case"input":Fr(d,y),ut("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ut("invalid",d);break;case"textarea":vn(d,y),ut("invalid",d)}Yn(l,y),p=null;for(var I in y)if(y.hasOwnProperty(I)){var D=y[I];I==="children"?typeof D=="string"?d.textContent!==D&&(y.suppressHydrationWarning!==!0&&yc(d.textContent,D,i),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&yc(d.textContent,D,i),p=["children",""+D]):o.hasOwnProperty(I)&&D!=null&&I==="onScroll"&&ut("scroll",d)}switch(l){case"input":Vt(d),jr(d,y,!0);break;case"textarea":Vt(d),Ys(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=vc)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{I=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Qe(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=I.createElement(l,{is:d.is}):(i=I.createElement(l),l==="select"&&(I=i,d.multiple?I.multiple=!0:d.size&&(I.size=d.size))):i=I.createElementNS(i,l),i[Gr]=s,i[Ol]=d,wv(i,s,!1,!1),s.stateNode=i;e:{switch(I=Js(l,d),l){case"dialog":ut("cancel",i),ut("close",i),p=d;break;case"iframe":case"object":case"embed":ut("load",i),p=d;break;case"video":case"audio":for(p=0;p<bl.length;p++)ut(bl[p],i);p=d;break;case"source":ut("error",i),p=d;break;case"img":case"image":case"link":ut("error",i),ut("load",i),p=d;break;case"details":ut("toggle",i),p=d;break;case"input":Fr(i,d),p=Gn(i,d),ut("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),ut("invalid",i);break;case"textarea":vn(i,d),p=Wi(i,d),ut("invalid",i);break;default:p=d}Yn(l,p),D=p;for(y in D)if(D.hasOwnProperty(y)){var L=D[y];y==="style"?Qn(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Xs(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Mn(i,L):typeof L=="number"&&Mn(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&ut("scroll",i):L!=null&&B(i,y,L,I))}switch(l){case"input":Vt(i),jr(i,d,!1);break;case"textarea":Vt(i),Ys(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?cn(i,!!d.multiple,y,!1):d.defaultValue!=null&&cn(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=vc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return nn(s),null;case 6:if(i&&s.stateNode!=null)Tv(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=mo(Fl.current),mo(Kr.current),Cc(s)){if(d=s.stateNode,l=s.memoizedProps,d[Gr]=s,(y=d.nodeValue!==l)&&(i=zn,i!==null))switch(i.tag){case 3:yc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yc(d.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Gr]=s,s.stateNode=d}return nn(s),null;case 13:if(ct(mt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cy(),ma(),s.flags|=98560,y=!1;else if(y=Cc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Gr]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nn(s),y=!1}else wr!==null&&(rp(wr),wr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(mt.current&1)!==0?kt===0&&(kt=3):op())),s.updateQueue!==null&&(s.flags|=4),nn(s),null);case 4:return _a(),qf(i,s),i===null&&kl(s.stateNode.containerInfo),nn(s),null;case 10:return wf(s.type._context),nn(s),null;case 17:return Cn(s.type)&&wc(),nn(s),null;case 19:if(ct(mt),y=s.memoizedState,y===null)return nn(s),null;if(d=(s.flags&128)!==0,I=y.rendering,I===null)if(d)$l(y,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(I=kc(i),I!==null){for(s.flags|=128,$l(y,!1),d=I.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,i=d,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,i=I.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return ot(mt,mt.current&1|2),s.child}i=i.sibling}y.tail!==null&&st()>Ia&&(s.flags|=128,d=!0,$l(y,!1),s.lanes=4194304)}else{if(!d)if(i=kc(I),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$l(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!ft)return nn(s),null}else 2*st()-y.renderingStartTime>Ia&&l!==1073741824&&(s.flags|=128,d=!0,$l(y,!1),s.lanes=4194304);y.isBackwards?(I.sibling=s.child,s.child=I):(l=y.last,l!==null?l.sibling=I:s.child=I,y.last=I)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=st(),s.sibling=null,l=mt.current,ot(mt,d?l&1|2:l&1),s):(nn(s),null);case 22:case 23:return sp(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?($n&1073741824)!==0&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function x1(i,s){switch(pf(s),s.tag){case 1:return Cn(s.type)&&wc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _a(),ct(Sn),ct(en),xf(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Cf(s),null;case 13:if(ct(mt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(mt),null;case 4:return _a(),null;case 10:return wf(s.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var jc=!1,rn=!1,R1=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ea(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){vt(i,s,d)}else l.current=null}function Gf(i,s,l){try{l()}catch(d){vt(i,s,d)}}var Iv=!1;function P1(i,s){if(sf=ts,i=ty(),Yh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,D=-1,L=-1,G=0,se=0,ae=i,ie=null;t:for(;;){for(var fe;ae!==l||p!==0&&ae.nodeType!==3||(D=I+p),ae!==y||d!==0&&ae.nodeType!==3||(L=I+d),ae.nodeType===3&&(I+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)ie=ae,ae=fe;for(;;){if(ae===i)break t;if(ie===l&&++G===p&&(D=I),ie===y&&++se===d&&(L=I),(fe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=fe}l=D===-1||L===-1?null:{start:D,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(of={focusedElem:i,selectionRange:l},ts=!1,ve=s;ve!==null;)if(s=ve,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ve=i;else for(;ve!==null;){s=ve;try{var _e=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Tt=_e.memoizedState,W=s.stateNode,F=W.getSnapshotBeforeUpdate(s.elementType===s.type?we:Er(s.type,we),Tt);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){vt(s,s.return,ce)}if(i=s.sibling,i!==null){i.return=s.return,ve=i;break}ve=s.return}return _e=Iv,Iv=!1,_e}function Hl(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Gf(s,l,y)}p=p.next}while(p!==d)}}function zc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Kf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Sv(i){var s=i.alternate;s!==null&&(i.alternate=null,Sv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Gr],delete s[Ol],delete s[cf],delete s[d1],delete s[h1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Cv(i){return i.tag===5||i.tag===3||i.tag===4}function Av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qf(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=vc));else if(d!==4&&(i=i.child,i!==null))for(Qf(i,s,l),i=i.sibling;i!==null;)Qf(i,s,l),i=i.sibling}function Yf(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Yf(i,s,l),i=i.sibling;i!==null;)Yf(i,s,l),i=i.sibling}var Gt=null,Tr=!1;function cs(i,s,l){for(l=l.child;l!==null;)xv(i,s,l),l=l.sibling}function xv(i,s,l){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(no,l)}catch{}switch(l.tag){case 5:rn||Ea(l,s);case 6:var d=Gt,p=Tr;Gt=null,cs(i,s,l),Gt=d,Tr=p,Gt!==null&&(Tr?(i=Gt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Gt.removeChild(l.stateNode));break;case 18:Gt!==null&&(Tr?(i=Gt,l=l.stateNode,i.nodeType===8?uf(i.parentNode,l):i.nodeType===1&&uf(i,l),yr(i)):uf(Gt,l.stateNode));break;case 4:d=Gt,p=Tr,Gt=l.stateNode.containerInfo,Tr=!0,cs(i,s,l),Gt=d,Tr=p;break;case 0:case 11:case 14:case 15:if(!rn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&Gf(l,s,I),p=p.next}while(p!==d)}cs(i,s,l);break;case 1:if(!rn&&(Ea(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){vt(l,s,D)}cs(i,s,l);break;case 21:cs(i,s,l);break;case 22:l.mode&1?(rn=(d=rn)||l.memoizedState!==null,cs(i,s,l),rn=d):cs(i,s,l);break;default:cs(i,s,l)}}function Rv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new R1),s.forEach(function(d){var p=F1.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Ir(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,I=s,D=I;e:for(;D!==null;){switch(D.tag){case 5:Gt=D.stateNode,Tr=!1;break e;case 3:Gt=D.stateNode.containerInfo,Tr=!0;break e;case 4:Gt=D.stateNode.containerInfo,Tr=!0;break e}D=D.return}if(Gt===null)throw Error(t(160));xv(y,I,p),Gt=null,Tr=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(G){vt(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Pv(s,i),s=s.sibling}function Pv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ir(s,i),Yr(i),d&4){try{Hl(3,i,i.return),zc(3,i)}catch(we){vt(i,i.return,we)}try{Hl(5,i,i.return)}catch(we){vt(i,i.return,we)}}break;case 1:Ir(s,i),Yr(i),d&512&&l!==null&&Ea(l,l.return);break;case 5:if(Ir(s,i),Yr(i),d&512&&l!==null&&Ea(l,l.return),i.flags&32){var p=i.stateNode;try{Mn(p,"")}catch(we){vt(i,i.return,we)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,I=l!==null?l.memoizedProps:y,D=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Ur(p,y),Js(D,I);var G=Js(D,y);for(I=0;I<L.length;I+=2){var se=L[I],ae=L[I+1];se==="style"?Qn(p,ae):se==="dangerouslySetInnerHTML"?Xs(p,ae):se==="children"?Mn(p,ae):B(p,se,ae,G)}switch(D){case"input":hi(p,y);break;case"textarea":qi(p,y);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?cn(p,!!y.multiple,fe,!1):ie!==!!y.multiple&&(y.defaultValue!=null?cn(p,!!y.multiple,y.defaultValue,!0):cn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ol]=y}catch(we){vt(i,i.return,we)}}break;case 6:if(Ir(s,i),Yr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(we){vt(i,i.return,we)}}break;case 3:if(Ir(s,i),Yr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{yr(s.containerInfo)}catch(we){vt(i,i.return,we)}break;case 4:Ir(s,i),Yr(i);break;case 13:Ir(s,i),Yr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Zf=st())),d&4&&Rv(i);break;case 22:if(se=l!==null&&l.memoizedState!==null,i.mode&1?(rn=(G=rn)||se,Ir(s,i),rn=G):Ir(s,i),Yr(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!se&&(i.mode&1)!==0)for(ve=i,se=i.child;se!==null;){for(ae=ve=se;ve!==null;){switch(ie=ve,fe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Hl(4,ie,ie.return);break;case 1:Ea(ie,ie.return);var _e=ie.stateNode;if(typeof _e.componentWillUnmount=="function"){d=ie,l=ie.return;try{s=d,_e.props=s.memoizedProps,_e.state=s.memoizedState,_e.componentWillUnmount()}catch(we){vt(d,l,we)}}break;case 5:Ea(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Nv(ae);continue}}fe!==null?(fe.return=ie,ve=fe):Nv(ae)}se=se.sibling}e:for(se=null,ae=i;;){if(ae.tag===5){if(se===null){se=ae;try{p=ae.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ae.stateNode,L=ae.memoizedProps.style,I=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=pi("display",I))}catch(we){vt(i,i.return,we)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=G?"":ae.memoizedProps}catch(we){vt(i,i.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Ir(s,i),Yr(i),d&4&&Rv(i);break;case 21:break;default:Ir(s,i),Yr(i)}}function Yr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Cv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Mn(p,""),d.flags&=-33);var y=Av(i);Yf(i,y,p);break;case 3:case 4:var I=d.stateNode.containerInfo,D=Av(i);Qf(i,D,I);break;default:throw Error(t(161))}}catch(L){vt(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function b1(i,s,l){ve=i,bv(i)}function bv(i,s,l){for(var d=(i.mode&1)!==0;ve!==null;){var p=ve,y=p.child;if(p.tag===22&&d){var I=p.memoizedState!==null||jc;if(!I){var D=p.alternate,L=D!==null&&D.memoizedState!==null||rn;D=jc;var G=rn;if(jc=I,(rn=L)&&!G)for(ve=p;ve!==null;)I=ve,L=I.child,I.tag===22&&I.memoizedState!==null?Ov(p):L!==null?(L.return=I,ve=L):Ov(p);for(;y!==null;)ve=y,bv(y),y=y.sibling;ve=p,jc=D,rn=G}kv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ve=y):kv(i)}}function kv(i){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:rn||zc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!rn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Er(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ny(s,y,d);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ny(s,I,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&yr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||s.flags&512&&Kf(s)}catch(ie){vt(s,s.return,ie)}}if(s===i){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Nv(i){for(;ve!==null;){var s=ve;if(s===i){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Ov(i){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{zc(4,s)}catch(L){vt(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(L){vt(s,p,L)}}var y=s.return;try{Kf(s)}catch(L){vt(s,y,L)}break;case 5:var I=s.return;try{Kf(s)}catch(L){vt(s,I,L)}}}catch(L){vt(s,s.return,L)}if(s===i){ve=null;break}var D=s.sibling;if(D!==null){D.return=s.return,ve=D;break}ve=s.return}}var k1=Math.ceil,Bc=Q.ReactCurrentDispatcher,Xf=Q.ReactCurrentOwner,sr=Q.ReactCurrentBatchConfig,Ke=0,Ft=null,Ct=null,Kt=0,$n=0,Ta=ss(0),kt=0,Wl=null,yo=0,$c=0,Jf=0,ql=null,xn=null,Zf=0,Ia=1/0,bi=null,Hc=!1,ep=null,ds=null,Wc=!1,hs=null,qc=0,Gl=0,tp=null,Gc=-1,Kc=0;function mn(){return(Ke&6)!==0?st():Gc!==-1?Gc:Gc=st()}function fs(i){return(i.mode&1)===0?1:(Ke&2)!==0&&Kt!==0?Kt&-Kt:p1.transition!==null?(Kc===0&&(Kc=io()),Kc):(i=We,i!==0||(i=window.event,i=i===void 0?16:El(i.type)),i)}function Sr(i,s,l,d){if(50<Gl)throw Gl=0,tp=null,Error(t(185));Xi(i,l,d),((Ke&2)===0||i!==Ft)&&(i===Ft&&((Ke&2)===0&&($c|=l),kt===4&&ps(i,Kt)),Rn(i,d),l===1&&Ke===0&&(s.mode&1)===0&&(Ia=st()+500,Tc&&as()))}function Rn(i,s){var l=i.callbackNode;vi(i,s);var d=ro(i,i===Ft?Kt:0);if(d===0)l!==null&&gl(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&gl(l),s===1)i.tag===0?f1(Vv.bind(null,i)):wy(Vv.bind(null,i)),u1(function(){(Ke&6)===0&&as()}),l=null;else{switch(Zi(d)){case 1:l=to;break;case 4:l=Ki;break;case 16:l=Jn;break;case 536870912:l=Ku;break;default:l=Jn}l=$v(l,Dv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Dv(i,s){if(Gc=-1,Kc=0,(Ke&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Sa()&&i.callbackNode!==l)return null;var d=ro(i,i===Ft?Kt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=Qc(i,d);else{s=d;var p=Ke;Ke|=2;var y=Lv();(Ft!==i||Kt!==s)&&(bi=null,Ia=st()+500,_o(i,s));do try{D1();break}catch(D){Mv(i,D)}while(!0);_f(),Bc.current=y,Ke=p,Ct!==null?s=0:(Ft=null,Kt=0,s=kt)}if(s!==0){if(s===2&&(p=Fn(i),p!==0&&(d=p,s=np(i,p))),s===1)throw l=Wl,_o(i,0),ps(i,d),Rn(i,st()),l;if(s===6)ps(i,d);else{if(p=i.current.alternate,(d&30)===0&&!N1(p)&&(s=Qc(i,d),s===2&&(y=Fn(i),y!==0&&(d=y,s=np(i,y))),s===1))throw l=Wl,_o(i,0),ps(i,d),Rn(i,st()),l;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:wo(i,xn,bi);break;case 3:if(ps(i,d),(d&130023424)===d&&(s=Zf+500-st(),10<s)){if(ro(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){mn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=lf(wo.bind(null,i,xn,bi),s);break}wo(i,xn,bi);break;case 4:if(ps(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var I=31-hn(d);y=1<<I,I=s[I],I>p&&(p=I),d&=~y}if(d=p,d=st()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*k1(d/1960))-d,10<d){i.timeoutHandle=lf(wo.bind(null,i,xn,bi),d);break}wo(i,xn,bi);break;case 5:wo(i,xn,bi);break;default:throw Error(t(329))}}}return Rn(i,st()),i.callbackNode===l?Dv.bind(null,i):null}function np(i,s){var l=ql;return i.current.memoizedState.isDehydrated&&(_o(i,s).flags|=256),i=Qc(i,s),i!==2&&(s=xn,xn=l,s!==null&&rp(s)),i}function rp(i){xn===null?xn=i:xn.push.apply(xn,i)}function N1(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!_r(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(i,s){for(s&=~Jf,s&=~$c,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-hn(s),d=1<<l;i[l]=-1,s&=~d}}function Vv(i){if((Ke&6)!==0)throw Error(t(327));Sa();var s=ro(i,0);if((s&1)===0)return Rn(i,st()),null;var l=Qc(i,s);if(i.tag!==0&&l===2){var d=Fn(i);d!==0&&(s=d,l=np(i,d))}if(l===1)throw l=Wl,_o(i,0),ps(i,s),Rn(i,st()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,wo(i,xn,bi),Rn(i,st()),null}function ip(i,s){var l=Ke;Ke|=1;try{return i(s)}finally{Ke=l,Ke===0&&(Ia=st()+500,Tc&&as())}}function vo(i){hs!==null&&hs.tag===0&&(Ke&6)===0&&Sa();var s=Ke;Ke|=1;var l=sr.transition,d=We;try{if(sr.transition=null,We=1,i)return i()}finally{We=d,sr.transition=l,Ke=s,(Ke&6)===0&&as()}}function sp(){$n=Ta.current,ct(Ta)}function _o(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,l1(l)),Ct!==null)for(l=Ct.return;l!==null;){var d=l;switch(pf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wc();break;case 3:_a(),ct(Sn),ct(en),xf();break;case 5:Cf(d);break;case 4:_a();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:wf(d.type._context);break;case 22:case 23:sp()}l=l.return}if(Ft=i,Ct=i=ms(i.current,null),Kt=$n=s,kt=0,Wl=null,Jf=$c=yo=0,xn=ql=null,po!==null){for(s=0;s<po.length;s++)if(l=po[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var I=y.next;y.next=p,d.next=I}l.pending=d}po=null}return i}function Mv(i,s){do{var l=Ct;try{if(_f(),Nc.current=Mc,Oc){for(var d=gt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Oc=!1}if(go=0,Lt=bt=gt=null,Ul=!1,jl=0,Xf.current=null,l===null||l.return===null){kt=1,Wl=s,Ct=null;break}e:{var y=i,I=l.return,D=l,L=s;if(s=Kt,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,se=D,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=av(I);if(fe!==null){fe.flags&=-257,lv(fe,I,D,y,s),fe.mode&1&&ov(y,G,s),s=fe,L=G;var _e=s.updateQueue;if(_e===null){var we=new Set;we.add(L),s.updateQueue=we}else _e.add(L);break e}else{if((s&1)===0){ov(y,G,s),op();break e}L=Error(t(426))}}else if(ft&&D.mode&1){var Tt=av(I);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),lv(Tt,I,D,y,s),yf(wa(L,D));break e}}y=L=wa(L,D),kt!==4&&(kt=2),ql===null?ql=[y]:ql.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var W=iv(y,L,s);ky(y,W);break e;case 1:D=L;var F=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ds===null||!ds.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var ce=sv(y,D,s);ky(y,ce);break e}}y=y.return}while(y!==null)}Uv(l)}catch(Ee){s=Ee,Ct===l&&l!==null&&(Ct=l=l.return);continue}break}while(!0)}function Lv(){var i=Bc.current;return Bc.current=Mc,i===null?Mc:i}function op(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||(yo&268435455)===0&&($c&268435455)===0||ps(Ft,Kt)}function Qc(i,s){var l=Ke;Ke|=2;var d=Lv();(Ft!==i||Kt!==s)&&(bi=null,_o(i,s));do try{O1();break}catch(p){Mv(i,p)}while(!0);if(_f(),Ke=l,Bc.current=d,Ct!==null)throw Error(t(261));return Ft=null,Kt=0,kt}function O1(){for(;Ct!==null;)Fv(Ct)}function D1(){for(;Ct!==null&&!qu();)Fv(Ct)}function Fv(i){var s=Bv(i.alternate,i,$n);i.memoizedProps=i.pendingProps,s===null?Uv(i):Ct=s,Xf.current=null}function Uv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=A1(l,s,$n),l!==null){Ct=l;return}}else{if(l=x1(l,s),l!==null){l.flags&=32767,Ct=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=i}while(s!==null);kt===0&&(kt=5)}function wo(i,s,l){var d=We,p=sr.transition;try{sr.transition=null,We=1,V1(i,s,l,d)}finally{sr.transition=p,We=d}return null}function V1(i,s,l,d){do Sa();while(hs!==null);if((Ke&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(nt(i,y),i===Ft&&(Ct=Ft=null,Kt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Wc||(Wc=!0,$v(Jn,function(){return Sa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=sr.transition,sr.transition=null;var I=We;We=1;var D=Ke;Ke|=4,Xf.current=null,P1(i,l),Pv(l,i),t1(of),ts=!!sf,of=sf=null,i.current=l,b1(l),Bh(),Ke=D,We=I,sr.transition=y}else i.current=l;if(Wc&&(Wc=!1,hs=i,qc=p),y=i.pendingLanes,y===0&&(ds=null),Qu(l.stateNode),Rn(i,st()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Hc)throw Hc=!1,i=ep,ep=null,i;return(qc&1)!==0&&i.tag!==0&&Sa(),y=i.pendingLanes,(y&1)!==0?i===tp?Gl++:(Gl=0,tp=i):Gl=0,as(),null}function Sa(){if(hs!==null){var i=Zi(qc),s=sr.transition,l=We;try{if(sr.transition=null,We=16>i?16:i,hs===null)var d=!1;else{if(i=hs,hs=null,qc=0,(Ke&6)!==0)throw Error(t(331));var p=Ke;for(Ke|=4,ve=i.current;ve!==null;){var y=ve,I=y.child;if((ve.flags&16)!==0){var D=y.deletions;if(D!==null){for(var L=0;L<D.length;L++){var G=D[L];for(ve=G;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:Hl(8,se,y)}var ae=se.child;if(ae!==null)ae.return=se,ve=ae;else for(;ve!==null;){se=ve;var ie=se.sibling,fe=se.return;if(Sv(se),se===G){ve=null;break}if(ie!==null){ie.return=fe,ve=ie;break}ve=fe}}}var _e=y.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Tt=we.sibling;we.sibling=null,we=Tt}while(we!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,ve=I;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Hl(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,ve=W;break e}ve=y.return}}var F=i.current;for(ve=F;ve!==null;){I=ve;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,ve=q;else e:for(I=F;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:zc(9,D)}}catch(Ee){vt(D,D.return,Ee)}if(D===I){ve=null;break e}var ce=D.sibling;if(ce!==null){ce.return=D.return,ve=ce;break e}ve=D.return}}if(Ke=p,as(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(no,i)}catch{}d=!0}return d}finally{We=l,sr.transition=s}}return!1}function jv(i,s,l){s=wa(l,s),s=iv(i,s,1),i=us(i,s,1),s=mn(),i!==null&&(Xi(i,1,s),Rn(i,s))}function vt(i,s,l){if(i.tag===3)jv(i,i,l);else for(;s!==null;){if(s.tag===3){jv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ds===null||!ds.has(d))){i=wa(l,i),i=sv(s,i,1),s=us(s,i,1),i=mn(),s!==null&&(Xi(s,1,i),Rn(s,i));break}}s=s.return}}function M1(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=mn(),i.pingedLanes|=i.suspendedLanes&l,Ft===i&&(Kt&l)===l&&(kt===4||kt===3&&(Kt&130023424)===Kt&&500>st()-Zf?_o(i,0):Jf|=l),Rn(i,s)}function zv(i,s){s===0&&((i.mode&1)===0?s=1:(s=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var l=mn();i=xi(i,s),i!==null&&(Xi(i,s,l),Rn(i,l))}function L1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),zv(i,l)}function F1(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),zv(i,l)}var Bv;Bv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Sn.current)An=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return An=!1,C1(i,s,l);An=(i.flags&131072)!==0}else An=!1,ft&&(s.flags&1048576)!==0&&Ey(s,Sc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Uc(i,s),i=s.pendingProps;var p=ha(s,en.current);va(s,l),p=bf(null,s,d,i,p,l);var y=kf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Cn(d)?(y=!0,Ec(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,If(s),p.updater=Lc,s.stateNode=p,p._reactInternals=s,Lf(s,d,i,l),s=zf(null,s,d,!0,y,l)):(s.tag=0,ft&&y&&ff(s),pn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Uc(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=j1(d),i=Er(d,i),p){case 0:s=jf(null,s,d,i,l);break e;case 1:s=pv(null,s,d,i,l);break e;case 11:s=uv(null,s,d,i,l);break e;case 14:s=cv(null,s,d,Er(d.type,i),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),jf(i,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),pv(i,s,d,p,l);case 3:e:{if(mv(s),i===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,by(i,s),bc(s,d,null,l);var I=s.memoizedState;if(d=I.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=wa(Error(t(423)),s),s=gv(i,s,d,l,p);break e}else if(d!==p){p=wa(Error(t(424)),s),s=gv(i,s,d,l,p);break e}else for(Bn=is(s.stateNode.containerInfo.firstChild),zn=s,ft=!0,wr=null,l=Ry(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ma(),d===p){s=Pi(i,s,l);break e}pn(i,s,d,l)}s=s.child}return s;case 5:return Oy(s),i===null&&gf(s),d=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,I=p.children,af(d,p)?I=null:y!==null&&af(d,y)&&(s.flags|=32),fv(i,s),pn(i,s,I,l),s.child;case 6:return i===null&&gf(s),null;case 13:return yv(i,s,l);case 4:return Sf(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=ga(s,null,d,l):pn(i,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),uv(i,s,d,p,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,I=p.value,ot(xc,d._currentValue),d._currentValue=I,y!==null)if(_r(y.value,I)){if(y.children===p.children&&!Sn.current){s=Pi(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var D=y.dependencies;if(D!==null){I=y.child;for(var L=D.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Ri(-1,l&-l),L.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?L.next=L:(L.next=se.next,se.next=L),G.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Ef(y.return,l,s),D.lanes|=l;break}L=L.next}}else if(y.tag===10)I=y.type===s.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=l,D=I.alternate,D!==null&&(D.lanes|=l),Ef(I,l,s),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===s){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}pn(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,va(s,l),p=rr(p),d=d(p),s.flags|=1,pn(i,s,d,l),s.child;case 14:return d=s.type,p=Er(d,s.pendingProps),p=Er(d.type,p),cv(i,s,d,p,l);case 15:return dv(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),Uc(i,s),s.tag=1,Cn(d)?(i=!0,Ec(s)):i=!1,va(s,l),nv(s,d,p),Lf(s,d,p,l),zf(null,s,d,!0,i,l);case 19:return _v(i,s,l);case 22:return hv(i,s,l)}throw Error(t(156,s.tag))};function $v(i,s){return Wo(i,s)}function U1(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(i,s,l,d){return new U1(i,s,l,d)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function j1(i){if(typeof i=="function")return ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===Re)return 14}return 2}function ms(i,s){var l=i.alternate;return l===null?(l=or(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Yc(i,s,l,d,p,y){var I=2;if(d=i,typeof i=="function")ap(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return Eo(l.children,p,y,s);case x:I=8,p|=8;break;case P:return i=or(12,l,s,p|2),i.elementType=P,i.lanes=y,i;case b:return i=or(13,l,s,p),i.elementType=b,i.lanes=y,i;case le:return i=or(19,l,s,p),i.elementType=le,i.lanes=y,i;case ye:return Xc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case M:I=9;break e;case V:I=11;break e;case Re:I=14;break e;case Te:I=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=or(I,l,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function Eo(i,s,l,d){return i=or(7,i,d,s),i.lanes=l,i}function Xc(i,s,l,d){return i=or(22,i,d,s),i.elementType=ye,i.lanes=l,i.stateNode={isHidden:!1},i}function lp(i,s,l){return i=or(6,i,null,s),i.lanes=l,i}function up(i,s,l){return s=or(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function z1(i,s,l,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function cp(i,s,l,d,p,y,I,D,L){return i=new z1(i,s,l,D,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=or(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(y),i}function B1(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function Hv(i){if(!i)return os;i=i._reactInternals;e:{if(hr(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Cn(l))return vy(i,l,s)}return s}function Wv(i,s,l,d,p,y,I,D,L){return i=cp(l,d,!0,i,p,y,I,D,L),i.context=Hv(null),l=i.current,d=mn(),p=fs(l),y=Ri(d,p),y.callback=s??null,us(l,y,p),i.current.lanes=p,Xi(i,p,d),Rn(i,d),i}function Jc(i,s,l,d){var p=s.current,y=mn(),I=fs(p);return l=Hv(l),s.context===null?s.context=l:s.pendingContext=l,s=Ri(y,I),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=us(p,s,I),i!==null&&(Sr(i,p,I,y),Pc(i,p,I)),I}function Zc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function qv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function dp(i,s){qv(i,s),(i=i.alternate)&&qv(i,s)}function $1(){return null}var Gv=typeof reportError=="function"?reportError:function(i){console.error(i)};function hp(i){this._internalRoot=i}ed.prototype.render=hp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Jc(i,s,null,null)},ed.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;vo(function(){Jc(null,i,null,null)}),s[Ii]=null}};function ed(i){this._internalRoot=i}ed.prototype.unstable_scheduleHydration=function(i){if(i){var s=ec();i={blockedOn:null,target:i,priority:s};for(var l=0;l<$r.length&&s!==0&&s<$r[l].priority;l++);$r.splice(l,0,i),l===0&&rc(i)}};function fp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function td(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function H1(i,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var G=Zc(I);y.call(G)}}var I=Wv(s,d,i,0,null,!1,!1,"",Kv);return i._reactRootContainer=I,i[Ii]=I.current,kl(i.nodeType===8?i.parentNode:i),vo(),I}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var G=Zc(L);D.call(G)}}var L=cp(i,0,!1,null,null,!1,!1,"",Kv);return i._reactRootContainer=L,i[Ii]=L.current,kl(i.nodeType===8?i.parentNode:i),vo(function(){Jc(s,L,l,d)}),L}function nd(i,s,l,d,p){var y=l._reactRootContainer;if(y){var I=y;if(typeof p=="function"){var D=p;p=function(){var L=Zc(I);D.call(L)}}Jc(s,I,i,p)}else I=H1(l,s,i,p,d);return Zc(I)}Ju=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Qi(s.pendingLanes);l!==0&&(Ji(s,l|1),Rn(s,st()),(Ke&6)===0&&(Ia=st()+500,as()))}break;case 13:vo(function(){var d=xi(i,1);if(d!==null){var p=mn();Sr(d,i,1,p)}}),dp(i,1)}},Ko=function(i){if(i.tag===13){var s=xi(i,134217728);if(s!==null){var l=mn();Sr(s,i,134217728,l)}dp(i,134217728)}},Zu=function(i){if(i.tag===13){var s=fs(i),l=xi(i,s);if(l!==null){var d=mn();Sr(l,i,s,d)}dp(i,s)}},ec=function(){return We},tc=function(i,s){var l=We;try{return We=i,s()}finally{We=l}},yi=function(i,s,l){switch(s){case"input":if(hi(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var p=_c(d);if(!p)throw Error(t(90));Dn(d),hi(d,p)}}}break;case"textarea":qi(i,l);break;case"select":s=l.value,s!=null&&cn(i,!!l.multiple,s,!1)}},ze=ip,Je=vo;var W1={usingClientEntryPoint:!1,Events:[Dl,ca,_c,Xn,Pe,ip]},Kl={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ml(i),i===null?null:i.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{no=rd.inject(q1),Ln=rd}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W1,Pn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(s))throw Error(t(200));return B1(i,s,null,l)},Pn.createRoot=function(i,s){if(!fp(i))throw Error(t(299));var l=!1,d="",p=Gv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=cp(i,1,!1,null,null,l,!1,d,p),i[Ii]=s.current,kl(i.nodeType===8?i.parentNode:i),new hp(s)},Pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ml(s),i=i===null?null:i.stateNode,i},Pn.flushSync=function(i){return vo(i)},Pn.hydrate=function(i,s,l){if(!td(s))throw Error(t(200));return nd(null,i,s,!0,l)},Pn.hydrateRoot=function(i,s,l){if(!fp(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",I=Gv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=Wv(s,null,i,1,l??null,p,!1,y,I),i[Ii]=s.current,kl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new ed(s)},Pn.render=function(i,s,l){if(!td(s))throw Error(t(200));return nd(null,i,s,!1,l)},Pn.unmountComponentAtNode=function(i){if(!td(i))throw Error(t(40));return i._reactRootContainer?(vo(function(){nd(null,null,i,!1,function(){i._reactRootContainer=null,i[Ii]=null})}),!0):!1},Pn.unstable_batchedUpdates=ip,Pn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!td(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return nd(i,s,l,!1,d)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var i_;function k0(){if(i_)return _p.exports;i_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_p.exports=sC(),_p.exports}var rh=k0();const N0=R0(rh);function Nt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function s_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function O0(...n){return e=>{let t=!1;const r=n.map(o=>{const a=s_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():s_(n[o],null)}}}}function Dr(...n){return N.useCallback(O0(...n),n)}function ih(n,e=[]){let t=[];function r(a,u){const h=N.createContext(u),f=t.length;t=[...t,u];const m=_=>{var j;const{scope:E,children:T,...R}=_,A=((j=E==null?void 0:E[n])==null?void 0:j[f])||h,S=N.useMemo(()=>R,Object.values(R));return $.jsx(A.Provider,{value:S,children:T})};m.displayName=a+"Provider";function v(_,E){var A;const T=((A=E==null?void 0:E[n])==null?void 0:A[f])||h,R=N.useContext(T);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[m,v]}const o=()=>{const a=t.map(u=>N.createContext(u));return function(h){const f=(h==null?void 0:h[n])||a;return N.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[r,oC(o,...e)]}function oC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:m})=>{const _=f(a)[`__scope${m}`];return{...h,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function kd(n){const e=lC(n),t=N.forwardRef((r,o)=>{const{children:a,...u}=r,h=N.Children.toArray(a),f=h.find(cC);if(f){const m=f.props.children,v=h.map(_=>_===f?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:_);return $.jsx(e,{...u,ref:o,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return $.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var aC=kd("Slot");function lC(n){const e=N.forwardRef((t,r)=>{const{children:o,...a}=t;if(N.isValidElement(o)){const u=hC(o),h=dC(a,o.props);return o.type!==N.Fragment&&(h.ref=r?O0(r,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var D0=Symbol("radix.slottable");function uC(n){const e=({children:t})=>$.jsx($.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=D0,e}function cC(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===D0}function dC(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function hC(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function fC(n){const e=n+"CollectionProvider",[t,r]=ih(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:S,children:j}=A,z=de.useRef(null),B=de.useRef(new Map).current;return $.jsx(o,{scope:S,itemMap:B,collectionRef:z,children:j})};u.displayName=e;const h=n+"CollectionSlot",f=kd(h),m=de.forwardRef((A,S)=>{const{scope:j,children:z}=A,B=a(h,j),Q=Dr(S,B.collectionRef);return $.jsx(f,{ref:Q,children:z})});m.displayName=h;const v=n+"CollectionItemSlot",_="data-radix-collection-item",E=kd(v),T=de.forwardRef((A,S)=>{const{scope:j,children:z,...B}=A,Q=de.useRef(null),Y=Dr(S,Q),ee=a(v,j);return de.useEffect(()=>(ee.itemMap.set(Q,{ref:Q,...B}),()=>void ee.itemMap.delete(Q))),$.jsx(E,{[_]:"",ref:Y,children:z})});T.displayName=v;function R(A){const S=a(n+"CollectionConsumer",A);return de.useCallback(()=>{const z=S.collectionRef.current;if(!z)return[];const B=Array.from(z.querySelectorAll(`[${_}]`));return Array.from(S.itemMap.values()).sort((ee,k)=>B.indexOf(ee.ref.current)-B.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:T},R,r]}var pC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],On=pC.reduce((n,e)=>{const t=kd(`Primitive.${e}`),r=N.forwardRef((o,a)=>{const{asChild:u,...h}=o,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function V0(n,e){n&&rh.flushSync(()=>n.dispatchEvent(e))}function Ls(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function mC(n,e=globalThis==null?void 0:globalThis.document){const t=Ls(n);N.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var gC="DismissableLayer",Up="dismissableLayer.update",yC="dismissableLayer.pointerDownOutside",vC="dismissableLayer.focusOutside",o_,M0=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nm=N.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,m=N.useContext(M0),[v,_]=N.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=N.useState({}),R=Dr(e,k=>_(k)),A=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=A.indexOf(S),z=v?A.indexOf(v):-1,B=m.layersWithOutsidePointerEventsDisabled.size>0,Q=z>=j,Y=wC(k=>{const x=k.target,P=[...m.branches].some(O=>O.contains(x));!Q||P||(o==null||o(k),u==null||u(k),k.defaultPrevented||h==null||h())},E),ee=EC(k=>{const x=k.target;[...m.branches].some(O=>O.contains(x))||(a==null||a(k),u==null||u(k),k.defaultPrevented||h==null||h())},E);return mC(k=>{z===m.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},E),N.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(o_=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),a_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=o_)}},[v,E,t,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),a_())},[v,m]),N.useEffect(()=>{const k=()=>T({});return document.addEventListener(Up,k),()=>document.removeEventListener(Up,k)},[]),$.jsx(On.div,{...f,ref:R,style:{pointerEvents:B?Q?"auto":"none":void 0,...n.style},onFocusCapture:Nt(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:Nt(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:Nt(n.onPointerDownCapture,Y.onPointerDownCapture)})});Nm.displayName=gC;var _C="DismissableLayerBranch",L0=N.forwardRef((n,e)=>{const t=N.useContext(M0),r=N.useRef(null),o=Dr(e,r);return N.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),$.jsx(On.div,{...n,ref:o})});L0.displayName=_C;function wC(n,e=globalThis==null?void 0:globalThis.document){const t=Ls(n),r=N.useRef(!1),o=N.useRef(()=>{});return N.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){F0(yC,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function EC(n,e=globalThis==null?void 0:globalThis.document){const t=Ls(n),r=N.useRef(!1);return N.useEffect(()=>{const o=a=>{a.target&&!r.current&&F0(vC,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a_(){const n=new CustomEvent(Up);document.dispatchEvent(n)}function F0(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?V0(o,a):o.dispatchEvent(a)}var TC=Nm,IC=L0,Fs=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},SC="Portal",U0=N.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[o,a]=N.useState(!1);Fs(()=>a(!0),[]);const u=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?N0.createPortal($.jsx(On.div,{...r,ref:e}),u):null});U0.displayName=SC;function CC(n,e){return N.useReducer((t,r)=>e[t][r]??t,n)}var Om=n=>{const{present:e,children:t}=n,r=AC(e),o=typeof t=="function"?t({present:r.isPresent}):N.Children.only(t),a=Dr(r.ref,xC(o));return typeof t=="function"||r.isPresent?N.cloneElement(o,{ref:a}):null};Om.displayName="Presence";function AC(n){const[e,t]=N.useState(),r=N.useRef(null),o=N.useRef(n),a=N.useRef("none"),u=n?"mounted":"unmounted",[h,f]=CC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=sd(r.current);a.current=h==="mounted"?m:"none"},[h]),Fs(()=>{const m=r.current,v=o.current;if(v!==n){const E=a.current,T=sd(m);n?f("MOUNT"):T==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(v&&E!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Fs(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=T=>{const A=sd(r.current).includes(CSS.escape(T.animationName));if(T.target===e&&A&&(f("ANIMATION_END"),!o.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},E=T=>{T.target===e&&(a.current=sd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:N.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function sd(n){return(n==null?void 0:n.animationName)||"none"}function xC(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RC=P0[" useInsertionEffect ".trim().toString()]||Fs;function PC({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,u]=bC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const v=N.useRef(n!==void 0);N.useEffect(()=>{const _=v.current;_!==h&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,r])}const m=N.useCallback(v=>{var _;if(h){const E=kC(v)?v(n):v;E!==n&&((_=u.current)==null||_.call(u,E))}else a(v)},[h,n,a,u]);return[f,m]}function bC({defaultProp:n,onChange:e}){const[t,r]=N.useState(n),o=N.useRef(t),a=N.useRef(e);return RC(()=>{a.current=e},[e]),N.useEffect(()=>{var u;o.current!==t&&((u=a.current)==null||u.call(a,t),o.current=t)},[t,o]),[t,r,a]}function kC(n){return typeof n=="function"}var NC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OC="VisuallyHidden",sh=N.forwardRef((n,e)=>$.jsx(On.span,{...n,ref:e,style:{...NC,...n.style}}));sh.displayName=OC;var DC=sh,Dm="ToastProvider",[Vm,VC,MC]=fC("Toast"),[j0,WM]=ih("Toast",[MC]),[LC,oh]=j0(Dm),z0=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=n,[h,f]=N.useState(null),[m,v]=N.useState(0),_=N.useRef(!1),E=N.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dm}\`. Expected non-empty \`string\`.`),$.jsx(Vm.Provider,{scope:e,children:$.jsx(LC,{scope:e,label:t,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:h,onViewportChange:f,onToastAdd:N.useCallback(()=>v(T=>T+1),[]),onToastRemove:N.useCallback(()=>v(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:E,children:u})})};z0.displayName=Dm;var B0="ToastViewport",FC=["F8"],jp="toast.viewportPause",zp="toast.viewportResume",$0=N.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=FC,label:o="Notifications ({hotkey})",...a}=n,u=oh(B0,t),h=VC(t),f=N.useRef(null),m=N.useRef(null),v=N.useRef(null),_=N.useRef(null),E=Dr(e,_,u.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=u.toastCount>0;N.useEffect(()=>{const S=j=>{var B;r.length!==0&&r.every(Q=>j[Q]||j.code===Q)&&((B=_.current)==null||B.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),N.useEffect(()=>{const S=f.current,j=_.current;if(R&&S&&j){const z=()=>{if(!u.isClosePausedRef.current){const ee=new CustomEvent(jp);j.dispatchEvent(ee),u.isClosePausedRef.current=!0}},B=()=>{if(u.isClosePausedRef.current){const ee=new CustomEvent(zp);j.dispatchEvent(ee),u.isClosePausedRef.current=!1}},Q=ee=>{!S.contains(ee.relatedTarget)&&B()},Y=()=>{S.contains(document.activeElement)||B()};return S.addEventListener("focusin",z),S.addEventListener("focusout",Q),S.addEventListener("pointermove",z),S.addEventListener("pointerleave",Y),window.addEventListener("blur",z),window.addEventListener("focus",B),()=>{S.removeEventListener("focusin",z),S.removeEventListener("focusout",Q),S.removeEventListener("pointermove",z),S.removeEventListener("pointerleave",Y),window.removeEventListener("blur",z),window.removeEventListener("focus",B)}}},[R,u.isClosePausedRef]);const A=N.useCallback(({tabbingDirection:S})=>{const z=h().map(B=>{const Q=B.ref.current,Y=[Q,...XC(Q)];return S==="forwards"?Y:Y.reverse()});return(S==="forwards"?z.reverse():z).flat()},[h]);return N.useEffect(()=>{const S=_.current;if(S){const j=z=>{var Y,ee,k;const B=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!B){const x=document.activeElement,P=z.shiftKey;if(z.target===S&&P){(Y=m.current)==null||Y.focus();return}const V=A({tabbingDirection:P?"backwards":"forwards"}),b=V.findIndex(le=>le===x);Tp(V.slice(b+1))?z.preventDefault():P?(ee=m.current)==null||ee.focus():(k=v.current)==null||k.focus()}};return S.addEventListener("keydown",j),()=>S.removeEventListener("keydown",j)}},[h,A]),$.jsxs(IC,{ref:f,role:"region","aria-label":o.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&$.jsx(Bp,{ref:m,onFocusFromOutsideViewport:()=>{const S=A({tabbingDirection:"forwards"});Tp(S)}}),$.jsx(Vm.Slot,{scope:t,children:$.jsx(On.ol,{tabIndex:-1,...a,ref:E})}),R&&$.jsx(Bp,{ref:v,onFocusFromOutsideViewport:()=>{const S=A({tabbingDirection:"backwards"});Tp(S)}})]})});$0.displayName=B0;var H0="ToastFocusProxy",Bp=N.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...o}=n,a=oh(H0,t);return $.jsx(sh,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{var m;const h=u.relatedTarget;!((m=a.viewport)!=null&&m.contains(h))&&r()}})});Bp.displayName=H0;var Ru="Toast",UC="toast.swipeStart",jC="toast.swipeMove",zC="toast.swipeCancel",BC="toast.swipeEnd",W0=N.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:o,onOpenChange:a,...u}=n,[h,f]=PC({prop:r,defaultProp:o??!0,onChange:a,caller:Ru});return $.jsx(Om,{present:t||h,children:$.jsx(WC,{open:h,...u,ref:e,onClose:()=>f(!1),onPause:Ls(n.onPause),onResume:Ls(n.onResume),onSwipeStart:Nt(n.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Nt(n.onSwipeMove,m=>{const{x:v,y:_}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Nt(n.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Nt(n.onSwipeEnd,m=>{const{x:v,y:_}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});W0.displayName=Ru;var[$C,HC]=j0(Ru,{onClose(){}}),WC=N.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:h,onPause:f,onResume:m,onSwipeStart:v,onSwipeMove:_,onSwipeCancel:E,onSwipeEnd:T,...R}=n,A=oh(Ru,t),[S,j]=N.useState(null),z=Dr(e,le=>j(le)),B=N.useRef(null),Q=N.useRef(null),Y=o||A.duration,ee=N.useRef(0),k=N.useRef(Y),x=N.useRef(0),{onToastAdd:P,onToastRemove:O}=A,M=Ls(()=>{var Re;(S==null?void 0:S.contains(document.activeElement))&&((Re=A.viewport)==null||Re.focus()),u()}),V=N.useCallback(le=>{!le||le===1/0||(window.clearTimeout(x.current),ee.current=new Date().getTime(),x.current=window.setTimeout(M,le))},[M]);N.useEffect(()=>{const le=A.viewport;if(le){const Re=()=>{V(k.current),m==null||m()},Te=()=>{const ye=new Date().getTime()-ee.current;k.current=k.current-ye,window.clearTimeout(x.current),f==null||f()};return le.addEventListener(jp,Te),le.addEventListener(zp,Re),()=>{le.removeEventListener(jp,Te),le.removeEventListener(zp,Re)}}},[A.viewport,Y,f,m,V]),N.useEffect(()=>{a&&!A.isClosePausedRef.current&&V(Y)},[a,Y,A.isClosePausedRef,V]),N.useEffect(()=>(P(),()=>O()),[P,O]);const b=N.useMemo(()=>S?J0(S):null,[S]);return A.viewport?$.jsxs($.Fragment,{children:[b&&$.jsx(qC,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:b}),$.jsx($C,{scope:t,onClose:M,children:rh.createPortal($.jsx(Vm.ItemSlot,{scope:t,children:$.jsx(TC,{asChild:!0,onEscapeKeyDown:Nt(h,()=>{A.isFocusedToastEscapeKeyDownRef.current||M(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:$.jsx(On.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":A.swipeDirection,...R,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Nt(n.onKeyDown,le=>{le.key==="Escape"&&(h==null||h(le.nativeEvent),le.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Nt(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:Nt(n.onPointerMove,le=>{if(!B.current)return;const Re=le.clientX-B.current.x,Te=le.clientY-B.current.y,ye=!!Q.current,J=["left","right"].includes(A.swipeDirection),te=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,oe=J?te(0,Re):0,U=J?0:te(0,Te),K=le.pointerType==="touch"?10:2,ue={x:oe,y:U},ge={originalEvent:le,delta:ue};ye?(Q.current=ue,od(jC,_,ge,{discrete:!1})):l_(ue,A.swipeDirection,K)?(Q.current=ue,od(UC,v,ge,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Re)>K||Math.abs(Te)>K)&&(B.current=null)}),onPointerUp:Nt(n.onPointerUp,le=>{const Re=Q.current,Te=le.target;if(Te.hasPointerCapture(le.pointerId)&&Te.releasePointerCapture(le.pointerId),Q.current=null,B.current=null,Re){const ye=le.currentTarget,J={originalEvent:le,delta:Re};l_(Re,A.swipeDirection,A.swipeThreshold)?od(BC,T,J,{discrete:!0}):od(zC,E,J,{discrete:!0}),ye.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),qC=n=>{const{__scopeToast:e,children:t,...r}=n,o=oh(Ru,e),[a,u]=N.useState(!1),[h,f]=N.useState(!1);return QC(()=>u(!0)),N.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),h?null:$.jsx(U0,{asChild:!0,children:$.jsx(sh,{...r,children:a&&$.jsxs($.Fragment,{children:[o.label," ",t]})})})},GC="ToastTitle",q0=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return $.jsx(On.div,{...r,ref:e})});q0.displayName=GC;var KC="ToastDescription",G0=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return $.jsx(On.div,{...r,ref:e})});G0.displayName=KC;var K0="ToastAction",Q0=N.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?$.jsx(X0,{altText:t,asChild:!0,children:$.jsx(Mm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${K0}\`. Expected non-empty \`string\`.`),null)});Q0.displayName=K0;var Y0="ToastClose",Mm=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,o=HC(Y0,t);return $.jsx(X0,{asChild:!0,children:$.jsx(On.button,{type:"button",...r,ref:e,onClick:Nt(n.onClick,o.onClose)})})});Mm.displayName=Y0;var X0=N.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...o}=n;return $.jsx(On.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function J0(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),YC(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...J0(r))}}),e}function od(n,e,t,{discrete:r}){const o=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?V0(o,a):o.dispatchEvent(a)}var l_=(n,e,t=0)=>{const r=Math.abs(n.x),o=Math.abs(n.y),a=r>o;return e==="left"||e==="right"?a&&r>t:!a&&o>t};function QC(n=()=>{}){const e=Ls(n);Fs(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function YC(n){return n.nodeType===n.ELEMENT_NODE}function XC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var JC=z0,Z0=$0,eE=W0,tE=q0,nE=G0,rE=Q0,iE=Mm;function sE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=sE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function oE(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=sE(n))&&(r&&(r+=" "),r+=e);return r}const u_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,c_=oE,aE=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return c_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const v=t==null?void 0:t[m],_=a==null?void 0:a[m];if(v===null)return null;const E=u_(v)||u_(_);return o[m][E]}),h=t&&Object.entries(t).reduce((m,v)=>{let[_,E]=v;return E===void 0||(m[_]=E),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,v)=>{let{class:_,className:E,...T}=v;return Object.entries(T).every(R=>{let[A,S]=R;return Array.isArray(S)?S.includes({...a,...h}[A]):{...a,...h}[A]===S})?[...m,_,E]:m},[]);return c_(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...h},f)=>N.createElement("svg",{ref:f,...eA,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:lE("lucide",o),...h},[...u.map(([m,v])=>N.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=(n,e)=>{const t=N.forwardRef(({className:r,...o},a)=>N.createElement(tA,{ref:a,iconNode:e,className:lE(`lucide-${ZC(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Pu("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Pu("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Pu("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Pu("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Pu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lm="-",oA=n=>{const e=lA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(Lm);return h[0]===""&&h.length!==1&&h.shift(),uE(h,e)||aA(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&r[u]?[...f,...r[u]]:f}}},uE=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?uE(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Lm);return(u=e.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},h_=/^\[(.+)\]$/,aA=n=>{if(h_.test(n)){const e=h_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lA=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return cA(Object.entries(n.classGroups),t).forEach(([a,u])=>{$p(u,r,a,e)}),r},$p=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:f_(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(uA(o)){$p(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{$p(u,f_(e,a),t,r)})})},f_=(n,e)=>{let t=n;return e.split(Lm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},uA=n=>n.isThemeGetter,cA=(n,e)=>e?n.map(([t,r])=>{const o=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,o]}):n,dA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},cE="!",hA=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,o=e[0],a=e.length,u=h=>{const f=[];let m=0,v=0,_;for(let S=0;S<h.length;S++){let j=h[S];if(m===0){if(j===o&&(r||h.slice(S,S+a)===e)){f.push(h.slice(v,S)),v=S+a;continue}if(j==="/"){_=S;continue}}j==="["?m++:j==="]"&&m--}const E=f.length===0?h:h.substring(v),T=E.startsWith(cE),R=T?E.substring(1):E,A=_&&_>v?_-v:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:R,maybePostfixModifierPosition:A}};return t?h=>t({className:h,parseClassName:u}):u},fA=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},pA=n=>({cache:dA(n.cacheSize),parseClassName:hA(n),...oA(n)}),mA=/\s+/,gA=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o}=e,a=[],u=n.trim().split(mA);let h="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:v,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:T}=t(m);let R=!!T,A=r(R?E.substring(0,T):E);if(!A){if(!R){h=m+(h.length>0?" "+h:h);continue}if(A=r(E),!A){h=m+(h.length>0?" "+h:h);continue}R=!1}const S=fA(v).join(":"),j=_?S+cE:S,z=j+A;if(a.includes(z))continue;a.push(z);const B=o(A,R);for(let Q=0;Q<B.length;++Q){const Y=B[Q];a.push(j+Y)}h=m+(h.length>0?" "+h:h)}return h};function yA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=dE(e))&&(r&&(r+=" "),r+=t);return r}const dE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=dE(n[r]))&&(t&&(t+=" "),t+=e);return t};function vA(n,...e){let t,r,o,a=u;function u(f){const m=e.reduce((v,_)=>_(v),n());return t=pA(m),r=t.cache.get,o=t.cache.set,a=h,h(f)}function h(f){const m=r(f);if(m)return m;const v=gA(f,t);return o(f,v),v}return function(){return a(yA.apply(null,arguments))}}const dt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},hE=/^\[(?:([a-z-]+):)?(.+)\]$/i,_A=/^\d+\/\d+$/,wA=new Set(["px","full","screen"]),EA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=n=>Pa(n)||wA.has(n)||_A.test(n),ys=n=>tl(n,"length",OA),Pa=n=>!!n&&!Number.isNaN(Number(n)),Ip=n=>tl(n,"number",Pa),Yl=n=>!!n&&Number.isInteger(Number(n)),AA=n=>n.endsWith("%")&&Pa(n.slice(0,-1)),Le=n=>hE.test(n),vs=n=>EA.test(n),xA=new Set(["length","size","percentage"]),RA=n=>tl(n,xA,fE),PA=n=>tl(n,"position",fE),bA=new Set(["image","url"]),kA=n=>tl(n,bA,VA),NA=n=>tl(n,"",DA),Xl=()=>!0,tl=(n,e,t)=>{const r=hE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},OA=n=>TA.test(n)&&!IA.test(n),fE=()=>!1,DA=n=>SA.test(n),VA=n=>CA.test(n),MA=()=>{const n=dt("colors"),e=dt("spacing"),t=dt("blur"),r=dt("brightness"),o=dt("borderColor"),a=dt("borderRadius"),u=dt("borderSpacing"),h=dt("borderWidth"),f=dt("contrast"),m=dt("grayscale"),v=dt("hueRotate"),_=dt("invert"),E=dt("gap"),T=dt("gradientColorStops"),R=dt("gradientColorStopPositions"),A=dt("inset"),S=dt("margin"),j=dt("opacity"),z=dt("padding"),B=dt("saturate"),Q=dt("scale"),Y=dt("sepia"),ee=dt("skew"),k=dt("space"),x=dt("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Le,e],V=()=>[Le,e],b=()=>["",ki,ys],le=()=>["auto",Pa,Le],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Te=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Le],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Pa,Le];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[ki,ys],blur:["none","",vs,Le],brightness:U(),borderColor:[n],borderRadius:["none","","full",vs,Le],borderSpacing:V(),borderWidth:b(),contrast:U(),grayscale:te(),hueRotate:U(),invert:te(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[AA,ys],inset:M(),margin:M(),opacity:U(),padding:V(),saturate:U(),scale:U(),sepia:te(),skew:U(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),Le]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yl,Le]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Yl,Le]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Yl,Le]},Le]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Yl,Le]},Le]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ip]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Pa,Ip]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ki,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ki,ys]}],"underline-offset":[{"underline-offset":["auto",ki,Le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),PA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kA]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Te(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Te()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Te()]}],"outline-offset":[{"outline-offset":[ki,Le]}],"outline-w":[{outline:[ki,ys]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ki,ys]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",vs,NA]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",vs,Le]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[_]}],saturate:[{saturate:[B]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[Yl,Le]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[ee]}],"skew-y":[{"skew-y":[ee]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ki,ys,Ip]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LA=vA(MA);function Xt(...n){return LA(oE(n))}const FA=JC,pE=N.forwardRef(({className:n,...e},t)=>$.jsx(Z0,{ref:t,className:Xt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));pE.displayName=Z0.displayName;const UA=aE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mE=N.forwardRef(({className:n,variant:e,...t},r)=>$.jsx(eE,{ref:r,className:Xt(UA({variant:e}),n),...t}));mE.displayName=eE.displayName;const jA=N.forwardRef(({className:n,...e},t)=>$.jsx(rE,{ref:t,className:Xt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));jA.displayName=rE.displayName;const gE=N.forwardRef(({className:n,...e},t)=>$.jsx(iE,{ref:t,className:Xt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:$.jsx(sA,{className:"h-4 w-4"})}));gE.displayName=iE.displayName;const yE=N.forwardRef(({className:n,...e},t)=>$.jsx(tE,{ref:t,className:Xt("text-sm font-semibold",n),...e}));yE.displayName=tE.displayName;const vE=N.forwardRef(({className:n,...e},t)=>$.jsx(nE,{ref:t,className:Xt("text-sm opacity-90",n),...e}));vE.displayName=nE.displayName;function zA(){const{toasts:n}=b0();return $.jsxs(FA,{children:[n.map(function({id:e,title:t,description:r,action:o,...a}){return $.jsxs(mE,{...a,children:[$.jsxs("div",{className:"grid gap-1",children:[t&&$.jsx(yE,{children:t}),r&&$.jsx(vE,{children:r})]}),o,$.jsx(gE,{})]},e)}),$.jsx(pE,{})]})}var ad={},p_;function BA(){if(p_)return ad;p_=1;var n=k0();return ad.createRoot=n.createRoot,ad.hydrateRoot=n.hydrateRoot,ad}var $A=BA(),m_=["light","dark"],HA="(prefers-color-scheme: dark)",WA=N.createContext(void 0),qA={setTheme:n=>{},themes:[]},GA=()=>{var n;return(n=N.useContext(WA))!=null?n:qA};N.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:u,attrs:h,nonce:f})=>{let m=a==="system",v=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${h.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,_=o?m_.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(R,A=!1,S=!0)=>{let j=u?u[R]:R,z=A?R+"|| ''":`'${j}'`,B="";return o&&S&&!A&&m_.includes(R)&&(B+=`d.style.colorScheme = '${R}';`),t==="class"?A||j?B+=`c.add(${z})`:B+="null":j&&(B+=`d[s](n,${z})`),B},T=n?`!function(){${v}${E(n)}}()`:r?`!function(){try{${v}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${m})){var t='${HA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${E(u?"x[e]":"e",!0)}}${m?"":"else{"+E(a,!1,!1)+"}"}${_}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${e}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${E(u?"x[e]":"e",!0)}}else{${E(a,!1,!1)};}${_}}catch(t){}}();`;return N.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:T}})});var KA=n=>{switch(n){case"success":return XA;case"info":return ZA;case"warning":return JA;case"error":return ex;default:return null}},QA=Array(12).fill(0),YA=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},QA.map((t,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),XA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ex=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tx=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nx=()=>{let[n,e]=de.useState(document.hidden);return de.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Hp=1,rx=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hp++,u=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:h,title:r}):f):this.addToast({title:r,...o,dismissible:h,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let o=e instanceof Promise?e:e(),a=r!==void 0,u,h=o.then(async m=>{if(u=["resolve",m],de.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(sx(m)&&!m.ok){a=!1;let v=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,_=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description;this.create({id:r,type:"error",message:v,description:_})}else if(t.success!==void 0){a=!1;let v=typeof t.success=="function"?await t.success(m):t.success,_=typeof t.description=="function"?await t.description(m):t.description;this.create({id:r,type:"success",message:v,description:_})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){a=!1;let v=typeof t.error=="function"?await t.error(m):t.error,_=typeof t.description=="function"?await t.description(m):t.description;this.create({id:r,type:"error",message:v,description:_})}}).finally(()=>{var m;a&&(this.dismiss(r),r=void 0),(m=t.finally)==null||m.call(t)}),f=()=>new Promise((m,v)=>h.then(()=>u[0]==="reject"?v(u[1]):m(u[1])).catch(v));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Hp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bn=new rx,ix=(n,e)=>{let t=(e==null?void 0:e.id)||Hp++;return bn.addToast({title:n,...e,id:t}),t},sx=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",ox=ix,ax=()=>bn.toasts,lx=()=>bn.getActiveToasts();Object.assign(ox,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:ax,getToasts:lx});function ux(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}ux(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ld(n){return n.label!==void 0}var cx=3,dx="32px",hx="16px",g_=4e3,fx=356,px=14,mx=20,gx=200;function Cr(...n){return n.filter(Boolean).join(" ")}function yx(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var vx=n=>{var e,t,r,o,a,u,h,f,m,v,_;let{invert:E,toast:T,unstyled:R,interacting:A,setHeights:S,visibleToasts:j,heights:z,index:B,toasts:Q,expanded:Y,removeToast:ee,defaultRichColors:k,closeButton:x,style:P,cancelButtonStyle:O,actionButtonStyle:M,className:V="",descriptionClassName:b="",duration:le,position:Re,gap:Te,loadingIcon:ye,expandByDefault:J,classNames:te,icons:oe,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:K}=n,[ue,ge]=de.useState(null),[Se,Ve]=de.useState(null),[Ie,Ue]=de.useState(!1),[He,rt]=de.useState(!1),[Vt,Dn]=de.useState(!1),[$t,Gn]=de.useState(!1),[Fr,Ur]=de.useState(!1),[hi,jr]=de.useState(0),[Vn,Kn]=de.useState(0),cn=de.useRef(T.duration||le||g_),Wi=de.useRef(null),vn=de.useRef(null),qi=B===0,Ys=B+1<=j,Qe=T.type,it=T.dismissible!==!1,cr=T.className||"",Xs=T.descriptionClassName||"",Mn=de.useMemo(()=>z.findIndex(Pe=>Pe.toastId===T.id)||0,[z,T.id]),fi=de.useMemo(()=>{var Pe;return(Pe=T.closeButton)!=null?Pe:x},[T.closeButton,x]),zr=de.useMemo(()=>T.duration||le||g_,[T.duration,le]),pi=de.useRef(0),Qn=de.useRef(0),Gi=de.useRef(0),Yn=de.useRef(null),[Js,mi]=Re.split("-"),gi=de.useMemo(()=>z.reduce((Pe,ze,Je)=>Je>=Mn?Pe:Pe+ze.height,0),[z,Mn]),yi=nx(),_n=T.invert||E,wn=Qe==="loading";Qn.current=de.useMemo(()=>Mn*Te+gi,[Mn,gi]),de.useEffect(()=>{cn.current=zr},[zr]),de.useEffect(()=>{Ue(!0)},[]),de.useEffect(()=>{let Pe=vn.current;if(Pe){let ze=Pe.getBoundingClientRect().height;return Kn(ze),S(Je=>[{toastId:T.id,height:ze,position:T.position},...Je]),()=>S(Je=>Je.filter(Et=>Et.toastId!==T.id))}},[S,T.id]),de.useLayoutEffect(()=>{if(!Ie)return;let Pe=vn.current,ze=Pe.style.height;Pe.style.height="auto";let Je=Pe.getBoundingClientRect().height;Pe.style.height=ze,Kn(Je),S(Et=>Et.find(Ht=>Ht.toastId===T.id)?Et.map(Ht=>Ht.toastId===T.id?{...Ht,height:Je}:Ht):[{toastId:T.id,height:Je,position:T.position},...Et])},[Ie,T.title,T.description,S,T.id]);let dn=de.useCallback(()=>{rt(!0),jr(Qn.current),S(Pe=>Pe.filter(ze=>ze.toastId!==T.id)),setTimeout(()=>{ee(T)},gx)},[T,ee,S,Qn]);de.useEffect(()=>{if(T.promise&&Qe==="loading"||T.duration===1/0||T.type==="loading")return;let Pe;return Y||A||K&&yi?(()=>{if(Gi.current<pi.current){let ze=new Date().getTime()-pi.current;cn.current=cn.current-ze}Gi.current=new Date().getTime()})():cn.current!==1/0&&(pi.current=new Date().getTime(),Pe=setTimeout(()=>{var ze;(ze=T.onAutoClose)==null||ze.call(T,T),dn()},cn.current)),()=>clearTimeout(Pe)},[Y,A,T,Qe,K,yi,dn]),de.useEffect(()=>{T.delete&&dn()},[dn,T.delete]);function Xn(){var Pe,ze,Je;return oe!=null&&oe.loading?de.createElement("div",{className:Cr(te==null?void 0:te.loader,(Pe=T==null?void 0:T.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":Qe==="loading"},oe.loading):ye?de.createElement("div",{className:Cr(te==null?void 0:te.loader,(ze=T==null?void 0:T.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":Qe==="loading"},ye):de.createElement(YA,{className:Cr(te==null?void 0:te.loader,(Je=T==null?void 0:T.classNames)==null?void 0:Je.loader),visible:Qe==="loading"})}return de.createElement("li",{tabIndex:0,ref:vn,className:Cr(V,cr,te==null?void 0:te.toast,(e=T==null?void 0:T.classNames)==null?void 0:e.toast,te==null?void 0:te.default,te==null?void 0:te[Qe],(t=T==null?void 0:T.classNames)==null?void 0:t[Qe]),"data-sonner-toast":"","data-rich-colors":(r=T.richColors)!=null?r:k,"data-styled":!(T.jsx||T.unstyled||R),"data-mounted":Ie,"data-promise":!!T.promise,"data-swiped":Fr,"data-removed":He,"data-visible":Ys,"data-y-position":Js,"data-x-position":mi,"data-index":B,"data-front":qi,"data-swiping":Vt,"data-dismissible":it,"data-type":Qe,"data-invert":_n,"data-swipe-out":$t,"data-swipe-direction":Se,"data-expanded":!!(Y||J&&Ie),style:{"--index":B,"--toasts-before":B,"--z-index":Q.length-B,"--offset":`${He?hi:Qn.current}px`,"--initial-height":J?"auto":`${Vn}px`,...P,...T.style},onDragEnd:()=>{Dn(!1),ge(null),Yn.current=null},onPointerDown:Pe=>{wn||!it||(Wi.current=new Date,jr(Qn.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Dn(!0),Yn.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,ze,Je,Et;if($t||!it)return;Yn.current=null;let Ht=Number(((Pe=vn.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ze=Number(((ze=vn.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),En=new Date().getTime()-((Je=Wi.current)==null?void 0:Je.getTime()),pt=ue==="x"?Ht:Ze,Zt=Math.abs(pt)/En;if(Math.abs(pt)>=mx||Zt>.11){jr(Qn.current),(Et=T.onDismiss)==null||Et.call(T,T),Ve(ue==="x"?Ht>0?"right":"left":Ze>0?"down":"up"),dn(),Gn(!0),Ur(!1);return}Dn(!1),ge(null)},onPointerMove:Pe=>{var ze,Je,Et,Ht;if(!Yn.current||!it||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let Ze=Pe.clientY-Yn.current.y,En=Pe.clientX-Yn.current.x,pt=(Je=n.swipeDirections)!=null?Je:yx(Re);!ue&&(Math.abs(En)>1||Math.abs(Ze)>1)&&ge(Math.abs(En)>Math.abs(Ze)?"x":"y");let Zt={x:0,y:0};ue==="y"?(pt.includes("top")||pt.includes("bottom"))&&(pt.includes("top")&&Ze<0||pt.includes("bottom")&&Ze>0)&&(Zt.y=Ze):ue==="x"&&(pt.includes("left")||pt.includes("right"))&&(pt.includes("left")&&En<0||pt.includes("right")&&En>0)&&(Zt.x=En),(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&Ur(!0),(Et=vn.current)==null||Et.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(Ht=vn.current)==null||Ht.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},fi&&!T.jsx?de.createElement("button",{"aria-label":U,"data-disabled":wn,"data-close-button":!0,onClick:wn||!it?()=>{}:()=>{var Pe;dn(),(Pe=T.onDismiss)==null||Pe.call(T,T)},className:Cr(te==null?void 0:te.closeButton,(o=T==null?void 0:T.classNames)==null?void 0:o.closeButton)},(a=oe==null?void 0:oe.close)!=null?a:tx):null,T.jsx||N.isValidElement(T.title)?T.jsx?T.jsx:typeof T.title=="function"?T.title():T.title:de.createElement(de.Fragment,null,Qe||T.icon||T.promise?de.createElement("div",{"data-icon":"",className:Cr(te==null?void 0:te.icon,(u=T==null?void 0:T.classNames)==null?void 0:u.icon)},T.promise||T.type==="loading"&&!T.icon?T.icon||Xn():null,T.type!=="loading"?T.icon||(oe==null?void 0:oe[Qe])||KA(Qe):null):null,de.createElement("div",{"data-content":"",className:Cr(te==null?void 0:te.content,(h=T==null?void 0:T.classNames)==null?void 0:h.content)},de.createElement("div",{"data-title":"",className:Cr(te==null?void 0:te.title,(f=T==null?void 0:T.classNames)==null?void 0:f.title)},typeof T.title=="function"?T.title():T.title),T.description?de.createElement("div",{"data-description":"",className:Cr(b,Xs,te==null?void 0:te.description,(m=T==null?void 0:T.classNames)==null?void 0:m.description)},typeof T.description=="function"?T.description():T.description):null),N.isValidElement(T.cancel)?T.cancel:T.cancel&&ld(T.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:T.cancelButtonStyle||O,onClick:Pe=>{var ze,Je;ld(T.cancel)&&it&&((Je=(ze=T.cancel).onClick)==null||Je.call(ze,Pe),dn())},className:Cr(te==null?void 0:te.cancelButton,(v=T==null?void 0:T.classNames)==null?void 0:v.cancelButton)},T.cancel.label):null,N.isValidElement(T.action)?T.action:T.action&&ld(T.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:T.actionButtonStyle||M,onClick:Pe=>{var ze,Je;ld(T.action)&&((Je=(ze=T.action).onClick)==null||Je.call(ze,Pe),!Pe.defaultPrevented&&dn())},className:Cr(te==null?void 0:te.actionButton,(_=T==null?void 0:T.classNames)==null?void 0:_.actionButton)},T.action.label):null))};function y_(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function _x(n,e){let t={};return[n,e].forEach((r,o)=>{let a=o===1,u=a?"--mobile-offset":"--offset",h=a?hx:dx;function f(m){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${u}-${m}`]=h:t[`${u}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(h)}),t}var wx=N.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:u,className:h,offset:f,mobileOffset:m,theme:v="light",richColors:_,duration:E,style:T,visibleToasts:R=cx,toastOptions:A,dir:S=y_(),gap:j=px,loadingIcon:z,icons:B,containerAriaLabel:Q="Notifications",pauseWhenPageIsHidden:Y}=n,[ee,k]=de.useState([]),x=de.useMemo(()=>Array.from(new Set([r].concat(ee.filter(K=>K.position).map(K=>K.position)))),[ee,r]),[P,O]=de.useState([]),[M,V]=de.useState(!1),[b,le]=de.useState(!1),[Re,Te]=de.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ye=de.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=de.useRef(null),oe=de.useRef(!1),U=de.useCallback(K=>{k(ue=>{var ge;return(ge=ue.find(Se=>Se.id===K.id))!=null&&ge.delete||bn.dismiss(K.id),ue.filter(({id:Se})=>Se!==K.id)})},[]);return de.useEffect(()=>bn.subscribe(K=>{if(K.dismiss){k(ue=>ue.map(ge=>ge.id===K.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{N0.flushSync(()=>{k(ue=>{let ge=ue.findIndex(Se=>Se.id===K.id);return ge!==-1?[...ue.slice(0,ge),{...ue[ge],...K},...ue.slice(ge+1)]:[K,...ue]})})})}),[]),de.useEffect(()=>{if(v!=="system"){Te(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Te("dark"):Te("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ue})=>{Te(ue?"dark":"light")})}catch{K.addListener(({matches:ge})=>{try{Te(ge?"dark":"light")}catch(Se){console.error(Se)}})}},[v]),de.useEffect(()=>{ee.length<=1&&V(!1)},[ee]),de.useEffect(()=>{let K=ue=>{var ge,Se;o.every(Ve=>ue[Ve]||ue.code===Ve)&&(V(!0),(ge=ye.current)==null||ge.focus()),ue.code==="Escape"&&(document.activeElement===ye.current||(Se=ye.current)!=null&&Se.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[o]),de.useEffect(()=>{if(ye.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,oe.current=!1)}},[ye.current]),de.createElement("section",{ref:e,"aria-label":`${Q} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((K,ue)=>{var ge;let[Se,Ve]=K.split("-");return ee.length?de.createElement("ol",{key:K,dir:S==="auto"?y_():S,tabIndex:-1,ref:ye,className:h,"data-sonner-toaster":!0,"data-theme":Re,"data-y-position":Se,"data-lifted":M&&ee.length>1&&!a,"data-x-position":Ve,style:{"--front-toast-height":`${((ge=P[0])==null?void 0:ge.height)||0}px`,"--width":`${fx}px`,"--gap":`${j}px`,...T,..._x(f,m)},onBlur:Ie=>{oe.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(oe.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,te.current=Ie.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{b||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},ee.filter(Ie=>!Ie.position&&ue===0||Ie.position===K).map((Ie,Ue)=>{var He,rt;return de.createElement(vx,{key:Ie.id,icons:B,index:Ue,toast:Ie,defaultRichColors:_,duration:(He=A==null?void 0:A.duration)!=null?He:E,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:t,visibleToasts:R,closeButton:(rt=A==null?void 0:A.closeButton)!=null?rt:u,interacting:b,position:K,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,removeToast:U,toasts:ee.filter(Vt=>Vt.position==Ie.position),heights:P.filter(Vt=>Vt.position==Ie.position),setHeights:O,expandByDefault:a,gap:j,loadingIcon:z,expanded:M,pauseWhenPageIsHidden:Y,swipeDirections:n.swipeDirections})})):null}))});const Ex=({...n})=>{const{theme:e="system"}=GA();return $.jsx(wx,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},Tx=["top","right","bottom","left"],Us=Math.min,Hn=Math.max,Nd=Math.round,ud=Math.floor,ni=n=>({x:n,y:n}),Ix={left:"right",right:"left",bottom:"top",top:"bottom"},Sx={start:"end",end:"start"};function Wp(n,e,t){return Hn(n,Us(e,t))}function Fi(n,e){return typeof n=="function"?n(e):n}function Ui(n){return n.split("-")[0]}function nl(n){return n.split("-")[1]}function Fm(n){return n==="x"?"y":"x"}function Um(n){return n==="y"?"height":"width"}const Cx=new Set(["top","bottom"]);function ti(n){return Cx.has(Ui(n))?"y":"x"}function jm(n){return Fm(ti(n))}function Ax(n,e,t){t===void 0&&(t=!1);const r=nl(n),o=jm(n),a=Um(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Od(u)),[u,Od(u)]}function xx(n){const e=Od(n);return[qp(n),e,qp(e)]}function qp(n){return n.replace(/start|end/g,e=>Sx[e])}const v_=["left","right"],__=["right","left"],Rx=["top","bottom"],Px=["bottom","top"];function bx(n,e,t){switch(n){case"top":case"bottom":return t?e?__:v_:e?v_:__;case"left":case"right":return e?Rx:Px;default:return[]}}function kx(n,e,t,r){const o=nl(n);let a=bx(Ui(n),t==="start",r);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(qp)))),a}function Od(n){return n.replace(/left|right|bottom|top/g,e=>Ix[e])}function Nx(n){return{top:0,right:0,bottom:0,left:0,...n}}function _E(n){return typeof n!="number"?Nx(n):{top:n,right:n,bottom:n,left:n}}function Dd(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function w_(n,e,t){let{reference:r,floating:o}=n;const a=ti(e),u=jm(e),h=Um(u),f=Ui(e),m=a==="y",v=r.x+r.width/2-o.width/2,_=r.y+r.height/2-o.height/2,E=r[h]/2-o[h]/2;let T;switch(f){case"top":T={x:v,y:r.y-o.height};break;case"bottom":T={x:v,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:_};break;case"left":T={x:r.x-o.width,y:_};break;default:T={x:r.x,y:r.y}}switch(nl(e)){case"start":T[u]-=E*(t&&m?-1:1);break;case"end":T[u]+=E*(t&&m?-1:1);break}return T}const Ox=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:v,y:_}=w_(m,r,f),E=r,T={},R=0;for(let A=0;A<h.length;A++){const{name:S,fn:j}=h[A],{x:z,y:B,data:Q,reset:Y}=await j({x:v,y:_,initialPlacement:r,placement:E,strategy:o,middlewareData:T,rects:m,platform:u,elements:{reference:n,floating:e}});v=z??v,_=B??_,T={...T,[S]:{...T[S],...Q}},Y&&R<=50&&(R++,typeof Y=="object"&&(Y.placement&&(E=Y.placement),Y.rects&&(m=Y.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):Y.rects),{x:v,y:_}=w_(m,E,f)),A=-1)}return{x:v,y:_,placement:E,strategy:o,middlewareData:T}};async function cu(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:E=!1,padding:T=0}=Fi(e,n),R=_E(T),S=h[E?_==="floating"?"reference":"floating":_],j=Dd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(S)))==null||t?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:v,strategy:f})),z=_==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Q=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},Y=Dd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:B,strategy:f}):z);return{top:(j.top-Y.top+R.top)/Q.y,bottom:(Y.bottom-j.bottom+R.bottom)/Q.y,left:(j.left-Y.left+R.left)/Q.x,right:(Y.right-j.right+R.right)/Q.x}}const Dx=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:m,padding:v=0}=Fi(n,e)||{};if(m==null)return{};const _=_E(v),E={x:t,y:r},T=jm(o),R=Um(T),A=await u.getDimensions(m),S=T==="y",j=S?"top":"left",z=S?"bottom":"right",B=S?"clientHeight":"clientWidth",Q=a.reference[R]+a.reference[T]-E[T]-a.floating[R],Y=E[T]-a.reference[T],ee=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let k=ee?ee[B]:0;(!k||!await(u.isElement==null?void 0:u.isElement(ee)))&&(k=h.floating[B]||a.floating[R]);const x=Q/2-Y/2,P=k/2-A[R]/2-1,O=Us(_[j],P),M=Us(_[z],P),V=O,b=k-A[R]-M,le=k/2-A[R]/2+x,Re=Wp(V,le,b),Te=!f.arrow&&nl(o)!=null&&le!==Re&&a.reference[R]/2-(le<V?O:M)-A[R]/2<0,ye=Te?le<V?le-V:le-b:0;return{[T]:E[T]+ye,data:{[T]:Re,centerOffset:le-Re-ye,...Te&&{alignmentOffset:ye}},reset:Te}}}),Vx=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:A=!0,...S}=Fi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=Ui(o),z=ti(h),B=Ui(h)===h,Q=await(f.isRTL==null?void 0:f.isRTL(m.floating)),Y=E||(B||!A?[Od(h)]:xx(h)),ee=R!=="none";!E&&ee&&Y.push(...kx(h,A,R,Q));const k=[h,...Y],x=await cu(e,S),P=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&P.push(x[j]),_){const le=Ax(o,u,Q);P.push(x[le[0]],x[le[1]])}if(O=[...O,{placement:o,overflows:P}],!P.every(le=>le<=0)){var M,V;const le=(((M=a.flip)==null?void 0:M.index)||0)+1,Re=k[le];if(Re&&(!(_==="alignment"?z!==ti(Re):!1)||O.every(J=>ti(J.placement)===z?J.overflows[0]>0:!0)))return{data:{index:le,overflows:O},reset:{placement:Re}};let Te=(V=O.filter(ye=>ye.overflows[0]<=0).sort((ye,J)=>ye.overflows[1]-J.overflows[1])[0])==null?void 0:V.placement;if(!Te)switch(T){case"bestFit":{var b;const ye=(b=O.filter(J=>{if(ee){const te=ti(J.placement);return te===z||te==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(te=>te>0).reduce((te,oe)=>te+oe,0)]).sort((J,te)=>J[1]-te[1])[0])==null?void 0:b[0];ye&&(Te=ye);break}case"initialPlacement":Te=h;break}if(o!==Te)return{reset:{placement:Te}}}return{}}}};function E_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function T_(n){return Tx.some(e=>n[e]>=0)}const Mx=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Fi(n,e);switch(r){case"referenceHidden":{const a=await cu(e,{...o,elementContext:"reference"}),u=E_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:T_(u)}}}case"escaped":{const a=await cu(e,{...o,altBoundary:!0}),u=E_(a,t.floating);return{data:{escapedOffsets:u,escaped:T_(u)}}}default:return{}}}}},wE=new Set(["left","top"]);async function Lx(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Ui(t),h=nl(t),f=ti(t)==="y",m=wE.has(u)?-1:1,v=a&&f?-1:1,_=Fi(e,n);let{mainAxis:E,crossAxis:T,alignmentAxis:R}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return h&&typeof R=="number"&&(T=h==="end"?R*-1:R),f?{x:T*v,y:E*m}:{x:E*m,y:T*v}}const Fx=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:u,middlewareData:h}=e,f=await Lx(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:u}}}}},Ux=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:S=>{let{x:j,y:z}=S;return{x:j,y:z}}},...f}=Fi(n,e),m={x:t,y:r},v=await cu(e,f),_=ti(Ui(o)),E=Fm(_);let T=m[E],R=m[_];if(a){const S=E==="y"?"top":"left",j=E==="y"?"bottom":"right",z=T+v[S],B=T-v[j];T=Wp(z,T,B)}if(u){const S=_==="y"?"top":"left",j=_==="y"?"bottom":"right",z=R+v[S],B=R-v[j];R=Wp(z,R,B)}const A=h.fn({...e,[E]:T,[_]:R});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[E]:a,[_]:u}}}}}},jx=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=Fi(n,e),v={x:t,y:r},_=ti(o),E=Fm(_);let T=v[E],R=v[_];const A=Fi(h,e),S=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const B=E==="y"?"height":"width",Q=a.reference[E]-a.floating[B]+S.mainAxis,Y=a.reference[E]+a.reference[B]-S.mainAxis;T<Q?T=Q:T>Y&&(T=Y)}if(m){var j,z;const B=E==="y"?"width":"height",Q=wE.has(Ui(o)),Y=a.reference[_]-a.floating[B]+(Q&&((j=u.offset)==null?void 0:j[_])||0)+(Q?0:S.crossAxis),ee=a.reference[_]+a.reference[B]+(Q?0:((z=u.offset)==null?void 0:z[_])||0)-(Q?S.crossAxis:0);R<Y?R=Y:R>ee&&(R=ee)}return{[E]:T,[_]:R}}}},zx=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...m}=Fi(n,e),v=await cu(e,m),_=Ui(o),E=nl(o),T=ti(o)==="y",{width:R,height:A}=a.floating;let S,j;_==="top"||_==="bottom"?(S=_,j=E===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(j=_,S=E==="end"?"top":"bottom");const z=A-v.top-v.bottom,B=R-v.left-v.right,Q=Us(A-v[S],z),Y=Us(R-v[j],B),ee=!e.middlewareData.shift;let k=Q,x=Y;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=z),ee&&!E){const O=Hn(v.left,0),M=Hn(v.right,0),V=Hn(v.top,0),b=Hn(v.bottom,0);T?x=R-2*(O!==0||M!==0?O+M:Hn(v.left,v.right)):k=A-2*(V!==0||b!==0?V+b:Hn(v.top,v.bottom))}await f({...e,availableWidth:x,availableHeight:k});const P=await u.getDimensions(h.floating);return R!==P.width||A!==P.height?{reset:{rects:!0}}:{}}}};function ah(){return typeof window<"u"}function rl(n){return EE(n)?(n.nodeName||"").toLowerCase():"#document"}function qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function di(n){var e;return(e=(EE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function EE(n){return ah()?n instanceof Node||n instanceof qn(n).Node:!1}function Vr(n){return ah()?n instanceof Element||n instanceof qn(n).Element:!1}function li(n){return ah()?n instanceof HTMLElement||n instanceof qn(n).HTMLElement:!1}function I_(n){return!ah()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof qn(n).ShadowRoot}const Bx=new Set(["inline","contents"]);function bu(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Mr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Bx.has(o)}const $x=new Set(["table","td","th"]);function Hx(n){return $x.has(rl(n))}const Wx=[":popover-open",":modal"];function lh(n){return Wx.some(e=>{try{return n.matches(e)}catch{return!1}})}const qx=["transform","translate","scale","rotate","perspective"],Gx=["transform","translate","scale","rotate","perspective","filter"],Kx=["paint","layout","strict","content"];function zm(n){const e=Bm(),t=Vr(n)?Mr(n):n;return qx.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Gx.some(r=>(t.willChange||"").includes(r))||Kx.some(r=>(t.contain||"").includes(r))}function Qx(n){let e=js(n);for(;li(e)&&!qa(e);){if(zm(e))return e;if(lh(e))return null;e=js(e)}return null}function Bm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yx=new Set(["html","body","#document"]);function qa(n){return Yx.has(rl(n))}function Mr(n){return qn(n).getComputedStyle(n)}function uh(n){return Vr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function js(n){if(rl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||I_(n)&&n.host||di(n);return I_(e)?e.host:e}function TE(n){const e=js(n);return qa(e)?n.ownerDocument?n.ownerDocument.body:n.body:li(e)&&bu(e)?e:TE(e)}function du(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=TE(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),u=qn(o);if(a){const h=Gp(u);return e.concat(u,u.visualViewport||[],bu(o)?o:[],h&&t?du(h):[])}return e.concat(o,du(o,[],t))}function Gp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function IE(n){const e=Mr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=li(n),a=o?n.offsetWidth:t,u=o?n.offsetHeight:r,h=Nd(t)!==a||Nd(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function $m(n){return Vr(n)?n:n.contextElement}function ba(n){const e=$m(n);if(!li(e))return ni(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=IE(e);let u=(a?Nd(t.width):t.width)/r,h=(a?Nd(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const Xx=ni(0);function SE(n){const e=qn(n);return!Bm()||!e.visualViewport?Xx:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jx(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==qn(n)?!1:e}function Oo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=$m(n);let u=ni(1);e&&(r?Vr(r)&&(u=ba(r)):u=ba(n));const h=Jx(a,t,r)?SE(a):ni(0);let f=(o.left+h.x)/u.x,m=(o.top+h.y)/u.y,v=o.width/u.x,_=o.height/u.y;if(a){const E=qn(a),T=r&&Vr(r)?qn(r):r;let R=E,A=Gp(R);for(;A&&r&&T!==R;){const S=ba(A),j=A.getBoundingClientRect(),z=Mr(A),B=j.left+(A.clientLeft+parseFloat(z.paddingLeft))*S.x,Q=j.top+(A.clientTop+parseFloat(z.paddingTop))*S.y;f*=S.x,m*=S.y,v*=S.x,_*=S.y,f+=B,m+=Q,R=qn(A),A=Gp(R)}}return Dd({width:v,height:_,x:f,y:m})}function ch(n,e){const t=uh(n).scrollLeft;return e?e.left+t:Oo(di(n)).left+t}function CE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-ch(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function Zx(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",u=di(r),h=e?lh(e.floating):!1;if(r===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=ni(1);const v=ni(0),_=li(r);if((_||!_&&!a)&&((rl(r)!=="body"||bu(u))&&(f=uh(r)),li(r))){const T=Oo(r);m=ba(r),v.x=T.x+r.clientLeft,v.y=T.y+r.clientTop}const E=u&&!_&&!a?CE(u,f):ni(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x+E.x,y:t.y*m.y-f.scrollTop*m.y+v.y+E.y}}function eR(n){return Array.from(n.getClientRects())}function tR(n){const e=di(n),t=uh(n),r=n.ownerDocument.body,o=Hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+ch(n);const h=-t.scrollTop;return Mr(r).direction==="rtl"&&(u+=Hn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:h}}const S_=25;function nR(n,e){const t=qn(n),r=di(n),o=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,f=0;if(o){a=o.width,u=o.height;const v=Bm();(!v||v&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=ch(r);if(m<=0){const v=r.ownerDocument,_=v.body,E=getComputedStyle(_),T=v.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,R=Math.abs(r.clientWidth-_.clientWidth-T);R<=S_&&(a-=R)}else m<=S_&&(a+=m);return{width:a,height:u,x:h,y:f}}const rR=new Set(["absolute","fixed"]);function iR(n,e){const t=Oo(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=li(n)?ba(n):ni(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,m=r*a.y;return{width:u,height:h,x:f,y:m}}function C_(n,e,t){let r;if(e==="viewport")r=nR(n,t);else if(e==="document")r=tR(di(n));else if(Vr(e))r=iR(e,t);else{const o=SE(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Dd(r)}function AE(n,e){const t=js(n);return t===e||!Vr(t)||qa(t)?!1:Mr(t).position==="fixed"||AE(t,e)}function sR(n,e){const t=e.get(n);if(t)return t;let r=du(n,[],!1).filter(h=>Vr(h)&&rl(h)!=="body"),o=null;const a=Mr(n).position==="fixed";let u=a?js(n):n;for(;Vr(u)&&!qa(u);){const h=Mr(u),f=zm(u);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&rR.has(o.position)||bu(u)&&!f&&AE(n,u))?r=r.filter(v=>v!==u):o=h,u=js(u)}return e.set(n,r),r}function oR(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?lh(e)?[]:sR(e,this._c):[].concat(t),r],h=u[0],f=u.reduce((m,v)=>{const _=C_(e,v,o);return m.top=Hn(_.top,m.top),m.right=Us(_.right,m.right),m.bottom=Us(_.bottom,m.bottom),m.left=Hn(_.left,m.left),m},C_(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function aR(n){const{width:e,height:t}=IE(n);return{width:e,height:t}}function lR(n,e,t){const r=li(e),o=di(e),a=t==="fixed",u=Oo(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=ni(0);function m(){f.x=ch(o)}if(r||!r&&!a)if((rl(e)!=="body"||bu(o))&&(h=uh(e)),r){const T=Oo(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else o&&m();a&&!r&&o&&m();const v=o&&!r&&!a?CE(o,h):ni(0),_=u.left+h.scrollLeft-f.x-v.x,E=u.top+h.scrollTop-f.y-v.y;return{x:_,y:E,width:u.width,height:u.height}}function Sp(n){return Mr(n).position==="static"}function A_(n,e){if(!li(n)||Mr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return di(n)===t&&(t=t.ownerDocument.body),t}function xE(n,e){const t=qn(n);if(lh(n))return t;if(!li(n)){let o=js(n);for(;o&&!qa(o);){if(Vr(o)&&!Sp(o))return o;o=js(o)}return t}let r=A_(n,e);for(;r&&Hx(r)&&Sp(r);)r=A_(r,e);return r&&qa(r)&&Sp(r)&&!zm(r)?t:r||Qx(n)||t}const uR=async function(n){const e=this.getOffsetParent||xE,t=this.getDimensions,r=await t(n.floating);return{reference:lR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cR(n){return Mr(n).direction==="rtl"}const dR={convertOffsetParentRelativeRectToViewportRelativeRect:Zx,getDocumentElement:di,getClippingRect:oR,getOffsetParent:xE,getElementRects:uR,getClientRects:eR,getDimensions:aR,getScale:ba,isElement:Vr,isRTL:cR};function RE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function hR(n,e){let t=null,r;const o=di(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:v,top:_,width:E,height:T}=m;if(h||e(),!E||!T)return;const R=ud(_),A=ud(o.clientWidth-(v+E)),S=ud(o.clientHeight-(_+T)),j=ud(v),B={rootMargin:-R+"px "+-A+"px "+-S+"px "+-j+"px",threshold:Hn(0,Us(1,f))||1};let Q=!0;function Y(ee){const k=ee[0].intersectionRatio;if(k!==f){if(!Q)return u();k?u(!1,k):r=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!RE(m,n.getBoundingClientRect())&&u(),Q=!1}try{t=new IntersectionObserver(Y,{...B,root:o.ownerDocument})}catch{t=new IntersectionObserver(Y,B)}t.observe(n)}return u(!0),a}function fR(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=$m(n),v=o||a?[...m?du(m):[],...du(e)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const _=m&&h?hR(m,t):null;let E=-1,T=null;u&&(T=new ResizeObserver(j=>{let[z]=j;z&&z.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var B;(B=T)==null||B.observe(e)})),t()}),m&&!f&&T.observe(m),T.observe(e));let R,A=f?Oo(n):null;f&&S();function S(){const j=Oo(n);A&&!RE(A,j)&&t(),A=j,R=requestAnimationFrame(S)}return t(),()=>{var j;v.forEach(z=>{o&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),_==null||_(),(j=T)==null||j.disconnect(),T=null,f&&cancelAnimationFrame(R)}}const pR=Fx,mR=Ux,gR=Vx,yR=zx,vR=Mx,x_=Dx,_R=jx,wR=(n,e,t)=>{const r=new Map,o={platform:dR,...t},a={...o.platform,_c:r};return Ox(n,e,{...o,platform:a})};var ER=typeof document<"u",TR=function(){},_d=ER?N.useLayoutEffect:TR;function Vd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vd(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!Vd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function PE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function R_(n,e){const t=PE(n);return Math.round(e*t)/t}function Cp(n){const e=N.useRef(n);return _d(()=>{e.current=n}),e}function IR(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[v,_]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,T]=N.useState(r);Vd(E,r)||T(r);const[R,A]=N.useState(null),[S,j]=N.useState(null),z=N.useCallback(J=>{J!==ee.current&&(ee.current=J,A(J))},[]),B=N.useCallback(J=>{J!==k.current&&(k.current=J,j(J))},[]),Q=a||R,Y=u||S,ee=N.useRef(null),k=N.useRef(null),x=N.useRef(v),P=f!=null,O=Cp(f),M=Cp(o),V=Cp(m),b=N.useCallback(()=>{if(!ee.current||!k.current)return;const J={placement:e,strategy:t,middleware:E};M.current&&(J.platform=M.current),wR(ee.current,k.current,J).then(te=>{const oe={...te,isPositioned:V.current!==!1};le.current&&!Vd(x.current,oe)&&(x.current=oe,rh.flushSync(()=>{_(oe)}))})},[E,e,t,M,V]);_d(()=>{m===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,_(J=>({...J,isPositioned:!1})))},[m]);const le=N.useRef(!1);_d(()=>(le.current=!0,()=>{le.current=!1}),[]),_d(()=>{if(Q&&(ee.current=Q),Y&&(k.current=Y),Q&&Y){if(O.current)return O.current(Q,Y,b);b()}},[Q,Y,b,O,P]);const Re=N.useMemo(()=>({reference:ee,floating:k,setReference:z,setFloating:B}),[z,B]),Te=N.useMemo(()=>({reference:Q,floating:Y}),[Q,Y]),ye=N.useMemo(()=>{const J={position:t,left:0,top:0};if(!Te.floating)return J;const te=R_(Te.floating,v.x),oe=R_(Te.floating,v.y);return h?{...J,transform:"translate("+te+"px, "+oe+"px)",...PE(Te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:oe}},[t,h,Te.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:b,refs:Re,elements:Te,floatingStyles:ye}),[v,b,Re,Te,ye])}const SR=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?x_({element:r.current,padding:o}).fn(t):{}:r?x_({element:r,padding:o}).fn(t):{}}}},CR=(n,e)=>({...pR(n),options:[n,e]}),AR=(n,e)=>({...mR(n),options:[n,e]}),xR=(n,e)=>({..._R(n),options:[n,e]}),RR=(n,e)=>({...gR(n),options:[n,e]}),PR=(n,e)=>({...yR(n),options:[n,e]}),bR=(n,e)=>({...vR(n),options:[n,e]}),kR=(n,e)=>({...SR(n),options:[n,e]});var NR="Arrow",bE=N.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return $.jsx(On.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});bE.displayName=NR;var OR=bE;function DR(n){const[e,t]=N.useState(void 0);return Fs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,h=m.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var kE="Popper",[NE,OE]=ih(kE),[GM,DE]=NE(kE),VE="PopperAnchor",ME=N.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=DE(VE,t),u=N.useRef(null),h=Dr(e,u),f=N.useRef(null);return N.useEffect(()=>{const m=f.current;f.current=(r==null?void 0:r.current)||u.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:$.jsx(On.div,{...o,ref:h})});ME.displayName=VE;var Hm="PopperContent",[VR,MR]=NE(Hm),LE=N.forwardRef((n,e)=>{var Ie,Ue,He,rt,Vt,Dn;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:T="optimized",onPlaced:R,...A}=n,S=DE(Hm,t),[j,z]=N.useState(null),B=Dr(e,$t=>z($t)),[Q,Y]=N.useState(null),ee=DR(Q),k=(ee==null?void 0:ee.width)??0,x=(ee==null?void 0:ee.height)??0,P=r+(a!=="center"?"-"+a:""),O=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(m)?m:[m],V=M.length>0,b={padding:O,boundary:M.filter(FR),altBoundary:V},{refs:le,floatingStyles:Re,placement:Te,isPositioned:ye,middlewareData:J}=IR({strategy:"fixed",placement:P,whileElementsMounted:(...$t)=>fR(...$t,{animationFrame:T==="always"}),elements:{reference:S.anchor},middleware:[CR({mainAxis:o+x,alignmentAxis:u}),f&&AR({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?xR():void 0,...b}),f&&RR({...b}),PR({...b,apply:({elements:$t,rects:Gn,availableWidth:Fr,availableHeight:Ur})=>{const{width:hi,height:jr}=Gn.reference,Vn=$t.floating.style;Vn.setProperty("--radix-popper-available-width",`${Fr}px`),Vn.setProperty("--radix-popper-available-height",`${Ur}px`),Vn.setProperty("--radix-popper-anchor-width",`${hi}px`),Vn.setProperty("--radix-popper-anchor-height",`${jr}px`)}}),Q&&kR({element:Q,padding:h}),UR({arrowWidth:k,arrowHeight:x}),E&&bR({strategy:"referenceHidden",...b})]}),[te,oe]=jE(Te),U=Ls(R);Fs(()=>{ye&&(U==null||U())},[ye,U]);const K=(Ie=J.arrow)==null?void 0:Ie.x,ue=(Ue=J.arrow)==null?void 0:Ue.y,ge=((He=J.arrow)==null?void 0:He.centerOffset)!==0,[Se,Ve]=N.useState();return Fs(()=>{j&&Ve(window.getComputedStyle(j).zIndex)},[j]),$.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:ye?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(rt=J.transformOrigin)==null?void 0:rt.x,(Vt=J.transformOrigin)==null?void 0:Vt.y].join(" "),...((Dn=J.hide)==null?void 0:Dn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:$.jsx(VR,{scope:t,placedSide:te,onArrowChange:Y,arrowX:K,arrowY:ue,shouldHideArrow:ge,children:$.jsx(On.div,{"data-side":te,"data-align":oe,...A,ref:B,style:{...A.style,animation:ye?void 0:"none"}})})})});LE.displayName=Hm;var FE="PopperArrow",LR={top:"bottom",right:"left",bottom:"top",left:"right"},UE=N.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=MR(FE,r),u=LR[a.placedSide];return $.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:$.jsx(OR,{...o,ref:t,style:{...o.style,display:"block"}})})});UE.displayName=FE;function FR(n){return n!==null}var UR=n=>({name:"transformOrigin",options:n,fn(e){var S,j,z;const{placement:t,rects:r,middlewareData:o}=e,u=((S=o.arrow)==null?void 0:S.centerOffset)!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[m,v]=jE(t),_={start:"0%",center:"50%",end:"100%"}[v],E=(((j=o.arrow)==null?void 0:j.x)??0)+h/2,T=(((z=o.arrow)==null?void 0:z.y)??0)+f/2;let R="",A="";return m==="bottom"?(R=u?_:`${E}px`,A=`${-f}px`):m==="top"?(R=u?_:`${E}px`,A=`${r.floating.height+f}px`):m==="right"?(R=`${-f}px`,A=u?_:`${T}px`):m==="left"&&(R=`${r.floating.width+f}px`,A=u?_:`${T}px`),{data:{x:R,y:A}}}});function jE(n){const[e,t="center"]=n.split("-");return[e,t]}var jR=ME,zR=LE,BR=UE,[dh,KM]=ih("Tooltip",[OE]),Wm=OE(),zE="TooltipProvider",$R=700,P_="tooltip.open",[HR,BE]=dh(zE),$E=n=>{const{__scopeTooltip:e,delayDuration:t=$R,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=n,u=N.useRef(!0),h=N.useRef(!1),f=N.useRef(0);return N.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),$.jsx(HR,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:N.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:N.useCallback(m=>{h.current=m},[]),disableHoverableContent:o,children:a})};$E.displayName=zE;var HE="Tooltip",[QM,hh]=dh(HE),Kp="TooltipTrigger",WR=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=hh(Kp,t),a=BE(Kp,t),u=Wm(t),h=N.useRef(null),f=Dr(e,h,o.onTriggerChange),m=N.useRef(!1),v=N.useRef(!1),_=N.useCallback(()=>m.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),$.jsx(jR,{asChild:!0,...u,children:$.jsx(On.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Nt(n.onPointerMove,E=>{E.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Nt(n.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Nt(n.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Nt(n.onFocus,()=>{m.current||o.onOpen()}),onBlur:Nt(n.onBlur,o.onClose),onClick:Nt(n.onClick,o.onClose)})})});WR.displayName=Kp;var qR="TooltipPortal",[YM,GR]=dh(qR,{forceMount:void 0}),Ga="TooltipContent",WE=N.forwardRef((n,e)=>{const t=GR(Ga,n.__scopeTooltip),{forceMount:r=t.forceMount,side:o="top",...a}=n,u=hh(Ga,n.__scopeTooltip);return $.jsx(Om,{present:r||u.open,children:u.disableHoverableContent?$.jsx(qE,{side:o,...a,ref:e}):$.jsx(KR,{side:o,...a,ref:e})})}),KR=N.forwardRef((n,e)=>{const t=hh(Ga,n.__scopeTooltip),r=BE(Ga,n.__scopeTooltip),o=N.useRef(null),a=Dr(e,o),[u,h]=N.useState(null),{trigger:f,onClose:m}=t,v=o.current,{onPointerInTransitChange:_}=r,E=N.useCallback(()=>{h(null),_(!1)},[_]),T=N.useCallback((R,A)=>{const S=R.currentTarget,j={x:R.clientX,y:R.clientY},z=ZR(j,S.getBoundingClientRect()),B=eP(j,z),Q=tP(A.getBoundingClientRect()),Y=rP([...B,...Q]);h(Y),_(!0)},[_]);return N.useEffect(()=>()=>E(),[E]),N.useEffect(()=>{if(f&&v){const R=S=>T(S,v),A=S=>T(S,f);return f.addEventListener("pointerleave",R),v.addEventListener("pointerleave",A),()=>{f.removeEventListener("pointerleave",R),v.removeEventListener("pointerleave",A)}}},[f,v,T,E]),N.useEffect(()=>{if(u){const R=A=>{const S=A.target,j={x:A.clientX,y:A.clientY},z=(f==null?void 0:f.contains(S))||(v==null?void 0:v.contains(S)),B=!nP(j,u);z?E():B&&(E(),m())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[f,v,u,m,E]),$.jsx(qE,{...n,ref:a})}),[QR,YR]=dh(HE,{isInside:!1}),XR=uC("TooltipContent"),qE=N.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=n,f=hh(Ga,t),m=Wm(t),{onClose:v}=f;return N.useEffect(()=>(document.addEventListener(P_,v),()=>document.removeEventListener(P_,v)),[v]),N.useEffect(()=>{if(f.trigger){const _=E=>{const T=E.target;T!=null&&T.contains(f.trigger)&&v()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[f.trigger,v]),$.jsx(Nm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:_=>_.preventDefault(),onDismiss:v,children:$.jsxs(zR,{"data-state":f.stateAttribute,...m,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(XR,{children:r}),$.jsx(QR,{scope:t,isInside:!0,children:$.jsx(DC,{id:f.contentId,role:"tooltip",children:o||r})})]})})});WE.displayName=Ga;var GE="TooltipArrow",JR=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=Wm(t);return YR(GE,t).isInside?null:$.jsx(BR,{...o,...r,ref:e})});JR.displayName=GE;function ZR(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,o,a)){case a:return"left";case o:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eP(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function tP(n){const{top:e,right:t,bottom:r,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:r},{x:o,y:r}]}function nP(n,e){const{x:t,y:r}=n;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a],f=e[u],m=h.x,v=h.y,_=f.x,E=f.y;v>r!=E>r&&t<(_-m)*(r-v)/(E-v)+m&&(o=!o)}return o}function rP(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),iP(e)}function iP(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const o=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const o=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var sP=$E,KE=WE;const oP=sP,aP=N.forwardRef(({className:n,sideOffset:e=4,...t},r)=>$.jsx(KE,{ref:r,sideOffset:e,className:Xt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));aP.displayName=KE.displayName;var fh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ph=typeof window>"u"||"Deno"in globalThis;function Ar(){}function lP(n,e){return typeof n=="function"?n(e):n}function uP(n){return typeof n=="number"&&n>=0&&n!==1/0}function cP(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Qp(n,e){return typeof n=="function"?n(e):n}function dP(n,e){return typeof n=="function"?n(e):n}function b_(n,e){const{type:t="all",exact:r,fetchStatus:o,predicate:a,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==qm(u,e.options))return!1}else if(!fu(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||o&&o!==e.state.fetchStatus||a&&!a(e))}function k_(n,e){const{exact:t,status:r,predicate:o,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(hu(e.options.mutationKey)!==hu(a))return!1}else if(!fu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function qm(n,e){return((e==null?void 0:e.queryKeyHashFn)||hu)(n)}function hu(n){return JSON.stringify(n,(e,t)=>Yp(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function fu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>fu(n[t],e[t])):!1}var hP=Object.prototype.hasOwnProperty;function QE(n,e){if(n===e)return n;const t=N_(n)&&N_(e);if(!t&&!(Yp(n)&&Yp(e)))return e;const o=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,h=t?new Array(u):{};let f=0;for(let m=0;m<u;m++){const v=t?m:a[m],_=n[v],E=e[v];if(_===E){h[v]=_,(t?m<o:hP.call(n,v))&&f++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const T=QE(_,E);h[v]=T,T===_&&f++}return o===u&&f===o?n:h}function N_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Yp(n){if(!O_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!O_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function O_(n){return Object.prototype.toString.call(n)==="[object Object]"}function fP(n){return new Promise(e=>{setTimeout(e,n)})}function pP(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?QE(n,e):e}function mP(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function gP(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Gm=Symbol();function YE(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Gm?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Co,Ss,La,w0,yP=(w0=class extends fh{constructor(){super();Xe(this,Co);Xe(this,Ss);Xe(this,La);Me(this,La,e=>{if(!ph&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Z(this,Ss)||this.setEventListener(Z(this,La))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Ss))==null||e.call(this),Me(this,Ss,void 0))}setEventListener(e){var t;Me(this,La,e),(t=Z(this,Ss))==null||t.call(this),Me(this,Ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Co)!==e&&(Me(this,Co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Z(this,Co)=="boolean"?Z(this,Co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Co=new WeakMap,Ss=new WeakMap,La=new WeakMap,w0),XE=new yP,Fa,Cs,Ua,E0,vP=(E0=class extends fh{constructor(){super();Xe(this,Fa,!0);Xe(this,Cs);Xe(this,Ua);Me(this,Ua,e=>{if(!ph&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,Cs)||this.setEventListener(Z(this,Ua))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Cs))==null||e.call(this),Me(this,Cs,void 0))}setEventListener(e){var t;Me(this,Ua,e),(t=Z(this,Cs))==null||t.call(this),Me(this,Cs,e(this.setOnline.bind(this)))}setOnline(e){Z(this,Fa)!==e&&(Me(this,Fa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,Fa)}},Fa=new WeakMap,Cs=new WeakMap,Ua=new WeakMap,E0),Md=new vP;function _P(){let n,e;const t=new Promise((o,a)=>{n=o,e=a});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),n(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}function wP(n){return Math.min(1e3*2**n,3e4)}function JE(n){return(n??"online")==="online"?Md.isOnline():!0}var Xp=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ZE(n){let e=!1,t=0,r;const o=_P(),a=()=>o.status!=="pending",u=A=>{var S;if(!a()){const j=new Xp(A);E(j),(S=n.onCancel)==null||S.call(n,j)}},h=()=>{e=!0},f=()=>{e=!1},m=()=>XE.isFocused()&&(n.networkMode==="always"||Md.isOnline())&&n.canRun(),v=()=>JE(n.networkMode)&&n.canRun(),_=A=>{a()||(r==null||r(),o.resolve(A))},E=A=>{a()||(r==null||r(),o.reject(A))},T=()=>new Promise(A=>{var S;r=j=>{(a()||m())&&A(j)},(S=n.onPause)==null||S.call(n)}).then(()=>{var A;r=void 0,a()||(A=n.onContinue)==null||A.call(n)}),R=()=>{if(a())return;let A;const S=t===0?n.initialPromise:void 0;try{A=S??n.fn()}catch(j){A=Promise.reject(j)}Promise.resolve(A).then(_).catch(j=>{var ee;if(a())return;const z=n.retry??(ph?0:3),B=n.retryDelay??wP,Q=typeof B=="function"?B(t,j):B,Y=z===!0||typeof z=="number"&&t<z||typeof z=="function"&&z(t,j);if(e||!Y){E(j);return}t++,(ee=n.onFail)==null||ee.call(n,t,j),fP(Q).then(()=>m()?void 0:T()).then(()=>{e?E(j):R()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r==null||r(),o),cancelRetry:h,continueRetry:f,canStart:v,start:()=>(v()?R():T().then(R),o)}}var EP=n=>setTimeout(n,0);function TP(){let n=[],e=0,t=h=>{h()},r=h=>{h()},o=EP;const a=h=>{e?n.push(h):o(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&o(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var yn=TP(),Ao,T0,eT=(T0=class{constructor(){Xe(this,Ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uP(this.gcTime)&&Me(this,Ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ph?1/0:300*1e3))}clearGcTimeout(){Z(this,Ao)&&(clearTimeout(Z(this,Ao)),Me(this,Ao,void 0))}},Ao=new WeakMap,T0),ja,za,ar,xo,jt,Au,Ro,xr,Ni,I0,IP=(I0=class extends eT{constructor(t){super();Xe(this,xr);Xe(this,ja);Xe(this,za);Xe(this,ar);Xe(this,xo);Xe(this,jt);Xe(this,Au);Xe(this,Ro);Me(this,Ro,!1),Me(this,Au,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,xo,t.client),Me(this,ar,Z(this,xo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,ja,CP(this.options)),this.state=t.state??Z(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,jt))==null?void 0:t.promise}setOptions(t){this.options={...Z(this,Au),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,ar).remove(this)}setData(t,r){const o=pP(this.state.data,t,this.options);return sn(this,xr,Ni).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(t,r){sn(this,xr,Ni).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var o,a;const r=(o=Z(this,jt))==null?void 0:o.promise;return(a=Z(this,jt))==null||a.cancel(t),r?r.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,ja))}isActive(){return this.observers.some(t=>dP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,jt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,jt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,ar).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Z(this,jt)&&(Z(this,Ro)?Z(this,jt).cancel({revert:!0}):Z(this,jt).cancelRetry()),this.scheduleGc()),Z(this,ar).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sn(this,xr,Ni).call(this,{type:"invalidate"})}async fetch(t,r){var m,v,_,E,T,R,A,S,j,z,B,Q;if(this.state.fetchStatus!=="idle"&&((m=Z(this,jt))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,jt))return Z(this,jt).continueRetry(),Z(this,jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const Y=this.observers.find(ee=>ee.options.queryFn);Y&&this.setOptions(Y.options)}const o=new AbortController,a=Y=>{Object.defineProperty(Y,"signal",{enumerable:!0,get:()=>(Me(this,Ro,!0),o.signal)})},u=()=>{const Y=YE(this.options,r),k=(()=>{const x={client:Z(this,xo),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return Me(this,Ro,!1),this.options.persister?this.options.persister(Y,k,this):Y(k)},f=(()=>{const Y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Z(this,xo),state:this.state,fetchFn:u};return a(Y),Y})();(v=this.options.behavior)==null||v.onFetch(f,this),Me(this,za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=f.fetchOptions)==null?void 0:_.meta))&&sn(this,xr,Ni).call(this,{type:"fetch",meta:(E=f.fetchOptions)==null?void 0:E.meta}),Me(this,jt,ZE({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,onCancel:Y=>{Y instanceof Xp&&Y.revert&&this.setState({...Z(this,za),fetchStatus:"idle"}),o.abort()},onFail:(Y,ee)=>{sn(this,xr,Ni).call(this,{type:"failed",failureCount:Y,error:ee})},onPause:()=>{sn(this,xr,Ni).call(this,{type:"pause"})},onContinue:()=>{sn(this,xr,Ni).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const Y=await Z(this,jt).start();if(Y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(Y),(R=(T=Z(this,ar).config).onSuccess)==null||R.call(T,Y,this),(S=(A=Z(this,ar).config).onSettled)==null||S.call(A,Y,this.state.error,this),Y}catch(Y){if(Y instanceof Xp){if(Y.silent)return Z(this,jt).promise;if(Y.revert){if(this.state.data===void 0)throw Y;return this.state.data}}throw sn(this,xr,Ni).call(this,{type:"error",error:Y}),(z=(j=Z(this,ar).config).onError)==null||z.call(j,Y,this),(Q=(B=Z(this,ar).config).onSettled)==null||Q.call(B,this.state.data,Y,this),Y}finally{this.scheduleGc()}}},ja=new WeakMap,za=new WeakMap,ar=new WeakMap,xo=new WeakMap,jt=new WeakMap,Au=new WeakMap,Ro=new WeakMap,xr=new WeakSet,Ni=function(t){const r=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...SP(o.data,this.options),fetchMeta:t.meta??null};case"success":const a={...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Me(this,za,t.manual?a:void 0),a;case"error":const u=t.error;return{...o,error:u,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=r(this.state),yn.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),Z(this,ar).notify({query:this,type:"updated",action:t})})},I0);function SP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JE(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function CP(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Jr,S0,AP=(S0=class extends fh{constructor(e={}){super();Xe(this,Jr);this.config=e,Me(this,Jr,new Map)}build(e,t,r){const o=t.queryKey,a=t.queryHash??qm(o,t);let u=this.get(a);return u||(u=new IP({client:e,queryKey:o,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(u)),u}add(e){Z(this,Jr).has(e.queryHash)||(Z(this,Jr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Z(this,Jr).get(e.queryHash);t&&(e.destroy(),t===e&&Z(this,Jr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Jr).get(e)}getAll(){return[...Z(this,Jr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>b_(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>b_(e,r)):t}notify(e){yn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jr=new WeakMap,S0),Zr,gn,Po,ei,ws,C0,xP=(C0=class extends eT{constructor(t){super();Xe(this,ei);Xe(this,Zr);Xe(this,gn);Xe(this,Po);this.mutationId=t.mutationId,Me(this,gn,t.mutationCache),Me(this,Zr,[]),this.state=t.state||RP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,Zr).includes(t)||(Z(this,Zr).push(t),this.clearGcTimeout(),Z(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,Zr,Z(this,Zr).filter(r=>r!==t)),this.scheduleGc(),Z(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,Zr).length||(this.state.status==="pending"?this.scheduleGc():Z(this,gn).remove(this))}continue(){var t;return((t=Z(this,Po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,h,f,m,v,_,E,T,R,A,S,j,z,B,Q,Y,ee,k,x,P;const r=()=>{sn(this,ei,ws).call(this,{type:"continue"})};Me(this,Po,ZE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,M)=>{sn(this,ei,ws).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{sn(this,ei,ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,gn).canRun(this)}));const o=this.state.status==="pending",a=!Z(this,Po).canStart();try{if(o)r();else{sn(this,ei,ws).call(this,{type:"pending",variables:t,isPaused:a}),await((h=(u=Z(this,gn).config).onMutate)==null?void 0:h.call(u,t,this));const M=await((m=(f=this.options).onMutate)==null?void 0:m.call(f,t));M!==this.state.context&&sn(this,ei,ws).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const O=await Z(this,Po).start();return await((_=(v=Z(this,gn).config).onSuccess)==null?void 0:_.call(v,O,t,this.state.context,this)),await((T=(E=this.options).onSuccess)==null?void 0:T.call(E,O,t,this.state.context)),await((A=(R=Z(this,gn).config).onSettled)==null?void 0:A.call(R,O,null,this.state.variables,this.state.context,this)),await((j=(S=this.options).onSettled)==null?void 0:j.call(S,O,null,t,this.state.context)),sn(this,ei,ws).call(this,{type:"success",data:O}),O}catch(O){try{throw await((B=(z=Z(this,gn).config).onError)==null?void 0:B.call(z,O,t,this.state.context,this)),await((Y=(Q=this.options).onError)==null?void 0:Y.call(Q,O,t,this.state.context)),await((k=(ee=Z(this,gn).config).onSettled)==null?void 0:k.call(ee,void 0,O,this.state.variables,this.state.context,this)),await((P=(x=this.options).onSettled)==null?void 0:P.call(x,void 0,O,t,this.state.context)),O}finally{sn(this,ei,ws).call(this,{type:"error",error:O})}}finally{Z(this,gn).runNext(this)}}},Zr=new WeakMap,gn=new WeakMap,Po=new WeakMap,ei=new WeakSet,ws=function(t){const r=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yn.batch(()=>{Z(this,Zr).forEach(o=>{o.onMutationUpdate(t)}),Z(this,gn).notify({mutation:this,type:"updated",action:t})})},C0);function RP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oi,Rr,xu,A0,PP=(A0=class extends fh{constructor(e={}){super();Xe(this,Oi);Xe(this,Rr);Xe(this,xu);this.config=e,Me(this,Oi,new Set),Me(this,Rr,new Map),Me(this,xu,0)}build(e,t,r){const o=new xP({mutationCache:this,mutationId:++id(this,xu)._,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){Z(this,Oi).add(e);const t=cd(e);if(typeof t=="string"){const r=Z(this,Rr).get(t);r?r.push(e):Z(this,Rr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,Oi).delete(e)){const t=cd(e);if(typeof t=="string"){const r=Z(this,Rr).get(t);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&Z(this,Rr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=cd(e);if(typeof t=="string"){const r=Z(this,Rr).get(t),o=r==null?void 0:r.find(a=>a.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const t=cd(e);if(typeof t=="string"){const o=(r=Z(this,Rr).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{Z(this,Oi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,Oi).clear(),Z(this,Rr).clear()})}getAll(){return Array.from(Z(this,Oi))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>k_(t,r))}findAll(e={}){return this.getAll().filter(t=>k_(e,t))}notify(e){yn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return yn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ar))))}},Oi=new WeakMap,Rr=new WeakMap,xu=new WeakMap,A0);function cd(n){var e;return(e=n.options.scope)==null?void 0:e.id}function D_(n){return{onFetch:(e,t)=>{var v,_,E,T,R;const r=e.options,o=(E=(_=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:_.fetchMore)==null?void 0:E.direction,a=((T=e.state.data)==null?void 0:T.pages)||[],u=((R=e.state.data)==null?void 0:R.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const m=async()=>{let A=!1;const S=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},j=YE(e.options,e.fetchOptions),z=async(B,Q,Y)=>{if(A)return Promise.reject();if(Q==null&&B.pages.length)return Promise.resolve(B);const k=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:Q,direction:Y?"backward":"forward",meta:e.options.meta};return S(M),M})(),x=await j(k),{maxPages:P}=e.options,O=Y?gP:mP;return{pages:O(B.pages,x,P),pageParams:O(B.pageParams,Q,P)}};if(o&&a.length){const B=o==="backward",Q=B?bP:V_,Y={pages:a,pageParams:u},ee=Q(r,Y);h=await z(Y,ee,B)}else{const B=n??a.length;do{const Q=f===0?u[0]??r.initialPageParam:V_(r,h);if(f>0&&Q==null)break;h=await z(h,Q),f++}while(f<B)}return h};e.options.persister?e.fetchFn=()=>{var A,S;return(S=(A=e.options).persister)==null?void 0:S.call(A,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=m}}}function V_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function bP(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var _t,As,xs,Ba,$a,Rs,Ha,Wa,x0,kP=(x0=class{constructor(n={}){Xe(this,_t);Xe(this,As);Xe(this,xs);Xe(this,Ba);Xe(this,$a);Xe(this,Rs);Xe(this,Ha);Xe(this,Wa);Me(this,_t,n.queryCache||new AP),Me(this,As,n.mutationCache||new PP),Me(this,xs,n.defaultOptions||{}),Me(this,Ba,new Map),Me(this,$a,new Map),Me(this,Rs,0)}mount(){id(this,Rs)._++,Z(this,Rs)===1&&(Me(this,Ha,XE.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,_t).onFocus())})),Me(this,Wa,Md.subscribe(async n=>{n&&(await this.resumePausedMutations(),Z(this,_t).onOnline())})))}unmount(){var n,e;id(this,Rs)._--,Z(this,Rs)===0&&((n=Z(this,Ha))==null||n.call(this),Me(this,Ha,void 0),(e=Z(this,Wa))==null||e.call(this),Me(this,Wa,void 0))}isFetching(n){return Z(this,_t).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Z(this,As).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,_t).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Z(this,_t).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Qp(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Z(this,_t).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),o=Z(this,_t).get(r.queryHash),a=o==null?void 0:o.state.data,u=lP(e,a);if(u!==void 0)return Z(this,_t).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return yn.batch(()=>Z(this,_t).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Z(this,_t).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Z(this,_t);yn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Z(this,_t);return yn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=yn.batch(()=>Z(this,_t).findAll(n).map(o=>o.cancel(t)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(n,e={}){return yn.batch(()=>(Z(this,_t).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=yn.batch(()=>Z(this,_t).findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,t);return t.throwOnError||(a=a.catch(Ar)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ar)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Z(this,_t).build(this,e);return t.isStaleByTime(Qp(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ar).catch(Ar)}fetchInfiniteQuery(n){return n.behavior=D_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ar).catch(Ar)}ensureInfiniteQueryData(n){return n.behavior=D_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Md.isOnline()?Z(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,_t)}getMutationCache(){return Z(this,As)}getDefaultOptions(){return Z(this,xs)}setDefaultOptions(n){Me(this,xs,n)}setQueryDefaults(n,e){Z(this,Ba).set(hu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Z(this,Ba).values()],t={};return e.forEach(r=>{fu(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Z(this,$a).set(hu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Z(this,$a).values()],t={};return e.forEach(r=>{fu(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Z(this,xs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=qm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gm&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Z(this,xs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Z(this,_t).clear(),Z(this,As).clear()}},_t=new WeakMap,As=new WeakMap,xs=new WeakMap,Ba=new WeakMap,$a=new WeakMap,Rs=new WeakMap,Ha=new WeakMap,Wa=new WeakMap,x0),NP=N.createContext(void 0),OP=({client:n,children:e})=>(N.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),$.jsx(NP.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pu.apply(this,arguments)}var Ps;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ps||(Ps={}));const M_="popstate";function DP(n){n===void 0&&(n={});function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return Jp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:nT(o)}return MP(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VP(){return Math.random().toString(36).substr(2,8)}function L_(n,e){return{usr:n.state,key:n.key,idx:e}}function Jp(n,e,t,r){return t===void 0&&(t=null),pu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:t,key:e&&e.key||r||VP()})}function nT(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function MP(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h=Ps.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(pu({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function _(){h=Ps.Pop;let S=v(),j=S==null?null:S-m;m=S,f&&f({action:h,location:A.location,delta:j})}function E(S,j){h=Ps.Push;let z=Jp(A.location,S,j);m=v()+1;let B=L_(z,m),Q=A.createHref(z);try{u.pushState(B,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(Q)}a&&f&&f({action:h,location:A.location,delta:1})}function T(S,j){h=Ps.Replace;let z=Jp(A.location,S,j);m=v();let B=L_(z,m),Q=A.createHref(z);u.replaceState(B,"",Q),a&&f&&f({action:h,location:A.location,delta:0})}function R(S){let j=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof S=="string"?S:nT(S);return z=z.replace(/ $/,"%20"),Ot(j,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,j)}let A={get action(){return h},get location(){return n(o,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,_),f=S,()=>{o.removeEventListener(M_,_),f=null}},createHref(S){return e(o,S)},createURL:R,encodeLocation(S){let j=R(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:T,go(S){return u.go(S)}};return A}var F_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(F_||(F_={}));function LP(n,e,t){return t===void 0&&(t="/"),FP(n,e,t)}function FP(n,e,t,r){let o=typeof e=="string"?il(e):e,a=sT(o.pathname||"/",t);if(a==null)return null;let u=rT(n);UP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=XP(a);h=KP(u[f],m)}return h}function rT(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ot(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=bo([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),rT(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:qP(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of iT(a.path))o(a,u,f)}),e}function iT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=iT(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function UP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const jP=/^:[\w-]+$/,zP=3,BP=2,$P=1,HP=10,WP=-2,U_=n=>n==="*";function qP(n,e){let t=n.split("/"),r=t.length;return t.some(U_)&&(r+=WP),e&&(r+=BP),t.filter(o=>!U_(o)).reduce((o,a)=>o+(jP.test(a)?zP:a===""?$P:HP),r)}function GP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function KP(n,e,t){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=QP({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:bo([a,_.pathname]),pathnameBase:rb(bo([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=bo([a,_.pathnameBase]))}return u}function QP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YP(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,v,_)=>{let{paramName:E,isOptional:T}=v;if(E==="*"){let A=h[_]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const R=h[_];return T&&!R?m[E]=void 0:m[E]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function YP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),tT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function sT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function JP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:ZP(t,e):e,search:ib(r),hash:sb(o)}}function ZP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ap(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tb(n,e){let t=eb(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function nb(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=il(n):(o=pu({},n),Ot(!o.pathname||!o.pathname.includes("?"),Ap("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Ap("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Ap("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;o.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=JP(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const bo=n=>n.join("/").replace(/\/\/+/g,"/"),rb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ob(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const oT=["post","put","patch","delete"];new Set(oT);const ab=["get",...oT];new Set(ab);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mu.apply(this,arguments)}const Km=N.createContext(null),lb=N.createContext(null),mh=N.createContext(null),gh=N.createContext(null),sl=N.createContext({outlet:null,matches:[],isDataRoute:!1}),aT=N.createContext(null);function yh(){return N.useContext(gh)!=null}function vh(){return yh()||Ot(!1),N.useContext(gh).location}function lT(n){N.useContext(mh).static||N.useLayoutEffect(n)}function ub(){let{isDataRoute:n}=N.useContext(sl);return n?Tb():cb()}function cb(){yh()||Ot(!1);let n=N.useContext(Km),{basename:e,future:t,navigator:r}=N.useContext(mh),{matches:o}=N.useContext(sl),{pathname:a}=vh(),u=JSON.stringify(tb(o,t.v7_relativeSplatPath)),h=N.useRef(!1);return lT(()=>{h.current=!0}),N.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let _=nb(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:bo([e,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[e,r,u,a,n])}function db(n,e){return hb(n,e)}function hb(n,e,t,r){yh()||Ot(!1);let{navigator:o}=N.useContext(mh),{matches:a}=N.useContext(sl),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=vh(),v;if(e){var _;let S=typeof e=="string"?il(e):e;f==="/"||(_=S.pathname)!=null&&_.startsWith(f)||Ot(!1),v=S}else v=m;let E=v.pathname||"/",T=E;if(f!=="/"){let S=f.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let R=LP(n,{pathname:T}),A=yb(R&&R.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:bo([f,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:bo([f,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,r);return e&&A?N.createElement(gh.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ps.Pop}},A):A}function fb(){let n=Eb(),e=ob(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,null)}const pb=N.createElement(fb,null);class mb extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(sl.Provider,{value:this.props.routeContext},N.createElement(aT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gb(n){let{routeContext:e,match:t,children:r}=n,o=N.useContext(Km);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(sl.Provider,{value:e},r)}function yb(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let v=u.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);v>=0||Ot(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let _=u[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:E,errors:T}=t,R=_.route.loader&&E[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,_,E)=>{let T,R=!1,A=null,S=null;t&&(T=h&&_.route.id?h[_.route.id]:void 0,A=_.route.errorElement||pb,f&&(m<0&&E===0?(Ib("route-fallback"),R=!0,S=null):m===E&&(R=!0,S=_.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,E+1)),z=()=>{let B;return T?B=A:R?B=S:_.route.Component?B=N.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,N.createElement(gb,{match:_,routeContext:{outlet:v,matches:j,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?N.createElement(mb,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):z()},null)}var uT=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(uT||{}),cT=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(cT||{});function vb(n){let e=N.useContext(Km);return e||Ot(!1),e}function _b(n){let e=N.useContext(lb);return e||Ot(!1),e}function wb(n){let e=N.useContext(sl);return e||Ot(!1),e}function dT(n){let e=wb(),t=e.matches[e.matches.length-1];return t.route.id||Ot(!1),t.route.id}function Eb(){var n;let e=N.useContext(aT),t=_b(),r=dT();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Tb(){let{router:n}=vb(uT.UseNavigateStable),e=dT(cT.UseNavigateStable),t=N.useRef(!1);return lT(()=>{t.current=!0}),N.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,mu({fromRouteId:e},a)))},[n,e])}const j_={};function Ib(n,e,t){j_[n]||(j_[n]=!0)}function Sb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function wd(n){Ot(!1)}function Cb(n){let{basename:e="/",children:t=null,location:r,navigationType:o=Ps.Pop,navigator:a,static:u=!1,future:h}=n;yh()&&Ot(!1);let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:a,static:u,future:mu({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=il(r));let{pathname:v="/",search:_="",hash:E="",state:T=null,key:R="default"}=r,A=N.useMemo(()=>{let S=sT(v,f);return S==null?null:{location:{pathname:S,search:_,hash:E,state:T,key:R},navigationType:o}},[f,v,_,E,T,R,o]);return A==null?null:N.createElement(mh.Provider,{value:m},N.createElement(gh.Provider,{children:t,value:A}))}function Ab(n){let{children:e,location:t}=n;return db(Zp(e),t)}new Promise(()=>{});function Zp(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,o)=>{if(!N.isValidElement(r))return;let a=[...e,o];if(r.type===N.Fragment){t.push.apply(t,Zp(r.props.children,a));return}r.type!==wd&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Zp(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xb="6";try{window.__reactRouterVersion=xb}catch{}const Rb="startTransition",z_=P0[Rb];function Pb(n){let{basename:e,children:t,future:r,window:o}=n,a=N.useRef();a.current==null&&(a.current=DP({window:o,v5Compat:!0}));let u=a.current,[h,f]=N.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},v=N.useCallback(_=>{m&&z_?z_(()=>f(_)):f(_)},[f,m]);return N.useLayoutEffect(()=>u.listen(v),[u,v]),N.useEffect(()=>Sb(r),[r]),N.createElement(Cb,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:r})}var B_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(B_||(B_={}));var $_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($_||($_={}));const bb=[{id:"home",label:"Home",icon:iA,path:"/"},{id:"redeem",label:"Redeem",icon:nA,path:"/redeem"},{id:"history",label:"History",icon:rA,path:"/history"}];function kb(){const n=vh(),e=ub();return $.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border bottom-nav-safe",children:$.jsx("div",{className:"flex items-center justify-around h-16 max-w-md mx-auto",children:bb.map(t=>{const r=n.pathname===t.path,o=t.icon;return $.jsxs("button",{onClick:()=>e(t.path),className:Xt("flex flex-col items-center justify-center space-y-1 px-3 py-2 rounded-lg transition-all duration-200",r?"text-primary":"text-muted-foreground hover:text-foreground"),children:[$.jsx(o,{className:Xt("h-5 w-5 transition-all duration-200",r&&"scale-110")}),$.jsx("span",{className:Xt("text-xs font-medium transition-all duration-200",r&&"font-semibold"),children:t.label}),r&&$.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]},t.id)})})})}function Nb({children:n}){return $.jsxs("div",{className:"min-h-screen bg-background",children:[$.jsx("main",{className:"pb-20 min-h-screen",children:n}),$.jsx(kb,{})]})}const Ob=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Db=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|m>>6,T=m&63;f||(T=64,u||(E=64)),r.push(t[v],t[_],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Db(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||_==null)throw new Vb;const E=a<<2|h>>4;if(r.push(E),m!==64){const T=h<<4&240|m>>2;if(r.push(T),_!==64){const R=m<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(n){const e=hT(n);return fT.encodeByteArray(e,!0)},Ld=function(n){return Mb(n).replace(/\./g,"")},pT=function(n){try{return fT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=()=>Lb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof H_>"u")return;const n=H_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pT(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return Ob()||Fb()||Ub()||jb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mT=n=>{var e,t;return(t=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zb=n=>{const e=mT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},gT=()=>{var n;return(n=_h())===null||n===void 0?void 0:n.config},yT=n=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ld(JSON.stringify(t)),Ld(JSON.stringify(u)),""].join(".")}const iu={};function Hb(){const n={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?n.emulator.push(e):n.prod.push(e);return n}function Wb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let W_=!1;function _T(n,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||iu[n]===e||iu[n]||W_)return;iu[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=Hb().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{W_=!0,u()},E}function v(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=Wb(r),T=t("text"),R=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),S=document.getElementById(A)||document.createElement("a"),j=t("preprendIcon"),z=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),v(S,A);const Q=m();f(z,j),B.append(z,R,S,Q),document.body.appendChild(B)}a?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Gb(){var n;const e=(n=_h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Jb(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function ek(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="FirebaseError";class Hi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tk,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?nk(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Hi(o,h,r)}}function nk(n,e){return n.replace(rk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const rk=/\{\$([^}]+)}/g;function ik(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Do(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(q_(a)&&q_(u)){if(!Do(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function q_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sk(n,e){const t=new ok(n,e);return t.subscribe.bind(t)}class ok{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ak(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=xp),o.error===void 0&&(o.error=xp),o.complete===void 0&&(o.complete=xp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ak(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n){return n&&n._delegate?n._delegate:n}class Vo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Bb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ck(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uk(n){return n===To?void 0:n}function ck(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const hk={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},fk=Be.INFO,pk={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},mk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=pk[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=fk,this._logHandler=mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const gk=(n,e)=>e.some(t=>n instanceof t);let G_,K_;function yk(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vk(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,em=new WeakMap,ET=new WeakMap,Rp=new WeakMap,Ym=new WeakMap;function _k(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ks(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&wT.set(t,n)}).catch(()=>{}),Ym.set(e,n),e}function wk(n){if(em.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});em.set(n,e)}let tm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return em.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ET.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ek(n){tm=n(tm)}function Tk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pp(this),e,...t);return ET.set(r,e.sort?e.sort():[e]),ks(r)}:vk().includes(n)?function(...e){return n.apply(Pp(this),e),ks(wT.get(this))}:function(...e){return ks(n.apply(Pp(this),e))}}function Ik(n){return typeof n=="function"?Tk(n):(n instanceof IDBTransaction&&wk(n),gk(n,yk())?new Proxy(n,tm):n)}function ks(n){if(n instanceof IDBRequest)return _k(n);if(Rp.has(n))return Rp.get(n);const e=Ik(n);return e!==n&&(Rp.set(n,e),Ym.set(e,n)),e}const Pp=n=>Ym.get(n);function Sk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=ks(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ks(u.result),f.oldVersion,f.newVersion,ks(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ck=["get","getKey","getAll","getAllKeys","count"],Ak=["put","add","delete","clear"],bp=new Map;function Q_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Ak.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ck.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return bp.set(e,a),a}Ek(n=>({...n,get:(e,t,r)=>Q_(e,t)||n.get(e,t,r),has:(e,t)=>!!Q_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Rk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Y_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Qm("@firebase/app"),Pk="@firebase/app-compat",bk="@firebase/analytics-compat",kk="@firebase/analytics",Nk="@firebase/app-check-compat",Ok="@firebase/app-check",Dk="@firebase/auth",Vk="@firebase/auth-compat",Mk="@firebase/database",Lk="@firebase/data-connect",Fk="@firebase/database-compat",Uk="@firebase/functions",jk="@firebase/functions-compat",zk="@firebase/installations",Bk="@firebase/installations-compat",$k="@firebase/messaging",Hk="@firebase/messaging-compat",Wk="@firebase/performance",qk="@firebase/performance-compat",Gk="@firebase/remote-config",Kk="@firebase/remote-config-compat",Qk="@firebase/storage",Yk="@firebase/storage-compat",Xk="@firebase/firestore",Jk="@firebase/ai",Zk="@firebase/firestore-compat",eN="firebase",tN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",nN={[nm]:"fire-core",[Pk]:"fire-core-compat",[kk]:"fire-analytics",[bk]:"fire-analytics-compat",[Ok]:"fire-app-check",[Nk]:"fire-app-check-compat",[Dk]:"fire-auth",[Vk]:"fire-auth-compat",[Mk]:"fire-rtdb",[Lk]:"fire-data-connect",[Fk]:"fire-rtdb-compat",[Uk]:"fire-fn",[jk]:"fire-fn-compat",[zk]:"fire-iid",[Bk]:"fire-iid-compat",[$k]:"fire-fcm",[Hk]:"fire-fcm-compat",[Wk]:"fire-perf",[qk]:"fire-perf-compat",[Gk]:"fire-rc",[Kk]:"fire-rc-compat",[Qk]:"fire-gcs",[Yk]:"fire-gcs-compat",[Xk]:"fire-fst",[Zk]:"fire-fst-compat",[Jk]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,rN=new Map,im=new Map;function X_(n,e){try{n.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ka(n){const e=n.name;if(im.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,n);for(const t of Fd.values())X_(t,n);for(const t of rN.values())X_(t,n);return!0}function Xm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new ku("app","Firebase",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=tN;function TT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(t||(t=gT()),!t)throw Ns.create("no-options");const a=Fd.get(o);if(a){if(Do(t,a.options)&&Do(r,a.config))return a;throw Ns.create("duplicate-app",{appName:o})}const u=new dk(o);for(const f of im.values())u.addComponent(f);const h=new sN(t,r,u);return Fd.set(o,h),h}function IT(n=rm){const e=Fd.get(n);if(!e&&n===rm&&gT())return TT();if(!e)throw Ns.create("no-app",{appName:n});return e}function Os(n,e,t){var r;let o=(r=nN[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(h.join(" "));return}Ka(new Vo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",aN=1,gu="firebase-heartbeat-store";let kp=null;function ST(){return kp||(kp=Sk(oN,aN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),kp}async function lN(n){try{const t=(await ST()).transaction(gu),r=await t.objectStore(gu).get(CT(n));return await t.done,r}catch(e){if(e instanceof Hi)ji.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(t.message)}}}async function J_(n,e){try{const r=(await ST()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,CT(n)),await r.done}catch(t){if(t instanceof Hi)ji.warn(t.message);else{const r=Ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ji.warn(r.message)}}}function CT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,cN=30;class dN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>cN){const u=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:r,unsentEntries:o}=hN(this._heartbeatsCache.heartbeats),a=Ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ji.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function hN(n,e=uN){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),ew(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ew(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class fN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?ek().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ew(n){return Ld(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){Ka(new Vo("platform-logger",e=>new xk(e),"PRIVATE")),Ka(new Vo("heartbeat",e=>new dN(e),"PRIVATE")),Os(nm,Y_,n),Os(nm,Y_,"esm2017"),Os("fire-js","")}mN("");function Jm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=AT,xT=new ku("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Qm("@firebase/auth");function yN(n,...e){Ud.logLevel<=Be.WARN&&Ud.warn(`Auth (${al}): ${n}`,...e)}function Ed(n,...e){Ud.logLevel<=Be.ERROR&&Ud.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,...e){throw eg(n,...e)}function kr(n,...e){return eg(n,...e)}function Zm(n,e,t){const r=Object.assign(Object.assign({},gN()),{[e]:t});return new ku("auth","Firebase",r).create(e,{appName:n.name})}function ko(n){return Zm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),Zm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xT.create(n,...e)}function Ne(n,e,...t){if(!n)throw eg(e,...t)}function Mi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ed(e),new Error(e)}function zi(n,e){n||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _N(){return tw()==="http:"||tw()==="https:"}function tw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_N()||Qb()||"connection"in navigator)?navigator.onLine:!0}function EN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=qb()||Yb()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n,e){zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new Ou(3e4,6e4);function ng(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ll(n,e,t,r,o={}){return PT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Nu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return Kb()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ol(n.emulatorConfig.host)&&(m.credentials="include"),RT.fetch()(await bT(n,n.config.apiHost,t,h),m)})}async function PT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},TN),e);try{const o=new AN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw dd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw dd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw dd(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Zm(n,v,m);ui(n,v)}}catch(o){if(o instanceof Hi)throw o;ui(n,"network-request-failed",{message:String(o)})}}async function CN(n,e,t,r,o={}){const a=await ll(n,e,t,r,o);return"mfaPendingCredential"in a&&ui(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function bT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?tg(n.config,o):`${n.config.apiScheme}://${o}`;return IN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),SN.get())})}}function dd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return ll(n,"POST","/v1/accounts:delete",e)}async function jd(n,e){return ll(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(n,e=!1){const t=Bt(n),r=await t.getIdToken(e),o=rg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:su(Np(o.auth_time)),issuedAtTime:su(Np(o.iat)),expirationTime:su(Np(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function rg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(t);return o?JSON.parse(o):(Ed("Failed to decode base64 JWT payload"),null)}catch(o){return Ed("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nw(n){const e=rg(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Hi&&PN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function PN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){var e;const t=n.auth,r=await n.getIdToken(),o=await yu(n,jd(t,{idToken:r}));Ne(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kT(a.providerUserInfo):[],h=NN(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new om(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function kN(n){const e=Bt(n);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NN(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function kT(n){return n.map(e=>{var{providerId:t}=e,r=Jm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e){const t=await PT(n,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await bT(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&ol(n.emulatorConfig.host)&&(f.credentials="include"),RT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DN(n,e){return ll(n,"POST","/v2/accounts:revokeToken",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=nw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await ON(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new ka;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new om(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await yu(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,f,m,v;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,S=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:Q,isAnonymous:Y,providerData:ee,stsTokenManager:k}=t;Ne(B&&k,e,"internal-error");const x=ka.fromJSON(this.name,k);Ne(typeof B=="string",e,"internal-error"),_s(_,e.name),_s(E,e.name),Ne(typeof Q=="boolean",e,"internal-error"),Ne(typeof Y=="boolean",e,"internal-error"),_s(T,e.name),_s(R,e.name),_s(A,e.name),_s(S,e.name),_s(j,e.name),_s(z,e.name);const P=new br({uid:B,auth:e,email:E,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:R,phoneNumber:T,tenantId:A,stsTokenManager:x,createdAt:j,lastLoginAt:z});return ee&&Array.isArray(ee)&&(P.providerData=ee.map(O=>Object.assign({},O))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,t,r=!1){const o=new ka;o.updateFromServerResponse(t);const a=new br({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await zd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new ka;h.updateFromIdToken(r);const f=new br({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function Li(n){zi(n instanceof Function,"Expected a class definition");let e=rw.get(n);return e?(zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NT.type="NONE";const iw=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n,e,t){return`firebase:${n}:${e}:${t}`}class Na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Td(this.userKey,o.apiKey,a),this.fullPersistenceKey=Td("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jd(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Na(Li(iw),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Li(iw);const u=Td(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){let _;if(typeof v=="string"){const E=await jd(e,{idToken:v}).catch(()=>{});if(!E)break;_=await br._fromGetAccountInfoResponse(e,E,v)}else _=br._fromJSON(e,v);m!==a&&(h=_),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Na(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(UT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OT(n=un()){return/firefox\//i.test(n)}function DT(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(n=un()){return/crios\//i.test(n)}function MT(n=un()){return/iemobile/i.test(n)}function LT(n=un()){return/android/i.test(n)}function FT(n=un()){return/blackberry/i.test(n)}function UT(n=un()){return/webos/i.test(n)}function ig(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VN(n=un()){var e;return ig(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MN(){return Xb()&&document.documentMode===10}function jT(n=un()){return ig(n)||LT(n)||UT(n)||FT(n)||/windows phone/i.test(n)||MT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n,e=[]){let t;switch(n){case"Browser":t=sw(un());break;case"Worker":t=`${sw(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e={}){return ll(n,"GET","/v2/passwordPolicy",ng(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=6;class jN{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:UN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jd(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(ko(this));const t=e?Bt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),t=new jN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await DN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wh(n){return Bt(n)}class ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=sk(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BN(n){sg=n}function $N(n){return sg.loadJS(n)}function HN(){return sg.gapiScript}function WN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,e){const t=Xm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Do(a,e??{}))return o;ui(o,"already-initialized")}return t.initialize({options:e})}function GN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KN(n,e,t){const r=wh(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=BT(e),{host:u,port:h}=QN(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Do(m,r.config.emulator)&&Do(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ol(u)?(vT(`${a}//${u}${f}`),_T("Auth",!0)):YN()}function BT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QN(n){const e=BT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:aw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:aw(u)}}}function aw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n,e){return CN(n,"POST","/v1/accounts:signInWithIdp",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="http://localhost";class Mo extends $T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Jm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Mo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Oa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oa(e,t)}buildRequest(){const e={requestUri:XN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Du{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Du{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Du{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Is.credential(t,r)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await br._fromIdTokenResponse(e,r,o),u=lw(r);return new Qa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=lw(r);return new Qa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function lw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Hi{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Bd(e,t,r,o)}}function HT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(n,a,e,r):a})}async function JN(n,e,t=!1){const r=await yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e,t=!1){const{auth:r}=n;if(Pr(r.app))return Promise.reject(ko(r));const o="reauthenticate";try{const a=await yu(n,HT(r,o,e,n),t);Ne(a.idToken,r,"internal-error");const u=rg(a.idToken);Ne(u,r,"internal-error");const{sub:h}=u;return Ne(n.uid===h,r,"user-mismatch"),Qa._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,e,t=!1){if(Pr(n.app))return Promise.reject(ko(n));const r="signIn",o=await HT(n,r,e),a=await Qa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function t2(n,e,t,r){return Bt(n).onIdTokenChanged(e,t,r)}function n2(n,e,t){return Bt(n).beforeAuthStateChanged(e,t)}function r2(n,e,t,r){return Bt(n).onAuthStateChanged(e,t,r)}function i2(n){return Bt(n).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e3,o2=10;class qT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);MN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o2):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const a2=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GT.type="SESSION";const KT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await l2(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=ag("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function c2(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function d2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function f2(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",p2=1,Hd="firebaseLocalStorage",XT="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(n,e){return n.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function m2(){const n=indexedDB.deleteDatabase(YT);return new Vu(n).toPromise()}function am(){const n=indexedDB.open(YT,p2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hd,{keyPath:XT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await m2(),e(await am()))})})}async function uw(n,e,t){const r=Th(n,!0).put({[XT]:e,value:t});return new Vu(r).toPromise()}async function g2(n,e){const t=Th(n,!1).get(e),r=await new Vu(t).toPromise();return r===void 0?null:r.value}function cw(n,e){const t=Th(n,!0).delete(e);return new Vu(t).toPromise()}const y2=800,v2=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>v2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(f2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await uw(e,$d,"1"),await cw(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>uw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>g2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Th(o,!1).getAll();return new Vu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const _2=JT;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n,e){return e?Li(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends $T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function w2(n){return e2(n.auth,new lg(n),n.bypassAuthState)}function E2(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),ZN(t,new lg(n),n.bypassAuthState)}async function T2(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),JN(t,new lg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return T2;case"reauthViaPopup":case"reauthViaRedirect":return E2;default:ui(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Ou(2e3,1e4);async function S2(n,e,t){if(Pr(n.app))return Promise.reject(kr(n,"operation-not-supported-in-this-environment"));const r=wh(n);vN(n,e,og);const o=ZT(r,t);return new Io(r,"signInViaPopup",e,o).executeNotNull()}class Io extends eI{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I2.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="pendingRedirect",Id=new Map;class A2 extends eI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(n,e){const t=b2(e),r=P2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function R2(n,e){Id.set(n._key(),e)}function P2(n){return Li(n._redirectPersistence)}function b2(n){return Td(C2,n.config.apiKey,n.name)}async function k2(n,e,t=!1){if(Pr(n.app))return Promise.reject(ko(n));const r=wh(n),o=ZT(r,e),u=await new A2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=600*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tI(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N2&&this.cachedEventUids.clear(),this.cachedEventUids.has(dw(e))}saveEventToCache(e){this.cachedEventUids.add(dw(e)),this.lastProcessedEventTime=Date.now()}}function dw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e={}){return ll(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;async function F2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await V2(n);for(const t of e)try{if(U2(t))return}catch{}ui(n,"unauthorized-domain")}function U2(n){const e=sm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!L2.test(t))return!1;if(M2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Ou(3e4,6e4);function hw(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z2(n){return new Promise((e,t)=>{var r,o,a;function u(){hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hw(),t(kr(n,"network-request-failed"))},timeout:j2.get()})}if(!((o=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)u();else{const h=WN("iframefcb");return ri()[h]=()=>{gapi.load?u():t(kr(n,"network-request-failed"))},$N(`${HN()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function B2(n){return Sd=Sd||z2(n),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Ou(5e3,15e3),H2="__/auth/iframe",W2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tg(e,W2):`https://${n.config.authDomain}/${H2}`,r={apiKey:e.apiKey,appName:n.name,v:al},o=G2.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Nu(r).slice(1)}`}async function Q2(n){const e=await B2(n),t=ri().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:K2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=kr(n,"network-request-failed"),h=ri().setTimeout(()=>{a(u)},$2.get());function f(){ri().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X2=500,J2=600,Z2="_blank",eO="http://localhost";class fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tO(n,e,t,r=X2,o=J2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Y2),{width:r.toString(),height:o.toString(),top:a,left:u}),m=un().toLowerCase();t&&(h=VT(m)?Z2:t),OT(m)&&(e=e||eO,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[T,R])=>`${E}${T}=${R},`,"");if(VN(m)&&h!=="_self")return nO(e||"",h),new fw(null);const _=window.open(e||"",h,v);Ne(_,n,"popup-blocked");try{_.focus()}catch{}return new fw(_)}function nO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="__/auth/handler",iO="emulator/auth/handler",sO=encodeURIComponent("fac");async function pw(n,e,t,r,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:al,eventId:o};if(e instanceof og){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ik(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Du){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${sO}=${encodeURIComponent(f)}`:"";return`${oO(n)}?${Nu(h).slice(1)}${m}`}function oO({config:n}){return n.emulator?tg(n,iO):`https://${n.authDomain}/${rO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class aO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=k2,this._overrideRedirectResult=R2}async _openPopup(e,t,r,o){var a;zi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await pw(e,t,r,sm(),o);return tO(e,u,ag())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await pw(e,t,r,sm(),o);return c2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Q2(e),r=new O2(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Op];u!==void 0&&t(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||DT()||ig()}}const lO=aO;var mw="@firebase/auth",gw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dO(n){Ka(new Vo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zT(n)},m=new zN(r,o,a,f);return GN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ka(new Vo("auth-internal",e=>{const t=wh(e.getProvider("auth").getImmediate());return(r=>new uO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(mw,gw,cO(n)),Os(mw,gw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=300,fO=yT("authIdTokenMaxAge")||hO;let yw=null;const pO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fO)return;const o=t==null?void 0:t.token;yw!==o&&(yw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nI(n=IT()){const e=Xm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qN(n,{popupRedirectResolver:lO,persistence:[_2,a2,KT]}),r=yT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=pO(a.toString());n2(t,u,()=>u(t.currentUser)),t2(t,h=>u(h))}}const o=mT("auth");return o&&KN(t,`http://${o}`),t}function mO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",mO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dO("Browser");const rI=N.createContext(void 0),Dp={user:null,isAuthenticated:!1,coins:0,transactions:[],spinsLeft:20,totalSpinsToday:0,dailyCheckIn:!1,completedTasks:new Set};function gO({children:n}){const[e,t]=N.useState(Dp),r=nI();N.useEffect(()=>{const E=r2(r,T=>{if(T){const R={name:T.displayName||"User",email:T.email||"",picture:T.photoURL||"/placeholder.svg"};t(A=>({...A,user:R,isAuthenticated:!0}))}else t(R=>({...R,user:null,isAuthenticated:!1}))});return()=>E()},[r]);const o=E=>{t(T=>({...T,user:E,isAuthenticated:!0}))},a=async()=>{try{await i2(r),t(Dp)}catch(E){console.error("Logout error:",E),t(Dp)}},u=(E,T,R)=>{const A={id:Date.now().toString(),type:"earn",title:T,amount:E,date:new Date().toISOString().split("T")[0],status:"completed",description:R};t(S=>({...S,coins:S.coins+E,transactions:[A,...S.transactions]}))},h=(E,T,R)=>{const A={id:Date.now().toString(),type:"redeem",title:T,amount:-E,date:new Date().toISOString().split("T")[0],status:"pending",description:R||"Request submitted, processing..."};t(S=>({...S,coins:S.coins-E,transactions:[A,...S.transactions]}))},f=E=>{t(T=>({...T,dailyCheckIn:E}))},m=E=>{t(T=>({...T,completedTasks:new Set(T.completedTasks).add(E)}))},v=E=>{t(T=>({...T,spinsLeft:Math.max(0,T.spinsLeft-E),totalSpinsToday:T.totalSpinsToday+E}))},_=(E,T)=>{t(R=>({...R,transactions:R.transactions.map(A=>A.id===E?{...A,status:T}:A)}))};return $.jsx(rI.Provider,{value:{state:e,login:o,logout:a,addCoins:u,redeemCoins:h,setDailyCheckIn:f,addCompletedTask:m,useSpins:v,updateTransactionStatus:_},children:n})}function yO(){const n=N.useContext(rI);if(n===void 0)throw new Error("useApp must be used within an AppProvider");return n}var vO="firebase",_O="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(vO,_O,"app");var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,iI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function P(){}P.prototype=x.prototype,k.D=x.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(O,M,V){for(var b=Array(arguments.length-2),le=2;le<arguments.length;le++)b[le-2]=arguments[le];return x.prototype[M].apply(O,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,x,P){P||(P=0);var O=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)O[M]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(M=0;16>M;++M)O[M]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=k.g[0],P=k.g[1],M=k.g[2];var V=k.g[3],b=x+(V^P&(M^V))+O[0]+3614090360&4294967295;x=P+(b<<7&4294967295|b>>>25),b=V+(M^x&(P^M))+O[1]+3905402710&4294967295,V=x+(b<<12&4294967295|b>>>20),b=M+(P^V&(x^P))+O[2]+606105819&4294967295,M=V+(b<<17&4294967295|b>>>15),b=P+(x^M&(V^x))+O[3]+3250441966&4294967295,P=M+(b<<22&4294967295|b>>>10),b=x+(V^P&(M^V))+O[4]+4118548399&4294967295,x=P+(b<<7&4294967295|b>>>25),b=V+(M^x&(P^M))+O[5]+1200080426&4294967295,V=x+(b<<12&4294967295|b>>>20),b=M+(P^V&(x^P))+O[6]+2821735955&4294967295,M=V+(b<<17&4294967295|b>>>15),b=P+(x^M&(V^x))+O[7]+4249261313&4294967295,P=M+(b<<22&4294967295|b>>>10),b=x+(V^P&(M^V))+O[8]+1770035416&4294967295,x=P+(b<<7&4294967295|b>>>25),b=V+(M^x&(P^M))+O[9]+2336552879&4294967295,V=x+(b<<12&4294967295|b>>>20),b=M+(P^V&(x^P))+O[10]+4294925233&4294967295,M=V+(b<<17&4294967295|b>>>15),b=P+(x^M&(V^x))+O[11]+2304563134&4294967295,P=M+(b<<22&4294967295|b>>>10),b=x+(V^P&(M^V))+O[12]+1804603682&4294967295,x=P+(b<<7&4294967295|b>>>25),b=V+(M^x&(P^M))+O[13]+4254626195&4294967295,V=x+(b<<12&4294967295|b>>>20),b=M+(P^V&(x^P))+O[14]+2792965006&4294967295,M=V+(b<<17&4294967295|b>>>15),b=P+(x^M&(V^x))+O[15]+1236535329&4294967295,P=M+(b<<22&4294967295|b>>>10),b=x+(M^V&(P^M))+O[1]+4129170786&4294967295,x=P+(b<<5&4294967295|b>>>27),b=V+(P^M&(x^P))+O[6]+3225465664&4294967295,V=x+(b<<9&4294967295|b>>>23),b=M+(x^P&(V^x))+O[11]+643717713&4294967295,M=V+(b<<14&4294967295|b>>>18),b=P+(V^x&(M^V))+O[0]+3921069994&4294967295,P=M+(b<<20&4294967295|b>>>12),b=x+(M^V&(P^M))+O[5]+3593408605&4294967295,x=P+(b<<5&4294967295|b>>>27),b=V+(P^M&(x^P))+O[10]+38016083&4294967295,V=x+(b<<9&4294967295|b>>>23),b=M+(x^P&(V^x))+O[15]+3634488961&4294967295,M=V+(b<<14&4294967295|b>>>18),b=P+(V^x&(M^V))+O[4]+3889429448&4294967295,P=M+(b<<20&4294967295|b>>>12),b=x+(M^V&(P^M))+O[9]+568446438&4294967295,x=P+(b<<5&4294967295|b>>>27),b=V+(P^M&(x^P))+O[14]+3275163606&4294967295,V=x+(b<<9&4294967295|b>>>23),b=M+(x^P&(V^x))+O[3]+4107603335&4294967295,M=V+(b<<14&4294967295|b>>>18),b=P+(V^x&(M^V))+O[8]+1163531501&4294967295,P=M+(b<<20&4294967295|b>>>12),b=x+(M^V&(P^M))+O[13]+2850285829&4294967295,x=P+(b<<5&4294967295|b>>>27),b=V+(P^M&(x^P))+O[2]+4243563512&4294967295,V=x+(b<<9&4294967295|b>>>23),b=M+(x^P&(V^x))+O[7]+1735328473&4294967295,M=V+(b<<14&4294967295|b>>>18),b=P+(V^x&(M^V))+O[12]+2368359562&4294967295,P=M+(b<<20&4294967295|b>>>12),b=x+(P^M^V)+O[5]+4294588738&4294967295,x=P+(b<<4&4294967295|b>>>28),b=V+(x^P^M)+O[8]+2272392833&4294967295,V=x+(b<<11&4294967295|b>>>21),b=M+(V^x^P)+O[11]+1839030562&4294967295,M=V+(b<<16&4294967295|b>>>16),b=P+(M^V^x)+O[14]+4259657740&4294967295,P=M+(b<<23&4294967295|b>>>9),b=x+(P^M^V)+O[1]+2763975236&4294967295,x=P+(b<<4&4294967295|b>>>28),b=V+(x^P^M)+O[4]+1272893353&4294967295,V=x+(b<<11&4294967295|b>>>21),b=M+(V^x^P)+O[7]+4139469664&4294967295,M=V+(b<<16&4294967295|b>>>16),b=P+(M^V^x)+O[10]+3200236656&4294967295,P=M+(b<<23&4294967295|b>>>9),b=x+(P^M^V)+O[13]+681279174&4294967295,x=P+(b<<4&4294967295|b>>>28),b=V+(x^P^M)+O[0]+3936430074&4294967295,V=x+(b<<11&4294967295|b>>>21),b=M+(V^x^P)+O[3]+3572445317&4294967295,M=V+(b<<16&4294967295|b>>>16),b=P+(M^V^x)+O[6]+76029189&4294967295,P=M+(b<<23&4294967295|b>>>9),b=x+(P^M^V)+O[9]+3654602809&4294967295,x=P+(b<<4&4294967295|b>>>28),b=V+(x^P^M)+O[12]+3873151461&4294967295,V=x+(b<<11&4294967295|b>>>21),b=M+(V^x^P)+O[15]+530742520&4294967295,M=V+(b<<16&4294967295|b>>>16),b=P+(M^V^x)+O[2]+3299628645&4294967295,P=M+(b<<23&4294967295|b>>>9),b=x+(M^(P|~V))+O[0]+4096336452&4294967295,x=P+(b<<6&4294967295|b>>>26),b=V+(P^(x|~M))+O[7]+1126891415&4294967295,V=x+(b<<10&4294967295|b>>>22),b=M+(x^(V|~P))+O[14]+2878612391&4294967295,M=V+(b<<15&4294967295|b>>>17),b=P+(V^(M|~x))+O[5]+4237533241&4294967295,P=M+(b<<21&4294967295|b>>>11),b=x+(M^(P|~V))+O[12]+1700485571&4294967295,x=P+(b<<6&4294967295|b>>>26),b=V+(P^(x|~M))+O[3]+2399980690&4294967295,V=x+(b<<10&4294967295|b>>>22),b=M+(x^(V|~P))+O[10]+4293915773&4294967295,M=V+(b<<15&4294967295|b>>>17),b=P+(V^(M|~x))+O[1]+2240044497&4294967295,P=M+(b<<21&4294967295|b>>>11),b=x+(M^(P|~V))+O[8]+1873313359&4294967295,x=P+(b<<6&4294967295|b>>>26),b=V+(P^(x|~M))+O[15]+4264355552&4294967295,V=x+(b<<10&4294967295|b>>>22),b=M+(x^(V|~P))+O[6]+2734768916&4294967295,M=V+(b<<15&4294967295|b>>>17),b=P+(V^(M|~x))+O[13]+1309151649&4294967295,P=M+(b<<21&4294967295|b>>>11),b=x+(M^(P|~V))+O[4]+4149444226&4294967295,x=P+(b<<6&4294967295|b>>>26),b=V+(P^(x|~M))+O[11]+3174756917&4294967295,V=x+(b<<10&4294967295|b>>>22),b=M+(x^(V|~P))+O[2]+718787259&4294967295,M=V+(b<<15&4294967295|b>>>17),b=P+(V^(M|~x))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var P=x-this.blockSize,O=this.B,M=this.h,V=0;V<x;){if(M==0)for(;V<=P;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<x;)if(O[M++]=k.charCodeAt(V++),M==this.blockSize){o(this,O),M=0;break}}else for(;V<x;)if(O[M++]=k[V++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=x},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var P=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=P&255,P/=256;for(this.u(k),k=Array(16),x=P=0;4>x;++x)for(var O=0;32>O;O+=8)k[P++]=this.g[x]>>>O&255;return k};function a(k,x){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=x(k)}function u(k,x){this.h=x;for(var P=[],O=!0,M=k.length-1;0<=M;M--){var V=k[M]|0;O&&V==x||(P[M]=V,O=!1)}this.g=P}var h={};function f(k){return-128<=k&&128>k?a(k,function(x){return new u([x|0],0>x?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return S(m(-k));for(var x=[],P=1,O=0;k>=P;O++)x[O]=k/P|0,P*=4294967296;return new u(x,0)}function v(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return S(v(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(x,8)),O=_,M=0;M<k.length;M+=8){var V=Math.min(8,k.length-M),b=parseInt(k.substring(M,M+V),x);8>V?(V=m(Math.pow(x,V)),O=O.j(V).add(m(b))):(O=O.j(P),O=O.add(m(b)))}return O}var _=f(0),E=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-S(this).m();for(var k=0,x=1,P=0;P<this.g.length;P++){var O=this.i(P);k+=(0<=O?O:4294967296+O)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(A(this))return"-"+S(this).toString(k);for(var x=m(Math.pow(k,6)),P=this,O="";;){var M=Q(P,x).g;P=j(P,M.j(x));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=M,R(P))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=j(this,k),A(k)?-1:R(k)?0:1};function S(k){for(var x=k.g.length,P=[],O=0;O<x;O++)P[O]=~k.g[O];return new u(P,~k.h).add(E)}n.abs=function(){return A(this)?S(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],O=0,M=0;M<=x;M++){var V=O+(this.i(M)&65535)+(k.i(M)&65535),b=(V>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);O=b>>>16,V&=65535,b&=65535,P[M]=b<<16|V}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(k,x){return k.add(S(x))}n.j=function(k){if(R(this)||R(k))return _;if(A(this))return A(k)?S(this).j(S(k)):S(S(this).j(k));if(A(k))return S(this.j(S(k)));if(0>this.l(T)&&0>k.l(T))return m(this.m()*k.m());for(var x=this.g.length+k.g.length,P=[],O=0;O<2*x;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<k.g.length;M++){var V=this.i(O)>>>16,b=this.i(O)&65535,le=k.i(M)>>>16,Re=k.i(M)&65535;P[2*O+2*M]+=b*Re,z(P,2*O+2*M),P[2*O+2*M+1]+=V*Re,z(P,2*O+2*M+1),P[2*O+2*M+1]+=b*le,z(P,2*O+2*M+1),P[2*O+2*M+2]+=V*le,z(P,2*O+2*M+2)}for(O=0;O<x;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=x;O<2*x;O++)P[O]=0;return new u(P,0)};function z(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function B(k,x){this.g=k,this.h=x}function Q(k,x){if(R(x))throw Error("division by zero");if(R(k))return new B(_,_);if(A(k))return x=Q(S(k),x),new B(S(x.g),S(x.h));if(A(x))return x=Q(k,S(x)),new B(S(x.g),x.h);if(30<k.g.length){if(A(k)||A(x))throw Error("slowDivide_ only works with positive integers.");for(var P=E,O=x;0>=O.l(k);)P=Y(P),O=Y(O);var M=ee(P,1),V=ee(O,1);for(O=ee(O,2),P=ee(P,2);!R(O);){var b=V.add(O);0>=b.l(k)&&(M=M.add(P),V=b),O=ee(O,1),P=ee(P,1)}return x=j(k,M.j(x)),new B(M,x)}for(M=_;0<=k.l(x);){for(P=Math.max(1,Math.floor(k.m()/x.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=m(P),b=V.j(x);A(b)||0<b.l(k);)P-=O,V=m(P),b=V.j(x);R(V)&&(V=E),M=M.add(V),k=j(k,b)}return new B(M,k)}n.A=function(k){return Q(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],O=0;O<x;O++)P[O]=this.i(O)&k.i(O);return new u(P,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],O=0;O<x;O++)P[O]=this.i(O)|k.i(O);return new u(P,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],O=0;O<x;O++)P[O]=this.i(O)^k.i(O);return new u(P,this.h^k.h)};function Y(k){for(var x=k.g.length+1,P=[],O=0;O<x;O++)P[O]=k.i(O)<<1|k.i(O-1)>>>31;return new u(P,k.h)}function ee(k,x){var P=x>>5;x%=32;for(var O=k.g.length-P,M=[],V=0;V<O;V++)M[V]=0<x?k.i(V+P)>>>x|k.i(V+P+1)<<32-x:k.i(V+P);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ds=u}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sI,Jl,oI,Cd,lm,aI,lI,uI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in w))break e;w=w[H]}c=c[c.length-1],C=w[c],g=g(C),g!=C&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,C=!1,H={next:function(){if(!C&&w<c.length){var X=w++;return{value:g(X,c[X]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function _(c,g,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function E(c,g,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,E.apply(null,arguments)}function T(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function R(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,H,X){for(var he=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)he[tt-2]=arguments[tt];return g.prototype[H].apply(C,he)}}function A(c){const g=c.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=c[C];return w}return[]}function S(c,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(f(C)){const H=c.length||0,X=C.length||0;c.length=H+X;for(let he=0;he<X;he++)c[H+he]=C[he]}else c.push(C)}}class j{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ee(c,g,w){for(const C in c)g.call(w,c[C],C,c)}function k(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function x(c){const g={};for(const w in c)g[w]=c[w];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let w,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(w in C)c[w]=C[w];for(let X=0;X<P.length;X++)w=P[X],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function M(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function V(c){h.setTimeout(()=>{throw c},0)}function b(){var c=te;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,w){const C=Re.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Re=new j(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,J=!1,te=new le,oe=()=>{const c=h.Promise.resolve(void 0);ye=()=>{c.then(U)}};var U=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(w){V(w)}var g=Re;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}J=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c})();function Se(c,g){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Y){e:{try{Q(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}R(Se,ue);var Ve={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,w,C,H){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=H,this.key=++Ue,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c){this.src=c,this.g={},this.h=0}Vt.prototype.add=function(c,g,w,C,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=$t(c,g,C,H);return-1<he?(g=c[he],w||(g.fa=!1)):(g=new He(g,this.src,X,!!C,H),g.fa=w,c.push(g)),g};function Dn(c,g){var w=g.type;if(w in c.g){var C=c.g[w],H=Array.prototype.indexOf.call(C,g,void 0),X;(X=0<=H)&&Array.prototype.splice.call(C,H,1),X&&(rt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function $t(c,g,w,C){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==g&&X.capture==!!w&&X.ha==C)return H}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),Fr={};function Ur(c,g,w,C,H){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Ur(c,g[X],w,C,H);return null}return w=Ys(w),c&&c[Ie]?c.K(g,w,m(C)?!!C.capture:!1,H):hi(c,g,w,!1,C,H)}function hi(c,g,w,C,H,X){if(!g)throw Error("Invalid event type");var he=m(H)?!!H.capture:!!H,tt=vn(c);if(tt||(c[Gn]=tt=new Vt(c)),w=tt.add(g,w,C,he,X),w.proxy)return w;if(C=jr(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)ge||(H=he),H===void 0&&(H=!1),c.addEventListener(g.toString(),C,H);else if(c.attachEvent)c.attachEvent(cn(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function jr(){function c(w){return g.call(c.src,c.listener,w)}const g=Wi;return c}function Vn(c,g,w,C,H){if(Array.isArray(g))for(var X=0;X<g.length;X++)Vn(c,g[X],w,C,H);else C=m(C)?!!C.capture:!!C,w=Ys(w),c&&c[Ie]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],w=$t(X,w,C,H),-1<w&&(rt(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=vn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$t(g,w,C,H)),(w=-1<c?g[c]:null)&&Kn(w))}function Kn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ie])Dn(g.i,c);else{var w=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(w,C,c.capture):g.detachEvent?g.detachEvent(cn(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=vn(g))?(Dn(w,c),w.h==0&&(w.src=null,g[Gn]=null)):rt(c)}}}function cn(c){return c in Fr?Fr[c]:Fr[c]="on"+c}function Wi(c,g){if(c.da)c=!0;else{g=new Se(g,this);var w=c.listener,C=c.ha||c.src;c.fa&&Kn(c),c=w.call(C,g)}return c}function vn(c){return c=c[Gn],c instanceof Vt?c:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(c){return typeof c=="function"?c:(c[qi]||(c[qi]=function(g){return c.handleEvent(g)}),c[qi])}function Qe(){K.call(this),this.i=new Vt(this),this.M=this,this.F=null}R(Qe,K),Qe.prototype[Ie]=!0,Qe.prototype.removeEventListener=function(c,g,w,C){Vn(this,c,g,w,C)};function it(c,g){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new ue(g,c);else if(g instanceof ue)g.target=g.target||c;else{var H=g;g=new ue(C,c),O(g,H)}if(H=!0,w)for(var X=w.length-1;0<=X;X--){var he=g.g=w[X];H=cr(he,C,!0,g)&&H}if(he=g.g=c,H=cr(he,C,!0,g)&&H,H=cr(he,C,!1,g)&&H,w)for(X=0;X<w.length;X++)he=g.g=w[X],H=cr(he,C,!1,g)&&H}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],C=0;C<w.length;C++)rt(w[C]);delete c.g[g],c.h--}}this.F=null},Qe.prototype.K=function(c,g,w,C){return this.i.add(String(c),g,!1,w,C)},Qe.prototype.L=function(c,g,w,C){return this.i.add(String(c),g,!0,w,C)};function cr(c,g,w,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,X=0;X<g.length;++X){var he=g[X];if(he&&!he.da&&he.capture==w){var tt=he.listener,Pt=he.ha||he.src;he.fa&&Dn(c.i,he),H=tt.call(Pt,C)!==!1&&H}}return H&&!C.defaultPrevented}function Xs(c,g,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function Mn(c){c.g=Xs(()=>{c.g=null,c.i&&(c.i=!1,Mn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class fi extends K{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(c){K.call(this),this.h=c,this.g={}}R(zr,K);var pi=[];function Qn(c){ee(c.g,function(g,w){this.g.hasOwnProperty(w)&&Kn(g)},c),c.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Qn(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=h.JSON.stringify,Yn=h.JSON.parse,Js=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function mi(){}mi.prototype.h=null;function gi(c){return c.h||(c.h=c.i())}function yi(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wn(){ue.call(this,"d")}R(wn,ue);function dn(){ue.call(this,"c")}R(dn,ue);var Xn={},Pe=null;function ze(){return Pe=Pe||new Qe}Xn.La="serverreachability";function Je(c){ue.call(this,Xn.La,c)}R(Je,ue);function Et(c){const g=ze();it(g,new Je(g))}Xn.STAT_EVENT="statevent";function Ht(c,g){ue.call(this,Xn.STAT_EVENT,c),this.stat=g}R(Ht,ue);function Ze(c){const g=ze();it(g,new Ht(g,c))}Xn.Ma="timingevent";function En(c,g){ue.call(this,Xn.Ma,c),this.size=g}R(En,ue);function pt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Zt(){this.g=!0}Zt.prototype.xa=function(){this.g=!1};function Zs(c,g,w,C,H,X){c.info(function(){if(c.g)if(X)for(var he="",tt=X.split("&"),Pt=0;Pt<tt.length;Pt++){var qe=tt[Pt].split("=");if(1<qe.length){var Mt=qe[0];qe=qe[1];var St=Mt.split("_");he=2<=St.length&&St[1]=="type"?he+(Mt+"="+qe+"&"):he+(Mt+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+g+`
`+w+`
`+he})}function Bo(c,g,w,C,H,X,he){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+g+`
`+w+`
`+X+" "+he})}function dr(c,g,w,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zh(c,w)+(C?" "+C:"")})}function pl(c,g){c.info(function(){return"TIMEOUT: "+g})}Zt.prototype.info=function(){};function zh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Gi(w)}catch{return g}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function eo(){}R(eo,mi),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},hr=new eo;function fr(c,g,w,C){this.j=c,this.i=g,this.l=w,this.R=C||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}var ml={},Ho={};function Wo(c,g,w){c.L=1,c.v=Ji(Fn(g)),c.m=w,c.P=!0,gl(c,null)}function gl(c,g){c.F=Date.now(),st(c),c.A=Fn(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),es(w.i,"t",C),c.C=0,w=c.j.J,c.h=new Wu,c.g=uc(c.j,w?g:null,!c.m),0<c.O&&(c.M=new fi(E(c.Y,c,c.g),c.O)),g=c.U,w=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(pi[0]=H.toString()),H=pi);for(var X=0;X<H.length;X++){var he=Ur(w,H[X],C||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Et(),Zs(c.i,c.u,c.A,c.l,c.R,c.m)}fr.prototype.ca=function(c){c=c.target;const g=this.M;g&&In(c)==3?g.j():this.Y(c)},fr.prototype.Y=function(c){try{if(c==this.g)e:{const St=In(this.g);var g=this.g.Ba();const er=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||St!=4||g==7||(g==8||0>=er?Et(3):Et(2)),to(this);var w=this.g.Z();this.X=w;t:if(qu(this)){var C=Tl(this.g);c="";var H=C.length,X=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),Ki(this);var he="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(X&&g==H-1)});C.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,Bo(this.i,this.u,this.A,this.l,this.R,St,w),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Pt=this.g;if((tt=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(tt)){var qe=tt;break t}}qe=null}if(w=qe)dr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yl(this,w);else{this.o=!1,this.s=3,Ze(12),Jn(this),Ki(this);break e}}if(this.P){w=!0;let jn;for(;!this.J&&this.C<he.length;)if(jn=Bh(this,he),jn==Ho){St==4&&(this.s=4,Ze(14),w=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==ml){this.s=4,Ze(15),dr(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else dr(this.i,this.l,jn,null),yl(this,jn);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||he.length!=0||this.h.h||(this.s=1,Ze(16),w=!1),this.o=this.o&&w,!w)dr(this.i,this.l,he,"[Invalid Chunked Response]"),Jn(this),Ki(this);else if(0<he.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Sl(Mt),Mt.M=!0,Ze(11))}}else dr(this.i,this.l,he,null),yl(this,he);St==4&&Jn(this),this.o&&!this.J&&(St==4?na(this.j,this):(this.o=!1,st(this)))}else Xo(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Jn(this),Ki(this)}}}catch{}finally{}};function qu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bh(c,g){var w=c.C,C=g.indexOf(`
`,w);return C==-1?Ho:(w=Number(g.substring(w,C)),isNaN(w)?ml:(C+=1,C+w>g.length?Ho:(g=g.slice(C,C+w),c.C=C+w,g)))}fr.prototype.cancel=function(){this.J=!0,Jn(this)};function st(c){c.S=Date.now()+c.I,Gu(c,c.I)}function Gu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(E(c.ba,c),g)}function to(c){c.B&&(h.clearTimeout(c.B),c.B=null)}fr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pl(this.i,this.A),this.L!=2&&(Et(),Ze(17)),Jn(this),this.s=2,Ki(this)):Gu(this,this.S-c)};function Ki(c){c.j.G==0||c.J||na(c.j,c)}function Jn(c){to(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function yl(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||hn(w.h,c))){if(!c.K&&hn(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ta(w),vr(w);else break e;ea(w),Ze(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=pt(E(w.Za,w),6e3));if(1>=Qu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ti(w,11)}else if((c.K||w.g==c)&&ta(w),!z(g))for(H=w.Da.g.parse(g),g=0;g<H.length;g++){let qe=H[g];if(w.T=qe[0],qe=qe[1],w.G==2)if(qe[0]=="c"){w.K=qe[1],w.ia=qe[2];const Mt=qe[3];Mt!=null&&(w.la=Mt,w.j.info("VER="+w.la));const St=qe[4];St!=null&&(w.Aa=St,w.j.info("SVER="+w.Aa));const er=qe[5];er!=null&&typeof er=="number"&&0<er&&(C=1.5*er,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const jn=c.g;if(jn){const lo=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var X=C.h;X.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(vl(X,X.h),X.h=null))}if(C.D){const ia=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(C.ya=ia,nt(C.I,C.D,ia))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var he=c;if(C.qa=lc(C,C.J?C.ia:null,C.W),he.K){Yu(C.h,he);var tt=he,Pt=C.L;Pt&&(tt.I=Pt),tt.B&&(to(tt),st(tt)),C.g=he}else ao(C);0<w.i.length&&Wr(w)}else qe[0]!="stop"&&qe[0]!="close"||Ti(w,7);else w.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(w,7):qt(w):qe[0]!="noop"&&w.l&&w.l.ta(qe),w.v=0)}}Et(4)}catch{}}var Ku=class{constructor(c,g){this.g=c,this.map=g}};function no(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qu(c){return c.h?1:c.g?c.g.size:0}function hn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function vl(c,g){c.g?c.g.add(g):c.h=g}function Yu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}no.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return A(c.i)}function qo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,C=0;C<w;C++)g.push(c[C]);return g}g=[],w=0;for(C in c)g[w++]=c[C];return g}function Go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const C in c)g[w++]=C;return g}}}function Qi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=Go(c),C=qo(c),H=C.length,X=0;X<H;X++)g.call(void 0,C[X],w&&w[X],c)}var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),H=null;if(0<=C){var X=c[w].substring(0,C);H=c[w].substring(C+1)}else X=c[w];g(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,io(this,c.j),this.o=c.o,this.g=c.g,Yi(this,c.s),this.l=c.l;var g=c.i,w=new Br;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Xi(this,w),this.m=c.m}else c&&(g=String(c).match(ro))?(this.h=!1,io(this,g[1]||"",!0),this.o=We(g[2]||""),this.g=We(g[3]||"",!0),Yi(this,g[4]),this.l=We(g[5]||"",!0),Xi(this,g[6]||"",!0),this.m=We(g[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zi(g,Ko,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zi(g,Ko,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Zi(w,w.charAt(0)=="/"?ec:Zu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Zi(w,_l)),c.join("")};function Fn(c){return new vi(c)}function io(c,g,w){c.j=w?We(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Yi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xi(c,g,w){g instanceof Br?(c.i=g,$r(c.i,c.h)):(w||(g=Zi(g,tc)),c.i=new Br(g,c.h))}function nt(c,g,w){c.i.set(g,w)}function Ji(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function We(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zi(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Ju),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Zu=/[#\?:]/g,ec=/[#\?]/g,tc=/[#\?@]/g,_l=/#/g;function Br(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Wt(c){c.g||(c.g=new Map,c.h=0,c.i&&$h(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=Br.prototype,n.add=function(c,g){Wt(this),this.i=null,c=Zn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function pr(c,g){Wt(c),g=Zn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function mr(c,g){return Wt(c),g=Zn(c,g),c.g.has(g)}n.forEach=function(c,g){Wt(this),this.g.forEach(function(w,C){w.forEach(function(H){c.call(g,H,C,this)},this)},this)},n.na=function(){Wt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const H=c[C];for(let X=0;X<H.length;X++)w.push(g[C])}return w},n.V=function(c){Wt(this);let g=[];if(typeof c=="string")mr(this,c)&&(g=g.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Wt(this),this.i=null,c=Zn(this,c),mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function es(c,g,w){pr(c,g),0<w.length&&(c.i=null,c.g.set(Zn(c,g),A(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const X=encodeURIComponent(String(C)),he=this.V(C);for(C=0;C<he.length;C++){var H=X;he[C]!==""&&(H+="="+encodeURIComponent(String(he[C]))),c.push(H)}}return this.i=c.join("&")};function Zn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function $r(c,g){g&&!c.j&&(Wt(c),c.i=null,c.g.forEach(function(w,C){var H=C.toLowerCase();C!=H&&(pr(this,C),es(this,H,w))},c)),c.j=g}function Hh(c,g){const w=new Zt;if(h.Image){const C=new Image;C.onload=T(Tn,w,"TestLoadImage: loaded",!0,g,C),C.onerror=T(Tn,w,"TestLoadImage: error",!1,g,C),C.onabort=T(Tn,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=T(Tn,w,"TestLoadImage: timeout",!1,g,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function nc(c,g){const w=new Zt,C=new AbortController,H=setTimeout(()=>{C.abort(),Tn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(X=>{clearTimeout(H),X.ok?Tn(w,"TestPingServer: ok",!0,g):Tn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Tn(w,"TestPingServer: error",!1,g)})}function Tn(c,g,w,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(w)}catch{}}function Wh(){this.g=new Js}function rc(c,g,w){const C=w||"";try{Qi(c,function(H,X){let he=H;m(H)&&(he=Gi(H)),g.push(C+X+"="+encodeURIComponent(he))})}catch(H){throw g.push(C+"type="+encodeURIComponent("_badmap")),H}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}R(_i,mi),_i.prototype.g=function(){return new so(this.l,this.j)},_i.prototype.i=(function(c){return function(){return c}})({});function so(c,g){Qe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(so,Qe),n=so.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,yr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ic(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ic(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?gr(this):yr(this),this.readyState==3&&ic(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},n.Qa=function(c){this.g&&(this.response=c,gr(this))},n.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wi(c){let g="";return ee(c,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function ts(c,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=wi(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):nt(c,g,w))}function ht(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ht,Qe);var qh=/^https?$/i,wl=["POST","PUT"];n=ht.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?gi(this.o):gi(hr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){oo(this,X);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)w.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())w.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wl,g,void 0))||C||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of w)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){oo(this,X)}};function oo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Qo(c),Un(c)}function Qo(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),Un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},n.bb=function(){El(this)};function El(c){if(c.h&&typeof u<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Xs(c.Ea,0,c);else if(it(c,"readystatechange"),In(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=he===0){var H=String(c.D).match(ro)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),C=!qh.test(H?H.toLowerCase():"")}w=C}if(w)it(c,"complete"),it(c,"success");else{c.m=6;try{var X=2<In(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Qo(c)}}finally{Un(c)}}}}function Un(c,g){if(c.g){Yo(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||it(c,"ready");try{w.onreadystatechange=C}catch{}}}function Yo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function Tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(c){const g={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(z(c[C]))continue;var w=M(c[C]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=g[H]||[];g[H]=X,X.push(w)}k(g,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Il(c){this.Aa=0,this.i=[],this.j=new Zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,c),this.cb=Hr("retryDelaySeedMs",1e4,c),this.Wa=Hr("forwardChannelMaxRetries",2,c),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new no(c&&c.concurrentRequestLimit),this.Da=new Wh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Il.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,C){Ze(0),this.W=c,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=lc(this,null,this.W),Wr(this)};function qt(c){if(Jo(c),c.G==3){var g=c.U++,w=Fn(c.I);if(nt(w,"SID",c.K),nt(w,"RID",g),nt(w,"TYPE","terminate"),Ei(c,w),g=new fr(c,c.j,g),g.L=2,g.v=Ji(Fn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=uc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),st(g)}ac(c)}function vr(c){c.g&&(Sl(c),c.g.cancel(),c.g=null)}function Jo(c){vr(c),c.u&&(h.clearTimeout(c.u),c.u=null),ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Wr(c){if(!Ln(c.h)&&!c.s){c.s=!0;var g=c.Ga;ye||oe(),J||(ye(),J=!0),te.add(g,c),c.B=0}}function Gh(c,g){return Qu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(E(c.Ga,c,g),oc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new fr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=x(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=ns(this,H,g),w=Fn(this.I),nt(w,"RID",c),nt(w,"CVER",22),this.D&&nt(w,"X-HTTP-Session-Id",this.D),Ei(this,w),X&&(this.O?g="headers="+encodeURIComponent(String(wi(X)))+"&"+g:this.m&&ts(w,this.m,X)),vl(this.h,H),this.Ua&&nt(w,"TYPE","init"),this.P?(nt(w,"$req",g),nt(w,"SID","null"),H.T=!0,Wo(H,w,null)):Wo(H,w,g),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Ln(this.h)||Zo(this))};function Zo(c,g){var w;g?w=g.l:w=c.U++;const C=Fn(c.I);nt(C,"SID",c.K),nt(C,"RID",w),nt(C,"AID",c.T),Ei(c,C),c.m&&c.o&&ts(C,c.m,c.o),w=new fr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ns(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vl(c.h,w),Wo(w,C,g)}function Ei(c,g){c.H&&ee(c.H,function(w,C){nt(g,C,w)}),c.l&&Qi({},function(w,C){nt(g,C,w)})}function ns(c,g,w){w=Math.min(c.i.length,w);var C=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const he=["count="+w];X==-1?0<w?(X=H[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let tt=!0;for(let Pt=0;Pt<w;Pt++){let qe=H[Pt].g;const Mt=H[Pt].map;if(qe-=X,0>qe)X=Math.max(0,H[Pt].g-100),tt=!1;else try{rc(Mt,he,"req"+qe+"_")}catch{C&&C(Mt)}}if(tt){C=he.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,C}function ao(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ye||oe(),J||(ye(),J=!0),te.add(g,c),c.v=0}}function ea(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(E(c.Fa,c),oc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),vr(this),sc(this))};function Sl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function sc(c){c.g=new fr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Fn(c.qa);nt(g,"RID","rpc"),nt(g,"SID",c.K),nt(g,"AID",c.T),nt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(g,"TO",c.ja),nt(g,"TYPE","xmlhttp"),Ei(c,g),c.m&&c.o&&ts(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ji(Fn(g)),w.m=null,w.P=!0,gl(w,c)}n.Za=function(){this.C!=null&&(this.C=null,vr(this),ea(this),Ze(19))};function ta(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function na(c,g){var w=null;if(c.g==g){ta(c),Sl(c),c.g=null;var C=2}else if(hn(c.h,g))w=g.D,Yu(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;C=ze(),it(C,new En(C,w)),Wr(c)}else ao(c);else if(H=g.s,H==3||H==0&&0<g.X||!(C==1&&Gh(c,g)||C==2&&ea(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),H){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function oc(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Ti(c,g){if(c.j.info("Error code "+g),g==2){var w=E(c.fb,c),C=c.Xa;const H=!C;C=new vi(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||io(C,"https"),Ji(C),H?Hh(C.toString(),w):nc(C.toString(),w)}else Ze(2);c.G=0,c.l&&c.l.sa(g),ac(c),Jo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function ac(c){if(c.G=0,c.ka=[],c.l){const g=Xu(c.h);(g.length!=0||c.i.length!=0)&&(S(c.ka,g),S(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function lc(c,g,w){var C=w instanceof vi?Fn(w):new vi(w);if(C.g!="")g&&(C.g=g+"."+C.g),Yi(C,C.s);else{var H=h.location;C=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var X=new vi(null);C&&io(X,C),g&&(X.g=g),H&&Yi(X,H),w&&(X.l=w),C=X}return w=c.D,g=c.ya,w&&g&&nt(C,w,g),nt(C,"VER",c.la),Ei(c,C),C}function uc(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new ht(new _i({eb:w})):new ht(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cl(){}n=Cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ra(){}ra.prototype.g=function(c,g){return new fn(c,g)};function fn(c,g){Qe.call(this),this.g=new Il(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new qr(this)}R(fn,Qe),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){qt(this.g)},fn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Gi(c),c=w);g.i.push(new Ku(g.Ya++,c)),g.G==3&&Wr(g)},fn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,fn.aa.N.call(this)};function cc(c){wn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(cc,wn);function dc(){dn.call(this),this.status=1}R(dc,dn);function qr(c){this.g=c}R(qr,Cl),qr.prototype.ua=function(){it(this.g,"a")},qr.prototype.ta=function(c){it(this.g,new cc(c))},qr.prototype.sa=function(c){it(this.g,new dc)},qr.prototype.ra=function(){it(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,uI=function(){return new ra},lI=function(){return ze()},aI=Xn,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,Cd=$o,Hu.COMPLETE="complete",oI=Hu,yi.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Jl=yi,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,sI=ht}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",ww="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Qm("@firebase/firestore");function Ca(){return Lo.logLevel}function me(n,...e){if(Lo.logLevel<=Be.DEBUG){const t=e.map(ug);Lo.debug(`Firestore (${ul}): ${n}`,...t)}}function Bi(n,...e){if(Lo.logLevel<=Be.ERROR){const t=e.map(ug);Lo.error(`Firestore (${ul}): ${n}`,...t)}}function zs(n,...e){if(Lo.logLevel<=Be.WARN){const t=e.map(ug);Lo.warn(`Firestore (${ul}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cI(n,r,t)}function cI(n,e,t){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Bi(r),new Error(r)}function et(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||cI(e,o,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class EO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Vs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new dI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class IO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ew(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AO(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function um(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Fe(r,o);{const a=hI(),u=xO(a.encode(Tw(n,t)),a.encode(Tw(e,t)));return u!==0?u:Fe(r,o)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function Tw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function Ya(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__name__";class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Xr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),o=Xr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):um(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class at extends Xr{construct(e,t,r){return new at(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Xr{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iw}static keyField(){return new Yt([Iw])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(at.fromString(e))}static fromName(e){return new Ce(at.fromString(e).popFirst(5))}static empty(){return new Ce(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e,t){if(!t)throw new pe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PO(n,e,t,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sw(n){if(!Ce.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cw(n){if(Ce.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ih(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ih(n);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Mu(n,e){if(!pI(n))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-62135596800,xw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xw);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Aw)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Rt("string",lt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new lt(0,0))}static max(){return new Oe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function bO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new Bs(o,Ce.empty(),e)}function kO(n){return new Bs(n.readTime,n.key,vu)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(Oe.min(),Ce.empty(),vu)}static max(){return new Bs(Oe.max(),Ce.empty(),vu)}}function NO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==OO)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((o=>o?re.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++h,h===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new re(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function VO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Ch(n){return n==null}function Wd(n){return n===0&&1/n==-1/0}function MO(n){return typeof n=="number"&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="";function LO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rw(e)),e=FO(n.get(t),e);return Rw(e)}function FO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case mI:t+="";break;default:t+=a}}return t}function Rw(n){return n+mI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Qt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Dt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yI("Invalid base64 string: "+a):a}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const UO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=UO.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hs(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="server_timestamp",_I="__type__",wI="__previous_value__",EI="__local_write_time__";function hg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_I])===null||t===void 0?void 0:t.stringValue)===vI}function Ah(n){const e=n.mapValue.fields[wI];return hg(e)?Ah(e):e}function _u(n){const e=$s(n.mapValue.fields[EI].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,r,o,a,u,h,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const qd="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||qd}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__type__",zO="__max__",pd={mapValue:{}},II="__vector__",Gd="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hg(n)?4:$O(n)?9007199254740991:BO(n)?10:11:be(28295,{value:n})}function ci(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _u(n).isEqual(_u(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=$s(o.timestampValue),h=$s(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Hs(o.bytesValue).isEqual(Hs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=It(o.doubleValue),h=It(a.doubleValue);return u===h?Wd(u)===Wd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Ya(n.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Pw(u)!==Pw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ci(u[f],h[f])))return!1;return!0})(n,e);default:return be(52216,{left:n})}}function Eu(n,e){return(n.values||[]).find((t=>ci(t,e)))!==void 0}function Xa(n,e){if(n===e)return 0;const t=Ws(n),r=Ws(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=It(a.integerValue||a.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return kw(n.timestampValue,e.timestampValue);case 4:return kw(_u(n),_u(e));case 5:return um(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Hs(a),f=Hs(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Fe(h[m],f[m]);if(v!==0)return v}return Fe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Fe(It(a.latitude),It(u.latitude));return h!==0?h:Fe(It(a.longitude),It(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Nw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,v;const _=a.fields||{},E=u.fields||{},T=(h=_[Gd])===null||h===void 0?void 0:h.arrayValue,R=(f=E[Gd])===null||f===void 0?void 0:f.arrayValue,A=Fe(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:Nw(T,R)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===pd.mapValue&&u===pd.mapValue)return 0;if(a===pd.mapValue)return 1;if(u===pd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const E=um(f[_],v[_]);if(E!==0)return E;const T=Xa(h[f[_]],m[v[_]]);if(T!==0)return T}return Fe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw be(23264,{le:t})}}function kw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=$s(n),r=$s(e),o=Fe(t.seconds,r.seconds);return o!==0?o:Fe(t.nanos,r.nanos)}function Nw(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Xa(t[o],r[o]);if(a)return a}return Fe(t.length,r.length)}function Ja(n){return cm(n)}function cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=$s(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=cm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${cm(t.fields[u])}`;return o+"}"})(n.mapValue):be(61005,{value:n})}function Ad(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(n);return e?16+Ad(e):16;case 5:return 2*n.stringValue.length;case 6:return Hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Ad(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Ks(r.fields,((a,u)=>{o+=a.length+Ad(u)})),o})(n.mapValue);default:throw be(13486,{value:n})}}function Ow(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dm(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function Dw(n){return!!n&&"nullValue"in n}function Vw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xd(n){return!!n&&"mapValue"in n}function BO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TI])===null||t===void 0?void 0:t.stringValue)===II}function ou(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ou(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $O(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Yt.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=ou(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ks(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Nn(ou(this.value))}}function SI(n){const e=[];return Ks(n.fields,((t,r)=>{const o=new Yt([t]);if(xd(r)){const a=SI(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,Oe.min(),Oe.min(),Oe.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,o){return new ln(e,1,t,Oe.min(),r,o,0)}static newNoDocument(e,t){return new ln(e,2,t,Oe.min(),Oe.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Oe.min(),Oe.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.position=e,this.inclusive=t}}function Mw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),t.key):r=Xa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t="asc"){this.field=e,this.dir=t}}function HO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{}class xt extends CI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qO(e,t,r):t==="array-contains"?new QO(e,r):t==="in"?new YO(e,r):t==="not-in"?new XO(e,r):t==="array-contains-any"?new JO(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new GO(e,r):new KO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends CI{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Lr(e,t)}matches(e){return AI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function AI(n){return n.op==="and"}function xI(n){return WO(n)&&AI(n)}function WO(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function hm(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(xI(n))return n.filters.map((e=>hm(e))).join(",");{const e=n.filters.map((t=>hm(t))).join(",");return`${n.op}(${e})`}}function RI(n,e){return n instanceof xt?(function(r,o){return o instanceof xt&&r.op===o.op&&r.field.isEqual(o.field)&&ci(r.value,o.value)})(n,e):n instanceof Lr?(function(r,o){return o instanceof Lr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&RI(u,o.filters[h])),!0):!1})(n,e):void be(19439)}function PI(n){return n instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`})(n):n instanceof Lr?(function(t){return t.op.toString()+" {"+t.getFilters().map(PI).join(" ,")+"}"})(n):"Filter"}class qO extends xt{constructor(e,t,r){super(e,t,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class GO extends xt{constructor(e,t){super(e,"in",t),this.keys=bI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class KO extends xt{constructor(e,t){super(e,"not-in",t),this.keys=bI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class QO extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&Eu(t.arrayValue,this.value)}}class YO extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class XO extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Eu(this.value.arrayValue,t)}}class JO extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Eu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Pe=null}}function Fw(n,e=null,t=[],r=[],o=null,a=null,u=null){return new ZO(n,e,t,r,o,a,u)}function pg(n){const e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>hm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ja(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ja(r))).join(",")),e.Pe=t}return e.Pe}function mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Lw(n.startAt,e.startAt)&&Lw(n.endAt,e.endAt)}function fm(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function eD(n,e,t,r,o,a,u,h){return new Lu(n,e,t,r,o,a,u,h)}function xh(n){return new Lu(n)}function Uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kI(n){return n.collectionGroup!==null}function au(n){const e=De(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Dt(Yt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Qd(a,r))})),t.has(Yt.keyField().canonicalString())||e.Te.push(new Qd(Yt.keyField(),r))}return e.Te}function ii(n){const e=De(n);return e.Ie||(e.Ie=tD(e,au(n))),e.Ie}function tD(n,e){if(n.limitType==="F")return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Qd(o.field,a)}));const t=n.endAt?new Kd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kd(n.startAt.position,n.startAt.inclusive):null;return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pm(n,e){const t=n.filters.concat([e]);return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mm(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return mg(ii(n),ii(e))&&n.limitType===e.limitType}function NI(n){return`${pg(ii(n))}|lt:${n.limitType}`}function Aa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>PI(o))).join(", ")}]`),Ch(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Ja(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Ja(o))).join(",")),`Target(${r})`})(ii(n))}; limitType=${n.limitType})`}function Ph(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of au(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const m=Mw(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,au(r),o)||r.endAt&&!(function(u,h,f){const m=Mw(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,au(r),o))})(n,e)}function nD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OI(n){return(e,t)=>{let r=!1;for(const o of au(n)){const a=rD(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function rD(n,e,t){const r=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Xa(f,m):be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new yt(Ce.comparator);function $i(){return iD}const DI=new yt(Ce.comparator);function Zl(...n){let e=DI;for(const t of n)e=e.insert(t.key,t);return e}function VI(n){let e=DI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function So(){return lu()}function MI(){return lu()}function lu(){return new jo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const sD=new yt(Ce.comparator),oD=new Dt(Ce.comparator);function $e(...n){let e=oD;for(const t of n)e=e.add(t);return e}const aD=new Dt(Fe);function lD(){return aD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function LI(n){return{integerValue:""+n}}function FI(n,e){return MO(e)?LI(e):gg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function uD(n,e,t){return n instanceof Tu?(function(o,a){const u={fields:{[_I]:{stringValue:vI},[EI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&hg(a)&&(a=Ah(a)),a&&(u.fields[wI]=a),{mapValue:u}})(t,e):n instanceof Iu?jI(n,e):n instanceof Su?zI(n,e):(function(o,a){const u=UI(o,a),h=jw(u)+jw(o.Ee);return dm(u)&&dm(o.Ee)?LI(h):gg(o.serializer,h)})(n,e)}function cD(n,e,t){return n instanceof Iu?jI(n,e):n instanceof Su?zI(n,e):t}function UI(n,e){return n instanceof Cu?(function(r){return dm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Tu extends bh{}class Iu extends bh{constructor(e){super(),this.elements=e}}function jI(n,e){const t=BI(e);for(const r of n.elements)t.some((o=>ci(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Su extends bh{constructor(e){super(),this.elements=e}}function zI(n,e){let t=BI(e);for(const r of n.elements)t=t.filter((o=>!ci(o,r)));return{arrayValue:{values:t}}}class Cu extends bh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function jw(n){return It(n.integerValue||n.doubleValue)}function BI(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.field=e,this.transform=t}}function dD(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Su&&o instanceof Su?Ya(r.elements,o.elements,ci):r instanceof Cu&&o instanceof Cu?ci(r.Ee,o.Ee):r instanceof Tu&&o instanceof Tu})(n.transform,e.transform)}class hD{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kh{}function HI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qI(n.key,Or.none()):new Fu(n.key,n.data,Or.none());{const t=n.data,r=Nn.empty();let o=new Dt(Yt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Qs(n.key,r,new Wn(o.toArray()),Or.none())}}function fD(n,e,t){n instanceof Fu?(function(o,a,u){const h=o.value.clone(),f=Bw(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Qs?(function(o,a,u){if(!Rd(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Bw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WI(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function uu(n,e,t,r){return n instanceof Fu?(function(a,u,h,f){if(!Rd(a.precondition,u))return h;const m=a.value.clone(),v=$w(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Qs?(function(a,u,h,f){if(!Rd(a.precondition,u))return h;const m=$w(a.fieldTransforms,f,u),v=u.data;return v.setAll(WI(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,u,h){return Rd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function pD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=UI(r.transform,o||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function zw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ya(r,o,((a,u)=>dD(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fu extends kh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends kh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Bw(n,e,t){const r=new Map;et(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,cD(u,h,t[o]))}return r}function $w(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,uD(a,u,e))}return r}class qI extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mD extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&fD(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MI();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=HI(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,((t,r)=>zw(t,r)))&&Ya(this.baseMutations,e.baseMutations,((t,r)=>zw(t,r)))}}class yg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){et(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=(function(){return sD})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new yg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ge;function _D(n){switch(n){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function GI(n){if(n===void 0)return Bi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:n})}}(Ge=At||(At={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Ds([4294967295,4294967295],0);function Hw(n){const e=hI().encode(n),t=new iI;return t.update(e),new Uint8Array(t.digest())}function Ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ds([t,r],0),new Ds([o,a],0)]}class vg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ds.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(Ds.fromNumber(r)));return o.compare(wD)===1&&(o=new Ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Hw(e),[r,o]=Ww(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new vg(a,o,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.fe===0)return;const t=Hw(e),[r,o]=Ww(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nh(Oe.min(),o,new yt(Fe),$i(),$e())}}class Uu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uu(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class KI{constructor(e,t){this.targetId=e,this.De=t}}class QI{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class qw{constructor(){this.ve=0,this.Ce=Gw(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$e(),t=$e(),r=$e();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:be(38017,{changeType:a})}})),new Uu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=Gw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ED{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=md(),this.Je=md(),this.He=new yt(Fe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(fm(a))if(r===0){const u=new Ce(a.path);this.Xe(t,u,ln.newNoDocument(u,Oe.min()))}else et(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const h=this._t(e),f=h?this.ut(h,e,u):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Hs(r).toUint8Array()}catch(f){if(f instanceof yI)return zs("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vg(u,o,a)}catch(f){return zs(f instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const h=this.st(u);if(h){if(a.current&&fm(h.target)){const f=new Ce(h.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,ln.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=$e();this.Je.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const o=new Nh(e,t,this.He,this.ze,r);return this.ze=$i(),this.je=md(),this.Je=md(),this.He=new yt(Fe),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new qw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(Fe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(Fe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new qw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function md(){return new yt(Ce.comparator)}function Gw(){return new yt(Ce.comparator)}const TD={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SD={and:"AND",or:"OR"};class CD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gm(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function Yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function AD(n,e){return Yd(n,e.toTimestamp())}function si(n){return et(!!n,49232),Oe.fromTimestamp((function(t){const r=$s(t);return new lt(r.seconds,r.nanos)})(n))}function _g(n,e){return ym(n,e).canonicalString()}function ym(n,e){const t=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function XI(n){const e=at.fromString(n);return et(nS(e),10190,{key:e.toString()}),e}function vm(n,e){return _g(n.databaseId,e.path)}function Vp(n,e){const t=XI(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(ZI(t))}function JI(n,e){return _g(n.databaseId,e)}function xD(n){const e=XI(n);return e.length===4?at.emptyPath():ZI(e)}function _m(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZI(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kw(n,e,t){return{name:vm(n,e),fields:t.value.mapValue.fields}}function RD(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(et(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?ne.UNKNOWN:GI(m.code);return new pe(v,m.message||"")})(u);t=new QI(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vp(n,r.document.name),a=si(r.document.updateTime),u=r.document.createTime?si(r.document.createTime):Oe.min(),h=new Nn({mapValue:{fields:r.document.fields}}),f=ln.newFoundDocument(o,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Pd(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vp(n,r.document),a=r.readTime?si(r.readTime):Oe.min(),u=ln.newNoDocument(o,a),h=r.removedTargetIds||[];t=new Pd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vp(n,r.document),a=r.removedTargetIds||[];t=new Pd([],a,o,null)}else{if(!("filter"in e))return be(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new vD(o,a),h=r.targetId;t=new KI(h,u)}}return t}function PD(n,e){let t;if(e instanceof Fu)t={update:Kw(n,e.key,e.value)};else if(e instanceof qI)t={delete:vm(n,e.key)};else if(e instanceof Qs)t={update:Kw(n,e.key,e.data),updateMask:FD(e.fieldMask)};else{if(!(e instanceof mD))return be(16599,{Rt:e.type});t={verify:vm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof Tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Cu)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw be(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:AD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)})(n,e.precondition)),t}function bD(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?si(o.updateTime):si(a);return u.isEqual(Oe.min())&&(u=si(a)),new hD(u,o.transformResults||[])})(t,e)))):[]}function kD(n,e){return{documents:[JI(n,e.path)]}}function ND(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JI(n,o);const a=(function(m){if(m.length!==0)return tS(Lr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:xa(E.field),direction:VD(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=gm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:o}}function OD(n){let e=xD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){et(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(_){const E=eS(_);return E instanceof Lr&&xI(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(R){return new Qd(Ra(R.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Ch(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(_){const E=!!_.before,T=_.values||[];return new Kd(T,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const E=!_.before,T=_.values||[];return new Kd(T,E)})(t.endAt)),eD(e,o,u,a,h,"F",f,m)}function DD(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ra(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ra(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ra(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ra(t.unaryFilter.field);return xt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xt.create(Ra(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Lr.create(t.compositeFilter.filters.map((r=>eS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(n):be(30097,{filter:n})}function VD(n){return TD[n]}function MD(n){return ID[n]}function LD(n){return SD[n]}function xa(n){return{fieldPath:n.canonicalString()}}function Ra(n){return Yt.fromServerFormat(n.fieldPath)}function tS(n){return n instanceof xt?(function(t){if(t.op==="=="){if(Vw(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NAN"}};if(Dw(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vw(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NOT_NAN"}};if(Dw(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(t.field),op:MD(t.op),value:t.value}}})(n):n instanceof Lr?(function(t){const r=t.getFilters().map((o=>tS(o)));return r.length===1?r[0]:{compositeFilter:{op:LD(t.op),filters:r}}})(n):be(54877,{filter:n})}function FD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,o,a=Oe.min(),u=Oe.min(),h=Jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.gt=e}}function jD(n){const e=OD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.Dn=new BD}addToCollectionParentIndex(e,t){return this.Dn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Bs.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class BD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Dt(at.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rS=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(rS,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Za(0)}static ur(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="LruGarbageCollector",$D=1048576;function Xw([n,e],[t,r]){const o=Fe(n,t);return o===0?Fe(e,r):o}class HD{constructor(e){this.Tr=e,this.buffer=new Dt(Xw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Xw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(Yw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?me(Yw,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Rr(3e5)}))}}class qD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Sh.ue);const r=new HD(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Qw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qw):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),Ca()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function GD(n,e){return new qD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.changes=new jo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&uu(r.mutation,o,Wn.empty(),lt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=$e()){const o=So();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Zl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=So();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,$e())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,o){let a=$i();const u=lu(),h=(function(){return lu()})();return t.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Qs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),uu(v.mutation,m,v.mutation.getFieldMask(),lt.now())):u.set(m.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>{var _;return h.set(m,new QD(v,(_=u.get(m))!==null&&_!==void 0?_:null))})),h)))}recalculateAndSaveOverlays(e,t){const r=lu();let o=new yt(((u,h)=>u-h)),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Wn.empty();v=h.applyToLocalView(m,v),r.set(f,v);const _=(o.get(h.batchId)||$e()).add(f);o=o.insert(h.batchId,_)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,_=MI();v.forEach((E=>{if(!a.has(E)){const T=HI(t.get(E),r.get(E));T!==null&&_.set(E,T),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):re.resolve(So());let h=vu,f=a;return u.next((m=>re.forEach(m,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,$e()))).next((v=>({batchId:h,changes:VI(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Zl();return this.indexManager.getCollectionParents(e,a).next((h=>re.forEach(h,(f=>{const m=(function(_,E){return new Lu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,ln.newInvalidDocument(v)))}));let h=Zl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&uu(v.mutation,m,Wn.empty(),lt.now()),Ph(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return re.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:jD(o.bundledQuery),readTime:si(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.overlays=new yt(Ce.comparator),this.kr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=So();return re.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.wt(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=So(),a=t.length+1,u=new Ce(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new yt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=So(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=So(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return re.resolve(h)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new yD(t,r));let a=this.kr.get(t);a===void 0&&(a=$e(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.qr=new Dt(zt.Qr),this.$r=new Dt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new zt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ce(new at([])),r=new zt(t,e),o=new zt(t,e+1),a=[];return this.$r.forEachInRange([r,o],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ce(new at([])),r=new zt(t,e),o=new zt(t,e+1);let a=$e();return this.$r.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new zt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ce.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(zt.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gD(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.Yr=this.Yr.add(new zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?dg:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],(u=>{const h=this.Zr(u.Hr);a.push(h)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Fe);return t.forEach((o=>{const a=new zt(o,0),u=new zt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(h=>{r=r.add(h.Hr)}))})),re.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new zt(new Ce(a),0);let h=new Dt(Fe);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Hr)),!0)}),u),re.resolve(this.ei(h))}ei(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){et(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return re.forEach(t.mutations,(o=>{const a=new zt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new zt(t,0),o=this.Yr.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.ni=e,this.docs=(function(){return new yt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():ln.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=$i();const u=t.path,h=new Ce(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||NO(kO(v),r)<=0||(o.has(v.key)||Ph(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,o){be(9500)}ri(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new nV(this)}getSize(e){return re.resolve(this.size)}}class nV extends KD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.persistence=e,this.ii=new jo((t=>pg(t)),mg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new wg,this.targetCount=0,this._i=Za.ar()}forEachTarget(e,t){return this.ii.forEach(((r,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),re.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.hr(t),re.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),re.waitFor(a).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.ai={},this.overlays={},this.ui=new Sh(0),this.ci=!1,this.ci=!0,this.li=new ZD,this.referenceDelegate=e(this),this.hi=new rV(this),this.indexManager=new zD,this.remoteDocumentCache=(function(o){return new tV(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new UD(t),this.Ti=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new eV(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const o=new iV(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return re.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class iV extends DO{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ai=new wg,this.Ri=null}static Vi(e){return new Eg(e)}get mi(){if(this.Ri)return this.Ri;throw be(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,(r=>{const o=Ce.fromPath(r);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return re.or([()=>re.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Xd{constructor(e,t){this.persistence=e,this.gi=new jo((r=>LO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=GD(this,t)}static Vi(e,t){return new Xd(e,t)}Ii(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return re.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((a=>a?re.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(u=>this.Sr(e,u,t).next((h=>{h||(r++,a.removeEntry(u,Oe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ad(e.data.value)),t}Sr(e,t,r){return re.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=$e(),o=$e();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Tg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Jb()?8:VO(un())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new sV;return this.ws(e,t,u).next((h=>{if(a.result=h,this.Rs)return this.Ss(e,t,u,h.size)}))})).next((()=>a.result))}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(Ca()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Ca()<=Be.DEBUG&&me("QueryEngine","Query:",Aa(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Ca()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):re.resolve())}ps(e,t){if(Uw(t))return re.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=mm(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=$e(...a);return this.gs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,h);return this.Ds(t,m,u,f.readTime)?this.ps(e,mm(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,r,o){return Uw(t)||o.isEqual(Oe.min())?re.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?re.resolve(null):(Ca()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Aa(t)),this.vs(e,u,t,bO(o,vu)).next((h=>h)))}))}bs(e,t){let r=new Dt(OI(e));return t.forEach(((o,a)=>{Ph(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return Ca()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Aa(t)),this.gs.getDocumentsMatchingQuery(e,t,Bs.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",aV=3e8;class lV{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new yt(Fe),this.Ms=new jo((a=>pg(a)),mg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function uV(n,e,t,r){return new lV(n,e,t,r)}async function sS(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=$e();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function cV(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const _=m.batch,E=_.keys();let T=re.resolve();return E.forEach((R=>{T=T.next((()=>v.getEntry(f,R))).next((A=>{const S=m.docVersions.get(R);et(S!==null,48541),A.version.compareTo(S)<0&&(_.applyToRemoteDocument(A,m),A.isValidDocument()&&(A.setReadTime(m.commitVersion),v.addEntry(A)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=$e();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function oS(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function dV(n,e){const t=De(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const h=[];e.targetChanges.forEach(((v,_)=>{const E=o.get(_);if(!E)return;h.push(t.hi.removeMatchingKeys(a,v.removedDocuments,_).next((()=>t.hi.addMatchingKeys(a,v.addedDocuments,_))));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Jt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),o=o.insert(_,T),(function(A,S,j){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=aV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,T,v)&&h.push(t.hi.updateTargetData(a,T))}));let f=$i(),m=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(hV(a,u,e.documentUpdates).next((v=>{f=v.Ls,m=v.ks}))),!r.isEqual(Oe.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next((_=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return re.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function hV(n,e,t){let r=$e(),o=$e();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=$i();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(Ig,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ls:u,ks:o}}))}function fV(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pV(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.hi.getTargetData(r,e).next((a=>a?(o=a,re.resolve(o)):t.hi.allocateTargetId(r).next((u=>(o=new bs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function wm(n,e,t){const r=De(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!dl(u))throw u;me(Ig,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function Jw(n,e,t){const r=De(n);let o=Oe.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const _=De(f),E=_.Ms.get(v);return E!==void 0?re.resolve(_.Fs.get(E)):_.hi.getTargetData(m,v)})(r,u,ii(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?a:$e()))).next((h=>(mV(r,nD(e),h),{documents:h,qs:a})))))}function mV(n,e,t){let r=n.xs.get(e)||Oe.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class Zw{constructor(){this.activeTargetIds=lD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gV{constructor(){this.Fo=new Zw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Zw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(e0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function Em(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _V{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===qd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=Em(),h=this.Go(e,t.toUriEncodedString());me(Mp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:m}=new URL(h),v=ol(m);return this.jo(e,h,f,r,v).then((_=>(me(Mp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw zs(Mp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const r=vV[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class EV extends _V{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=Em();return new Promise(((h,f)=>{const m=new sI;m.setWithCredentials(!0),m.listenOnce(oI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cd.NO_ERROR:const _=m.getResponseJson();me(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Cd.TIMEOUT:me(on,`RPC '${e}' ${u} timed out`),f(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const E=m.getStatus();if(me(on,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const A=(function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(R.status);f(new pe(A,R.message))}else f(new pe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{me(on,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);me(on,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)}))}P_(e,t,r){const o=Em(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uI(),h=lI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");me(on,`Creating RPC '${e}' stream ${o}: ${v}`,f);const _=u.createWebChannel(v,f);this.T_(_);let E=!1,T=!1;const R=new wV({Ho:S=>{T?me(on,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(E||(me(on,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),me(on,`RPC '${e}' stream ${o} sending:`,S),_.send(S))},Yo:()=>_.close()}),A=(S,j,z)=>{S.listen(j,(B=>{try{z(B)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return A(_,Jl.EventType.OPEN,(()=>{T||(me(on,`RPC '${e}' stream ${o} transport opened.`),R.s_())})),A(_,Jl.EventType.CLOSE,(()=>{T||(T=!0,me(on,`RPC '${e}' stream ${o} transport closed`),R.__(),this.I_(_))})),A(_,Jl.EventType.ERROR,(S=>{T||(T=!0,zs(on,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),R.__(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),A(_,Jl.EventType.MESSAGE,(S=>{var j;if(!T){const z=S.data[0];et(!!z,16349);const B=z,Q=(B==null?void 0:B.error)||((j=B[0])===null||j===void 0?void 0:j.error);if(Q){me(on,`RPC '${e}' stream ${o} received error:`,Q);const Y=Q.status;let ee=(function(P){const O=At[P];if(O!==void 0)return GI(O)})(Y),k=Q.message;ee===void 0&&(ee=ne.INTERNAL,k="Unknown error status: "+Y+" with message "+Q.message),T=!0,R.__(new pe(ee,k)),_.close()}else me(on,`RPC '${e}' stream ${o} received:`,z),R.a_(z)}})),A(h,aI.STAT_EVENT,(S=>{S.stat===lm.PROXY?me(on,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===lm.NOPROXY&&me(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{R.o_()}),0),R}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){return new CD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class lS{constructor(e,t,r,o,a,u,h,f){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new aS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Bi(t.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===t&&this.W_(r,o)}),(r=>{e((()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return me(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(me(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TV extends lS{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=RD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?si(u.readTime):Oe.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=_m(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=fm(f)?{documents:kD(a,f)}:{query:ND(a,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=YI(a,u.resumeToken);const m=gm(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Yd(a,u.snapshotVersion.toTimestamp());const m=gm(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=DD(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=_m(this.serializer),t.removeTarget=e,this.k_(t)}}class IV extends lS{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=bD(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=_m(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>PD(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{}class CV extends SV{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,ym(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())}))}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Jo(e,ym(t,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class AV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bi(t),this._a=!1):me("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class xV{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{zo(this)&&(me(Fo,"Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.Ia.add(4),await ju(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Dh(m)})(this))}))})),this.Aa=new AV(r,o)}}async function Dh(n){if(zo(n))for(const e of n.da)await e(!0)}async function ju(n){for(const e of n.da)await e(!1)}function uS(n,e){const t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),xg(t)?Ag(t):hl(t).x_()&&Cg(t,e))}function Sg(n,e){const t=De(n),r=hl(t);t.Ta.delete(e),r.x_()&&cS(t,e),t.Ta.size===0&&(r.x_()?r.B_():zo(t)&&t.Aa.set("Unknown"))}function Cg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).H_(e)}function cS(n,e){n.Ra.$e(e),hl(n).Y_(e)}function Ag(n){n.Ra=new ED({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Aa.aa()}function xg(n){return zo(n)&&!hl(n).M_()&&n.Ta.size>0}function zo(n){return De(n).Ia.size===0}function dS(n){n.Ra=void 0}async function RV(n){n.Aa.set("Online")}async function PV(n){n.Ta.forEach(((e,t)=>{Cg(n,e)}))}async function bV(n,e){dS(n),xg(n)?(n.Aa.la(e),Ag(n)):n.Aa.set("Unknown")}async function kV(n,e,t){if(n.Aa.set("Online"),e instanceof QI&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ta.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ta.delete(h),o.Ra.removeTarget(h))})(n,e)}catch(r){me(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jd(n,r)}else if(e instanceof Pd?n.Ra.Ye(e):e instanceof KI?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Oe.min()))try{const r=await oS(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.Ra.Pt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(m);v&&a.Ta.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),cS(a,f);const _=new bs(v.target,f,m,v.sequenceNumber);Cg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){me(Fo,"Failed to raise snapshot:",r),await Jd(n,r)}}async function Jd(n,e,t){if(!dl(e))throw e;n.Ia.add(1),await ju(n),n.Aa.set("Offline"),t||(t=()=>oS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(Fo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Dh(n)}))}function hS(n,e){return e().catch((t=>Jd(n,t,e)))}async function Vh(n){const e=De(n),t=qs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dg;for(;NV(e);)try{const o=await fV(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,OV(e,o)}catch(o){await Jd(e,o)}fS(e)&&pS(e)}function NV(n){return zo(n)&&n.Pa.length<10}function OV(n,e){n.Pa.push(e);const t=qs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function fS(n){return zo(n)&&!qs(n).M_()&&n.Pa.length>0}function pS(n){qs(n).start()}async function DV(n){qs(n).na()}async function VV(n){const e=qs(n);for(const t of n.Pa)e.X_(t.mutations)}async function MV(n,e,t){const r=n.Pa.shift(),o=yg.from(r,e,t);await hS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Vh(n)}async function LV(n,e){e&&qs(n).Z_&&await(async function(r,o){if((function(u){return _D(u)&&u!==ne.ABORTED})(o.code)){const a=r.Pa.shift();qs(r).N_(),await hS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Vh(r)}})(n,e),fS(n)&&pS(n)}async function r0(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),me(Fo,"RemoteStore received new credentials");const r=zo(t);t.Ia.add(3),await ju(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Dh(t)}async function FV(n,e){const t=De(n);e?(t.Ia.delete(2),await Dh(t)):e||(t.Ia.add(2),await ju(t),t.Aa.set("Unknown"))}function hl(n){return n.Va||(n.Va=(function(t,r,o){const a=De(t);return a.ia(),new TV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:RV.bind(null,n),e_:PV.bind(null,n),n_:bV.bind(null,n),J_:kV.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),xg(n)?Ag(n):n.Aa.set("Unknown")):(await n.Va.stop(),dS(n))}))),n.Va}function qs(n){return n.ma||(n.ma=(function(t,r,o){const a=De(t);return a.ia(),new IV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:DV.bind(null,n),n_:LV.bind(null,n),ea:VV.bind(null,n),ta:MV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Vh(n)):(await n.ma.stop(),n.Pa.length>0&&(me(Fo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Rg(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(n,e){if(Bi("AsyncQueue",`${e}: ${n}`),dl(n))return new pe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ce.comparator(t.key,r.key):(t,r)=>Ce.comparator(t.key,r.key),this.keyedMap=Zl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.fa=new yt(Ce.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):be(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class el{constructor(e,t,r,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new el(e,t,Da.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class jV{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=De(t),a=o.queries;o.queries=s0(),a.forEach(((u,h)=>{for(const f of h.wa)f.onError(r)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function s0(){return new jo((n=>NI(n)),Rh)}async function mS(n,e){const t=De(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new UV,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Pg(u,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&bg(t)}async function gS(n,e){const t=De(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zV(n,e){const t=De(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.wa)h.Ca(o)&&(r=!0);u.ya=o}}r&&bg(t)}function BV(n,e,t){const r=De(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function bg(n){n.Da.forEach((e=>{e.next()}))}var Tm,o0;(o0=Tm||(Tm={})).Fa="default",o0.Cache="cache";class yS{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class $V{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$e(),this.mutatedKeys=$e(),this.Xa=OI(e),this.eu=new Da(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new i0,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,_)=>{const E=o.get(v),T=Ph(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;E&&T?E.data.isEqual(T.data)?R!==A&&(r.track({type:3,doc:T}),S=!0):this.iu(E,T)||(r.track({type:2,doc:T}),S=!0,(f&&this.Xa(T,f)>0||m&&this.Xa(T,m)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),S=!0):E&&!T&&(r.track({type:1,doc:E}),S=!0,(f||m)&&(h=!0)),S&&(T?(u=u.add(T),a=A?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{eu:u,ru:r,Ds:h,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((v,_)=>(function(T,R){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{At:S})}};return A(T)-A(R)})(v.type,_.type)||this.Xa(v.doc,_.doc))),this.su(r),o=o!=null&&o;const h=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,m=f!==this.Ya;return this.Ya=f,u.length!==0||m?{snapshot:new el(this.query,e.eu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new i0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=$e(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new _S(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new vS(r))})),t}uu(e){this.Ha=e.qs,this.Za=$e();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return el.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const kg="SyncEngine";class HV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WV{constructor(e){this.key=e,this.lu=!1}}class qV{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new jo((h=>NI(h)),Rh),this.Tu=new Map,this.Iu=new Set,this.du=new yt(Ce.comparator),this.Eu=new Map,this.Au=new wg,this.Ru={},this.Vu=new Map,this.mu=Za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function GV(n,e,t=!0){const r=CS(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await wS(r,e,t,!0),o}async function KV(n,e){const t=CS(n);await wS(t,e,!0,!1)}async function wS(n,e,t,r){const o=await pV(n.localStore,ii(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await QV(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&uS(n.remoteStore,o),h}async function QV(n,e,t,r,o){n.gu=(_,E,T)=>(async function(A,S,j,z){let B=S.view.nu(j);B.Ds&&(B=await Jw(A.localStore,S.query,!1).then((({documents:k})=>S.view.nu(k,B))));const Q=z&&z.targetChanges.get(S.targetId),Y=z&&z.targetMismatches.get(S.targetId)!=null,ee=S.view.applyChanges(B,A.isPrimaryClient,Q,Y);return l0(A,S.targetId,ee._u),ee.snapshot})(n,_,E,T);const a=await Jw(n.localStore,e,!0),u=new $V(e,a.qs),h=u.nu(a.documents),f=Uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);l0(n,t,m._u);const v=new HV(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function YV(n,e,t){const r=De(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter((u=>!Rh(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await wm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Sg(r.remoteStore,o.targetId),Im(r,o.targetId)})).catch(cl)):(Im(r,o.targetId),await wm(r.localStore,o.targetId,!0))}async function XV(n,e){const t=De(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Sg(t.remoteStore,r.targetId))}async function JV(n,e,t){const r=sM(n);try{const o=await(function(u,h){const f=De(u),m=lt.now(),v=h.reduce(((T,R)=>T.add(R.key)),$e());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let R=$i(),A=$e();return f.Os.getEntries(T,v).next((S=>{R=S,R.forEach(((j,z)=>{z.isValidDocument()||(A=A.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,R))).next((S=>{_=S;const j=[];for(const z of h){const B=pD(z,_.get(z.key).overlayedDocument);B!=null&&j.push(new Qs(z.key,B,SI(B.value.mapValue),Or.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,j,h)})).next((S=>{E=S;const j=S.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(T,S.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:VI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let m=u.Ru[u.currentUser.toKey()];m||(m=new yt(Fe)),m=m.insert(h,f),u.Ru[u.currentUser.toKey()]=m})(r,o.batchId,t),await zu(r,o.changes),await Vh(r.remoteStore)}catch(o){const a=Pg(o,"Failed to persist write");t.reject(a)}}async function ES(n,e){const t=De(n);try{const r=await dV(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Eu.get(a);u&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?et(u.lu,14607):o.removedDocuments.size>0&&(et(u.lu,42227),u.lu=!1))})),await zu(t,r,e)}catch(r){await cl(r)}}function a0(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=De(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,_)=>{for(const E of _.wa)E.va(h)&&(m=!0)})),m&&bg(f)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new yt(Ce.comparator);u=u.insert(a,ln.newNoDocument(a,Oe.min()));const h=$e().add(a),f=new Nh(Oe.min(),new Map,new yt(Fe),u,h);await ES(r,f),r.du=r.du.remove(a),r.Eu.delete(e),Ng(r)}else await wm(r.localStore,e,!1).then((()=>Im(r,e,t))).catch(cl)}async function eM(n,e){const t=De(n),r=e.batch.batchId;try{const o=await cV(t.localStore,e);IS(t,r,null),TS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zu(t,o)}catch(o){await cl(o)}}async function tM(n,e,t){const r=De(n);try{const o=await(function(u,h){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(et(_!==null,37113),v=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);IS(r,e,t),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zu(r,o)}catch(o){await cl(o)}}function TS(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function IS(n,e,t){const r=De(n);let o=r.Ru[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||SS(n,r)}))}function SS(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sg(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ng(n))}function l0(n,e,t){for(const r of t)r instanceof vS?(n.Au.addReference(r.key,e),nM(n,r)):r instanceof _S?(me(kg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||SS(n,r.key)):be(19791,{yu:r})}function nM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(me(kg,"New document in limbo: "+t),n.Iu.add(r),Ng(n))}function Ng(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ce(at.fromString(e)),r=n.mu.next();n.Eu.set(r,new WV(t)),n.du=n.du.insert(t,r),uS(n.remoteStore,new bs(ii(xh(t.path)),r,"TargetPurposeLimboResolution",Sh.ue))}}async function zu(n,e,t){const r=De(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((h,f)=>{u.push(r.gu(f,e,t).then((m=>{var v;if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){o.push(m);const _=Tg.Es(f.targetId,m);a.push(_)}})))})),await Promise.all(u),r.hu.J_(o),await(async function(f,m){const v=De(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(m,(E=>re.forEach(E.Is,(T=>v.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>re.forEach(E.ds,(T=>v.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!dl(_))throw _;me(Ig,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const T=v.Fs.get(E),R=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(R);v.Fs=v.Fs.insert(E,A)}}})(r.localStore,a))}async function rM(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){me(kg,"User change. New user:",e.toKey());const r=await sS(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((h=>{h.forEach((f=>{f.reject(new pe(ne.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(t,r.Bs)}}function iM(n,e){const t=De(n),r=t.Eu.get(e);if(r&&r.lu)return $e().add(r.key);{let o=$e();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const h=t.Pu.get(u);o=o.unionWith(h.view.tu)}return o}}function CS(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.hu.J_=zV.bind(null,e.eventManager),e.hu.pu=BV.bind(null,e.eventManager),e}function sM(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tM.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return uV(this.persistence,new oV,e.initialUser,this.serializer)}Du(e){return new iS(Eg.Vi,this.serializer)}bu(e){return new gV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class oM extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){et(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WD(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new iS((r=>Xd.Vi(r,t)),this.serializer)}}class Sm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rM.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jV})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),r=(function(a){return new EV(a)})(e.databaseInfo);return(function(a,u,h,f){return new CV(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,h){return new xV(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>a0(this.syncEngine,t,0)),(function(){return t0.C()?new t0:new yV})())}createSyncEngine(e,t){return(function(o,a,u,h,f,m,v){const _=new qV(o,a,u,h,f,m);return v&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=De(o);me(Fo,"RemoteStore shutting down."),a.Ia.add(5),await ju(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class aM{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{me(Gs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(Gs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Fp(n,e){n.asyncQueue.verifyOperationInProgress(),me(Gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await sS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{zs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{zs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function u0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lM(n);me(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>r0(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>r0(e.remoteStore,o))),n._onlineComponents=e}async function lM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Gs,"Using user provided OfflineComponentProvider");try{await Fp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;zs("Error using user provided cache. Falling back to memory cache: "+t),await Fp(n,new Zd)}}else me(Gs,"Using default OfflineComponentProvider"),await Fp(n,new oM(void 0));return n._offlineComponents}async function xS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Gs,"Using user provided OnlineComponentProvider"),await u0(n,n._uninitializedComponentsProvider._online)):(me(Gs,"Using default OnlineComponentProvider"),await u0(n,new Sm))),n._onlineComponents}function uM(n){return xS(n).then((e=>e.syncEngine))}async function Cm(n){const e=await xS(n),t=e.eventManager;return t.onListen=GV.bind(null,e.syncEngine),t.onUnlisten=YV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XV.bind(null,e.syncEngine),t}function cM(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new AS({next:E=>{v.Ou(),u.enqueueAndForget((()=>gS(a,_)));const T=E.docs.has(h);!T&&E.fromCache?m.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&f&&f.source==="server"?m.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new yS(xh(h.path),v,{includeMetadataChanges:!0,ka:!0});return mS(a,_)})(await Cm(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",d0=!0;class h0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=d0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:d0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$D)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wO;switch(r.type){case"firstParty":return new SO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=c0.get(t);r&&(me("ComponentProvider","Removing Datastore"),c0.delete(t),r.terminate())})(this),Promise.resolve()}}function dM(n,e,t,r={}){var o;n=Nr(n,Mh);const a=ol(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(vT(`https://${f}`),_T("Firestore",!0)),u.host!==PS&&u.host!==f&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!Do(m,h)&&(n._setSettings(m),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=an.MOCK_USER;else{v=$b(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new an(E)}n._authCredentials=new EO(new dI(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mu(t,wt._jsonSchema))return new wt(e,r||null,new Ce(at.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Rt("string",wt._jsonSchemaVersion),referencePath:Rt("string")};class Ms extends fl{constructor(e,t,r){super(e,t,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Ce(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function eh(n,e,...t){if(n=Bt(n),fI("collection","path",e),n instanceof Mh){const r=at.fromString(e,...t);return Cw(r),new Ms(n,null,r)}{if(!(n instanceof wt||n instanceof Ms))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return Cw(r),new Ms(n.firestore,null,r)}}function Vi(n,e,...t){if(n=Bt(n),arguments.length===1&&(e=cg.newId()),fI("doc","path",e),n instanceof Mh){const r=at.fromString(e,...t);return Sw(r),new wt(n,null,new Ce(r))}{if(!(n instanceof wt||n instanceof Ms))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return Sw(r),new wt(n.firestore,n instanceof Ms?n.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new aS(this,"async_queue_retry"),this.oc=()=>{const r=Lp();r&&me(f0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Vs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dl(e))throw e;me(f0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Bi("INTERNAL UNHANDLED ERROR: ",m0(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Rg.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&be(47125,{hc:m0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function m0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Uo extends Mh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new p0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function hM(n,e){const t=typeof n=="object"?n:IT(),r=typeof n=="string"?n:qd,o=Xm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=zb("firestore");a&&dM(o,...a)}return o}function Og(n){if(n._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fM(n),n._firestoreClient}function fM(n){var e,t,r;const o=n._freezeSettings(),a=(function(h,f,m,v){return new jO(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,RS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new aM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(Jt.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:Rt("string",ur._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Rt("string",oi._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ai(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Rt("string",ai._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^__.*__$/;class mM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class bS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ec:n})}}class Dg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return th(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kS(this.Ec)&&pM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class gM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}Dc(e,t,r,o=!1){return new Dg({Ec:e,methodName:t,bc:r,path:Yt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new gM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NS(n,e,t,r,o,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",u,r);const h=OS(r,u);let f,m;if(a.merge)f=new Wn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const E=Am(e,_,t);if(!u.contains(E))throw new pe(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);VS(v,E)||v.push(E)}f=new Wn(v),m=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=u.fieldTransforms;return new mM(new Nn(h),f,m)}class Uh extends Bu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class Vg extends Bu{_toFieldTransform(e){return new $I(e.path,new Tu)}isEqual(e){return e instanceof Vg}}class Mg extends Bu{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Cu(e.serializer,FI(e.serializer,this.Cc));return new $I(e.path,t)}isEqual(e){return e instanceof Mg&&this.Cc===e.Cc}}function yM(n,e,t,r){const o=n.Dc(1,e,t);Lg("Data must be an object, but it was:",o,r);const a=[],u=Nn.empty();Ks(r,((f,m)=>{const v=Fg(e,f,t);m=Bt(m);const _=o.gc(v);if(m instanceof Uh)a.push(v);else{const E=$u(m,_);E!=null&&(a.push(v),u.set(v,E))}}));const h=new Wn(a);return new bS(u,h,o.fieldTransforms)}function vM(n,e,t,r,o,a){const u=n.Dc(1,e,t),h=[Am(e,r,t)],f=[o];if(a.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(Am(e,a[E])),f.push(a[E+1]);const m=[],v=Nn.empty();for(let E=h.length-1;E>=0;--E)if(!VS(m,h[E])){const T=h[E];let R=f[E];R=Bt(R);const A=u.gc(T);if(R instanceof Uh)m.push(T);else{const S=$u(R,A);S!=null&&(m.push(T),v.set(T,S))}}const _=new Wn(m);return new bS(v,_,u.fieldTransforms)}function _M(n,e,t,r=!1){return $u(t,n.Dc(r?4:3,e))}function $u(n,e){if(DS(n=Bt(n)))return Lg("Unsupported field value:",e,n),OS(n,e);if(n instanceof Bu)return(function(r,o){if(!kS(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=$u(h,o.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=lt.fromDate(r);return{timestampValue:Yd(o.serializer,a)}}if(r instanceof lt){const a=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(o.serializer,a)}}if(r instanceof oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ur)return{bytesValue:YI(o.serializer,r._byteString)};if(r instanceof wt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_g(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ai)return(function(u,h){return{mapValue:{fields:{[TI]:{stringValue:II},[Gd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return gg(h.serializer,m)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${Ih(r)}`)})(n,e)}function OS(n,e){const t={};return gI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,((r,o)=>{const a=$u(o,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function DS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof oi||n instanceof ur||n instanceof wt||n instanceof Bu||n instanceof ai)}function Lg(n,e,t){if(!DS(t)||!pI(t)){const r=Ih(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Am(n,e,t){if((e=Bt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return Fg(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}const wM=new RegExp("[~\\*/\\[\\]]");function Fg(n,e,t){if(e.search(wM)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lh(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(ne.INVALID_ARGUMENT,h+n+f)}function VS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ug("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class EM extends MS{data(){return super.data()}}function Ug(n,e){return typeof e=="string"?Fg(n,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class IM extends jg{}function SM(n,e,...t){let r=[];e instanceof jg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof zg)).length,h=a.filter((f=>f instanceof jh)).length;if(u>1||u>0&&h>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class jh extends IM{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jh(e,t,r)}_apply(e){const t=this._parse(e);return LS(e._query,t),new fl(e.firestore,e.converter,pm(e._query,t))}_parse(e){const t=Fh(e.firestore);return(function(a,u,h,f,m,v,_){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){v0(_,v);const R=[];for(const A of _)R.push(y0(f,a,A));E={arrayValue:{values:R}}}else E=y0(f,a,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||v0(_,v),E=_M(h,u,_,v==="in"||v==="not-in");return xt.create(m,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function CM(n,e,t){const r=e,o=Ug("where",n);return jh._create(o,r,t)}class zg extends jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)LS(u,f),u=pm(u,f)})(e._query,t),new fl(e.firestore,e.converter,pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y0(n,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(at.fromString(t));if(!Ce.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ow(n,new Ce(r))}if(t instanceof wt)return Ow(n,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(t)}.`)}function v0(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(n,e){const t=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class AM{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ks(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Gd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((u=>It(u.doubleValue)));return new ai(a)}convertGeoPoint(e){return new oi(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ah(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=$s(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=at.fromString(e);et(nS(r),9688,{name:e});const o=new wu(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return o.isEqual(t)||Bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends MS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=No._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:Rt("string",No._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class bd extends No{data(e={}){return super.data(e)}}class Va{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new bd(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new bd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new tu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new bd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new tu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:xM(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n){n=Nr(n,wt);const e=Nr(n.firestore,Uo);return cM(Og(e),n._key).then((t=>jS(e,n,t)))}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:Rt("string",Va._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class US extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function nu(n,e,t){n=Nr(n,wt);const r=Nr(n.firestore,Uo),o=FS(n.converter,e);return Bg(r,[NS(Fh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Or.none())])}function Rm(n,e,t,...r){n=Nr(n,wt);const o=Nr(n.firestore,Uo),a=Fh(o);let u;return u=typeof(e=Bt(e))=="string"||e instanceof Lh?vM(a,"updateDoc",n._key,e,t,r):yM(a,"updateDoc",n._key,e),Bg(o,[u.toMutation(n._key,Or.exists(!0))])}function Pm(n,e){const t=Nr(n.firestore,Uo),r=Vi(n),o=FS(n.converter,e);return Bg(t,[NS(Fh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then((()=>r))}function _0(n,...e){var t,r,o;n=Bt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||g0(e[u])||(a=e[u++]);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(g0(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(o=_.complete)===null||o===void 0?void 0:o.bind(_)}let f,m,v;if(n instanceof wt)m=Nr(n.firestore,Uo),v=xh(n._key.path),f={next:_=>{e[u]&&e[u](jS(m,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Nr(n,fl);m=Nr(_.firestore,Uo),v=_._query;const E=new US(m);f={next:T=>{e[u]&&e[u](new Va(m,E,_,T))},error:e[u+1],complete:e[u+2]},TM(n._query)}return(function(E,T,R,A){const S=new AS(A),j=new yS(T,S,R);return E.asyncQueue.enqueueAndForget((async()=>mS(await Cm(E),j))),()=>{S.Ou(),E.asyncQueue.enqueueAndForget((async()=>gS(await Cm(E),j)))}})(Og(m),v,h,f)}function Bg(n,e){return(function(r,o){const a=new Vs;return r.asyncQueue.enqueueAndForget((async()=>JV(await uM(r),o,a))),a.promise})(Og(n),e)}function jS(n,e,t){const r=t.docs.get(e._key),o=new US(n);return new No(n,o,e._key,r,new tu(t.hasPendingWrites,t.fromCache),e.converter)}function nh(){return new Vg("serverTimestamp")}function bm(n){return new Mg("increment",n)}(function(e,t=!0){(function(o){ul=o})(al),Ka(new Vo("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Uo(new TO(r.getProvider("auth-internal")),new CO(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(m.options.projectId,v)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Os(_w,ww,e),Os(_w,ww,"esm2017")})();const RM={apiKey:"AIzaSyCMYrPBDKa44vMseGWHb8TGgek2_Mi2wIw",authDomain:"reward-coins-app-a9af0.firebaseapp.com",projectId:"reward-coins-app-a9af0",storageBucket:"reward-coins-app-a9af0.firebasestorage.app",messagingSenderId:"590301179268",appId:"1:590301179268:web:8ba2138b990f0893f441d1"},zS=TT(RM),Ma=nI(zS),PM=new Di,lr=hM(zS);function bM(){return S2(Ma,PM).then(n=>{var e;return console.log(" Firebase Auth Success!",(e=n.user)==null?void 0:e.email),n}).catch(n=>{throw console.error(" Firebase Auth Error:",n),n})}function kM(){const[n,e]=N.useState(0),[t,r]=N.useState(!1);N.useEffect(()=>{(async()=>{var E;const h=Ma.currentUser;if(!h)return;const f=Vi(lr,"users",h.email),m=await xm(f);m.exists()?e(m.data().coins||0):(await nu(f,{coins:0}),e(0));const v=Vi(lr,"checkins",h.email),_=await xm(v);if(_.exists()){const T=(E=_.data().lastCheckIn)==null?void 0:E.toDate(),R=new Date;!T||T.toDateString()!==R.toDateString()?r(!0):r(!1)}else r(!0)})()},[]);const o=async()=>{const u=Ma.currentUser;if(!u)return;const h=Vi(lr,"users",u.email);await Rm(h,{coins:bm(50)}).catch(async()=>{await nu(h,{coins:50})});const f=Vi(lr,"checkins",u.email);await nu(f,{lastCheckIn:lt.now()}),await Pm(eh(lr,"coins"),{userEmail:u.email,title:"Daily Check-in",coins:50,earnedAt:nh()}),e(n+50),r(!1),alert(" Daily Check-in successful! +50 coins")},a=async()=>{const u=Ma.currentUser;if(!u)return;const h=5,f=Vi(lr,"users",u.email);await Rm(f,{coins:bm(h)}).catch(async()=>{await nu(f,{coins:h})}),await Pm(eh(lr,"coins"),{userEmail:u.email,title:"Watched Ad",coins:h,earnedAt:nh()}),e(n+h),alert(` You earned +${h} coins from watching ad!`)};return $.jsxs("div",{className:"p-4 text-center",children:[$.jsx("h2",{className:"text-xl font-bold",children:"Welcome to Reward App"}),$.jsxs("p",{className:"mt-2",children:["Your Coins: ",n]}),t?$.jsx("button",{onClick:o,className:"mt-4 bg-green-600 text-white px-4 py-2 rounded",children:"Daily Check-in"}):$.jsx("p",{className:"mt-4 text-gray-500",children:" Already checked in today"}),$.jsx("button",{onClick:a,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded",children:"Watch Ad (+5 coins)"})]})}const NM=()=>{const[n,e]=N.useState(0),[t,r]=N.useState(""),[o,a]=N.useState([]);N.useEffect(()=>{const h=Ma.currentUser;if(!h)return;const f=Vi(lr,"users",h.email),m=_0(f,E=>{E.exists()&&e(E.data().coins||0)}),v=SM(eh(lr,"redeemRequests"),CM("userEmail","==",h.email)),_=_0(v,E=>{const T=[];E.forEach(R=>{T.push(R.data())}),a(T)});return()=>{m(),_()}},[]);const u=async()=>{const h=Ma.currentUser;if(!h)return;const f=parseInt(t);if(f>n){alert("Not enough coins to redeem.");return}const m=Vi(lr,"users",h.email);await Rm(m,{coins:bm(-f)}),await Pm(eh(lr,"redeemRequests"),{userEmail:h.email,userName:h.displayName||"User",coinsSpent:f,reward:"Reward Pending",status:"pending",requestedAt:nh()}),r(""),alert("Redeem request submitted!")};return $.jsxs("div",{children:[$.jsx("h2",{children:"Redeem Coins"}),$.jsxs("p",{children:["Available Coins: ",n]}),$.jsx("input",{type:"number",value:t,onChange:h=>r(h.target.value),placeholder:"Enter coins to redeem"}),$.jsx("button",{onClick:u,children:"Redeem"}),$.jsx("h3",{children:"Redeem History"}),$.jsx("ul",{children:o.map((h,f)=>$.jsxs("li",{children:[h.coinsSpent," coins - ",h.status]},f))})]})},OM=aE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),BS=N.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},a)=>{const u=r?aC:"button";return $.jsx(u,{className:Xt(OM({variant:e,size:t,className:n})),ref:a,...o})});BS.displayName="Button";const $S=N.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Xt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));$S.displayName="Card";const DM=N.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Xt("flex flex-col space-y-1.5 p-6",n),...e}));DM.displayName="CardHeader";const VM=N.forwardRef(({className:n,...e},t)=>$.jsx("h3",{ref:t,className:Xt("text-2xl font-semibold leading-none tracking-tight",n),...e}));VM.displayName="CardTitle";const MM=N.forwardRef(({className:n,...e},t)=>$.jsx("p",{ref:t,className:Xt("text-sm text-muted-foreground",n),...e}));MM.displayName="CardDescription";const HS=N.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Xt("p-6 pt-0",n),...e}));HS.displayName="CardContent";const LM=N.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Xt("flex items-center p-6 pt-0",n),...e}));LM.displayName="CardFooter";const FM=()=>$.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[$.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92..."}),$.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57..."}),$.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09..."}),$.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15..."})]});function UM({onLogin:n}){const[e,t]=N.useState(!1),{toast:r}=b0(),o=async u=>{try{const h=Vi(lr,"users",u.email);(await xm(h)).exists()?console.log(" Welcome Back"):(await nu(h,{name:u.name,email:u.email,picture:u.picture,coins:0,createdAt:nh()}),console.log(" Welcome"))}catch(h){console.error(" An Error Occurred:",h)}},a=async()=>{t(!0);try{const h=(await bM()).user,f={name:h.displayName||"User",email:h.email||"",picture:h.photoURL||"/placeholder.svg"};await o(f),n(f),r({title:"Welcome!",description:`Successfully signed in as ${f.name}`})}catch(u){console.error("Sign-in error:",u);let h="Failed to sign in with Google";u.code==="auth/operation-not-allowed"?h="Google Sign-In is disabled in Firebase. Check console for setup instructions.":u.code==="auth/network-request-failed"?h="Network error. Please check your connection and try again.":u.code==="auth/unauthorized-domain"?h="This domain is not authorized. Please contact support.":u.message&&(h=u.message),r({title:"Sign-in Failed",description:h,variant:"destructive"})}finally{t(!1)}};return $.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:$.jsxs("div",{className:"w-full max-w-md space-y-8",children:[$.jsxs("div",{className:"text-center space-y-4",children:[$.jsx("div",{className:"flex justify-center",children:$.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:$.jsx(d_,{className:"w-10 h-10 text-white"})})}),$.jsxs("div",{className:"space-y-2",children:[$.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Welcome to"}),$.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Reward Coins App"}),$.jsx("p",{className:"text-slate-600 text-lg",children:"Sign in to continue and earn rewards"})]})]}),$.jsx($S,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:$.jsxs(HS,{className:"p-8 space-y-6",children:[$.jsx(BS,{onClick:a,disabled:e,className:"w-full h-14 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50",size:"lg",children:$.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[$.jsx(FM,{}),$.jsx("span",{className:"text-lg font-medium",children:e?"Signing in...":"Sign in with Google"})]})}),$.jsx("div",{className:"text-center space-y-3",children:$.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"We use your Google account to sync your rewards and provide a secure experience."})})]})}),$.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[$.jsxs("div",{className:"space-y-2",children:[$.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:$.jsx(d_,{className:"w-4 h-4 text-primary"})}),$.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Earn Coins"})]}),$.jsxs("div",{className:"space-y-2",children:[$.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:$.jsx("span",{className:"text-primary text-xs font-bold",children:""})}),$.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Redeem Rewards"})]}),$.jsxs("div",{className:"space-y-2",children:[$.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:$.jsx("span",{className:"text-primary text-xs font-bold",children:""})}),$.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Track History"})]})]})]})})}const jM=()=>{const n=vh();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),$.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:$.jsxs("div",{className:"text-center",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),$.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),$.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},zM=new kP,BM=()=>{const{state:n,login:e}=yO();return n.isAuthenticated?$.jsx(Nb,{children:$.jsxs(Ab,{children:[$.jsx(wd,{path:"/",element:$.jsx(kM,{})}),$.jsx(wd,{path:"/redeem",element:$.jsx(NM,{})}),$.jsx(wd,{path:"*",element:$.jsx(jM,{})})]})}):$.jsx(UM,{onLogin:e})},$M=()=>$.jsx(OP,{client:zM,children:$.jsx(gO,{children:$.jsxs(oP,{children:[$.jsx(zA,{}),$.jsx(Ex,{}),$.jsx(Pb,{children:$.jsx(BM,{})})]})})});$A.createRoot(document.getElementById("root")).render($.jsx($M,{}));
